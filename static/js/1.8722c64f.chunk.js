(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{5075:function(t,e,n){"use strict";var a=n(26),i=n(1),o=n.n(i),r=n(7),s=n(5),c=n(5163),l=n.n(c),u=n(29),p=n(5174);e.a=function t(e){var n=this;Object(s.a)(this,t),this.props={},this.functionsUtil=null,this.setProps=function(t){n.props=t,n.functionsUtil?n.functionsUtil.setProps(n.props):n.functionsUtil=new u.a(n.props)},this.getTotalSupply=Object(r.a)(o.a.mark(function t(){var e,a,i,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="getTotalSupply",!(a=n.functionsUtil.getCachedDataWithLocalStorage(e))||n.functionsUtil.BNify(a).isNaN()){t.next=4;break}return t.abrupt("return",a);case 4:return i=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),t.next=7,n.functionsUtil.genericContractCall(i,"totalSupply");case 7:if(!(r=t.sent)){t.next=11;break}return r=n.functionsUtil.fixTokenDecimals(r,18),t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(e,r,null));case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}},t,this)})),this.getTokensBalance=Object(r.a)(o.a.mark(function t(){var e,a,i,r,s,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=(e=c.length>0&&void 0!==c[0]?c[0]:null)||n.props.account)){t.next=13;break}if(a="getTokensBalance_".concat(e),!(i=n.functionsUtil.getCachedDataWithLocalStorage(a))||n.functionsUtil.BNify(i).isNaN()){t.next=7;break}return t.abrupt("return",i);case 7:return r=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),t.next=10,n.functionsUtil.getContractBalance(r,e);case 10:if(!(s=t.sent)||n.functionsUtil.BNify(s).isNaN()){t.next=13;break}return t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(a,n.functionsUtil.BNify(s)));case 13:return t.abrupt("return",null);case 14:case"end":return t.stop()}},t,this)})),this.getVestingContract=Object(r.a)(o.a.mark(function t(){var e,a,i=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(e=i.length>0&&void 0!==i[0]?i[0]:null)||n.props.account,t.next=4,n.functionsUtil.genericContractCall("VesterFactory","vestingContracts",[e]);case 4:if(a=t.sent,0!==parseInt(a)){t.next=7;break}return t.abrupt("return",null);case 7:return t.next=9,n.props.initContract("VestingContract",a,p);case 9:return t.abrupt("return",a);case 10:case"end":return t.stop()}},t,this)})),this.delegateVesting=Object(r.a)(o.a.mark(function t(){var e,a,i,r,s=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:null,a=s.length>1&&void 0!==s[1]?s[1]:null,i=s.length>2&&void 0!==s[2]?s[2]:null,r=s.length>3&&void 0!==s[3]?s[3]:null,e=e||n.props.account,t.next=7,n.getVestingContract(e);case 7:if(!t.sent){t.next=12;break}return t.next=11,n.functionsUtil.contractMethodSendWrapper("VestingContract","setDelegate",[a],i,r);case 11:return t.abrupt("return",t.sent);case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}},t,this)})),this.getVestingAmount=Object(r.a)(o.a.mark(function t(){var e,a,i=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(e=i.length>0&&void 0!==i[0]?i[0]:null)||n.props.account,t.next=4,n.getVestingContract(e);case 4:if(!t.sent){t.next=11;break}return t.next=8,n.functionsUtil.genericContractCall("VestingContract","vestingAmount");case 8:if(!(a=t.sent)){t.next=11;break}return t.abrupt("return",n.functionsUtil.BNify(a));case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}},t,this)})),this.getCurrentDelegate=Object(r.a)(o.a.mark(function t(){var e,a,i,r,s,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=(e=c.length>0&&void 0!==c[0]?c[0]:null)||n.props.account)){t.next=12;break}if(a="getCurrentDelegate_".concat(e),!(i=n.functionsUtil.getCachedDataWithLocalStorage(a))){t.next=7;break}return t.abrupt("return",i);case 7:return r=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),t.next=10,n.functionsUtil.genericContractCall(r,"delegates",[e]);case 10:return s=t.sent,t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(a,s));case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}},t,this)})),this.getCurrentVotes=Object(r.a)(o.a.mark(function t(){var e,a,i,r,s,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=(e=c.length>0&&void 0!==c[0]?c[0]:null)||n.props.account)){t.next=13;break}if(a="getCurrentVotes_".concat(e),!(i=n.functionsUtil.getCachedDataWithLocalStorage(a))){t.next=7;break}return t.abrupt("return",i);case 7:return r=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),t.next=10,n.functionsUtil.genericContractCall(r,"getCurrentVotes",[e]);case 10:if(!(s=t.sent)||n.functionsUtil.BNify(s).isNaN()){t.next=13;break}return t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(a,n.functionsUtil.BNify(s)));case 13:return t.abrupt("return",null);case 14:case"end":return t.stop()}},t,this)})),this.getVotingPeriod=Object(r.a)(o.a.mark(function t(){var e,a,i,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="votingPeriod",!(a=n.functionsUtil.getCachedDataWithLocalStorage(e))||n.functionsUtil.BNify(a).isNaN()){t.next=4;break}return t.abrupt("return",a);case 4:return i=n.functionsUtil.getGlobalConfig(["governance","contracts","governance"]),t.next=7,n.functionsUtil.genericContractCall(i,"votingPeriod");case 7:if(!(r=t.sent)){t.next=11;break}return r=n.functionsUtil.BNify(r),t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(e,r,null));case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}},t,this)})),this.getTimelockDelay=Object(r.a)(o.a.mark(function t(){var e,a,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="getTimelockDelay",!(a=n.functionsUtil.getCachedDataWithLocalStorage(e))||n.functionsUtil.BNify(a).isNaN()){t.next=4;break}return t.abrupt("return",a);case 4:return t.next=6,n.functionsUtil.genericContractCall("Timelock","delay");case 6:if(!(i=t.sent)){t.next=10;break}return i=n.functionsUtil.BNify(i),t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(e,i,null));case 10:return t.abrupt("return",null);case 11:case"end":return t.stop()}},t,this)})),this.queueProposal=function(){var t=Object(r.a)(o.a.mark(function t(e){var a,i,r,s=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:null,i=s.length>2&&void 0!==s[2]?s[2]:null,r=n.functionsUtil.getGlobalConfig(["governance","contracts","governance"]),t.next=5,n.functionsUtil.contractMethodSendWrapper(r,"queue",[n.functionsUtil.toBN(e)],a,i);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),this.executeProposal=function(){var t=Object(r.a)(o.a.mark(function t(e){var a,i,r,s=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:null,i=s.length>2&&void 0!==s[2]?s[2]:null,r=n.functionsUtil.getGlobalConfig(["governance","contracts","governance"]),t.next=5,n.functionsUtil.contractMethodSendWrapper(r,"execute",[n.functionsUtil.toBN(e)],a,i);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),this.proposeAndVoteFor=function(){var t=Object(r.a)(o.a.mark(function t(e,a,i,r,s){var c,u,p,h;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=new l.a(n.props.web3,"0x741A4dCaD4f72B83bE9103a383911d78362611cf"),u=n.functionsUtil.getGlobalConfig(["governance","contracts","governance"]),p=n.functionsUtil.getContractByName(u),h=[{to:p._address,method:p.methods.propose,args:[e,a,i,r,s]},{to:p._address,method:p.methods.castVote,args:[n.functionsUtil.BNify(3),!0]}],c(h);case 5:case"end":return t.stop()}},t,this)}));return function(e,n,a,i,o){return t.apply(this,arguments)}}(),this.propose=function(){var t=Object(r.a)(o.a.mark(function t(e,a,i,r,s){var c,l,u,p=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=p.length>5&&void 0!==p[5]?p[5]:null,l=p.length>6&&void 0!==p[6]?p[6]:null,u=n.functionsUtil.getGlobalConfig(["governance","contracts","governance"]),t.next=5,n.props.contractMethodSendWrapper(u,"propose",[e,a,i,r,s],null,c,l);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(e,n,a,i,o){return t.apply(this,arguments)}}(),this.castVote=function(){var t=Object(r.a)(o.a.mark(function t(e,a){var i,r,s,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>2&&void 0!==c[2]?c[2]:null,r=c.length>3&&void 0!==c[3]?c[3]:null,e=n.functionsUtil.toBN(e),s=n.functionsUtil.getGlobalConfig(["governance","contracts","governance"]),t.next=6,n.props.contractMethodSendWrapper(s,"castVote",[e,a],null,i,r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),this.setDelegate=function(){var t=Object(r.a)(o.a.mark(function t(e){var a,i,r,s=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:null,i=s.length>2&&void 0!==s[2]?s[2]:null,r=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),t.next=5,n.props.contractMethodSendWrapper(r,"delegate",[e],null,a,i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),this.getDelegatesChanges=Object(r.a)(o.a.mark(function t(){var e,a,i,r,s,c,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.props.web3.eth.getBlockNumber();case 2:for(e=t.sent,a=[],i=n.functionsUtil.getGlobalConfig(["governance","startBlock"]),r=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),s=i;s<e;s+=1e5)c=Math.min(s+1e5,e),a.push(n.functionsUtil.getContractPastEvents(r,"DelegateChanged",{fromBlock:s,toBlock:c}));return t.next=10,Promise.all(a);case 10:return l=t.sent,t.abrupt("return",l.reduce(function(t,e){return t=t.concat(e)},[]));case 12:case"end":return t.stop()}},t,this)})),this.getDelegatesVotesChanges=Object(r.a)(o.a.mark(function t(){var e,a,i,r,s,c,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.props.web3.eth.getBlockNumber();case 2:for(e=t.sent,a=[],i=n.functionsUtil.getGlobalConfig(["governance","startBlock"]),r=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),s=i;s<e;s+=1e5)c=Math.min(s+1e5,e),a.push(n.functionsUtil.getContractPastEvents(r,"DelegateVotesChanged",{fromBlock:s,toBlock:c}));return t.next=10,Promise.all(a);case 10:return l=t.sent,t.abrupt("return",l.reduce(function(t,e){return t=t.concat(e)},[]));case 12:case"end":return t.stop()}},t,this)})),this.getDelegates=Object(r.a)(o.a.mark(function t(){var e,i,r,s,c,l,u,p,h,f,m=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=m.length>0&&void 0!==m[0]?m[0]:null,i="getDelegates",!(r=n.functionsUtil.getCachedDataWithLocalStorage(i))){t.next=5;break}return t.abrupt("return",r);case 5:return t.next=7,Promise.all([n.getVotes(),n.getTotalSupply(),n.getDelegatesVotesChanges()]);case 7:return s=t.sent,c=Object(a.a)(s,3),l=c[0],u=c[1],p=c[2],h={},p.forEach(function(t){var e=t.returnValues,n=e.delegate,a=e.newBalance;h[n]=a}),f=[],Object.keys(h).forEach(function(t){var e=+h[t];0!==e&&f.push({votes:e/1e18,delegate:t})}),f.sort(function(t,e){return t.votes<e.votes?1:-1}),f.forEach(function(t,e){t.rank=e+1,t.votes=t.votes.toFixed(6),t.vote_weight=(t.votes/parseFloat(u)*100).toFixed(4)+"%",t.proposals=l.filter(function(e){return e.voter&&t.delegate&&e.voter.toLowerCase()===t.delegate.toLowerCase()}).length}),n.functionsUtil.setCachedDataWithLocalStorage(i,f),null!==e&&(f=f.splice(0,e)),t.abrupt("return",f);case 21:case"end":return t.stop()}},t,this)})),this.getProposalParams=Object(r.a)(o.a.mark(function t(){var e,i,r,s,c,l,u,p;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="getProposalParams",!(i=n.functionsUtil.getCachedData(e))){t.next=4;break}return t.abrupt("return",i);case 4:return r=n.functionsUtil.getGlobalConfig(["governance","contracts","governance"]),t.next=7,Promise.all([n.functionsUtil.genericContractCall(r,"proposalThreshold"),n.functionsUtil.genericContractCall(r,"proposalMaxOperations")]);case 7:return s=t.sent,c=Object(a.a)(s,2),l=c[0],u=c[1],l&&(l=n.functionsUtil.BNify(l)),p={proposalThreshold:l,proposalMaxOperations:u},t.abrupt("return",n.functionsUtil.setCachedData(e,p));case 14:case"end":return t.stop()}},t,this)})),this.getVotes=Object(r.a)(o.a.mark(function t(){var e,a,i,r,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="getVotes",!(a=n.functionsUtil.getCachedData(e))){t.next=4;break}return t.abrupt("return",a);case 4:return i=n.functionsUtil.getGlobalConfig(["governance","startBlock"]),r=n.functionsUtil.getGlobalConfig(["governance","contracts","governance"]),t.next=8,n.functionsUtil.getContractPastEvents(r,"VoteCast",{fromBlock:i,toBlock:"latest"});case 8:return(s=t.sent)&&(s=s.map(function(t){var e=t.returnValues,n=e.voter;return{votes:e.votes,voter:n,support:e.support,proposalId:e.proposalId}})),t.abrupt("return",n.functionsUtil.setCachedData(e,s));case 11:case"end":return t.stop()}},t,this)})),this.getProposals=Object(r.a)(o.a.mark(function t(){var e,i,s,c,l,u,p,h,f,m,d,g,v,b,k,w,x,y,C,U,E,O,D,j=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=j.length>0&&void 0!==j[0]?j[0]:null,i=j.length>1&&void 0!==j[1]?j[1]:null,s=j.length>2&&void 0!==j[2]?j[2]:null,c="getProposals",!(l=n.functionsUtil.getCachedDataWithLocalStorage(c))){t.next=10;break}return i&&(l=l.filter(function(t){return t&&t.state&&t.state.toLowerCase()===i.toLowerCase()})),e&&(l=l.filter(function(t){return t&&t.votes.find(function(t){return t.voter&&t.voter.toLowerCase()===e.toLowerCase()})})),s&&(l=l.filter(function(t){return parseInt(t.startBlock)>=parseInt(s)})),t.abrupt("return",l);case 10:return u=function(t){return["Pending","Active","Canceled","Defeated","Succeeded","Queued","Expired","Executed"][t]},p=n.functionsUtil.getGlobalConfig(["governance","contracts","governance"]),t.next=14,n.functionsUtil.genericContractCall(p,"proposalCount");case 14:if(h=t.sent){t.next=17;break}return t.abrupt("return",[]);case 17:for(f=[],m=[],d=Array.from(Array(parseInt(h)),function(t,e){return e+1}),g=0;g<d.length;g++)v=d[g],f.push(n.functionsUtil.genericContractCall(p,"proposals",[v])),m.push(n.functionsUtil.genericContractCall(p,"state",[v]));return b=n.functionsUtil.getGlobalConfig(["governance","startBlock"]),t.next=24,Promise.all([n.getVotes(),Promise.all(f),Promise.all(m),n.functionsUtil.getContractPastEvents(p,"ProposalQueued",{fromBlock:b,toBlock:"latest"}),n.functionsUtil.getContractPastEvents(p,"ProposalCreated",{fromBlock:b,toBlock:"latest"}),n.functionsUtil.getContractPastEvents(p,"ProposalCanceled",{fromBlock:b,toBlock:"latest"}),n.functionsUtil.getContractPastEvents(p,"ProposalExecuted",{fromBlock:b,toBlock:"latest"})]);case 24:if(k=t.sent,w=Object(a.a)(k,7),x=w[0],y=w[1],C=w[2],U=w[3],E=w[4],O=w[5],D=w[6],y){t.next=35;break}return t.abrupt("return",!1);case 35:return y.reverse(),C.reverse(),U.reverse(),E.reverse(),O.reverse(),D.reverse(),t.next=43,n.functionsUtil.asyncForEach(E,function(){var t=Object(r.a)(o.a.mark(function t(e,i){var r,s,c,l,p,h,f,m,d,g,v,b,k,w,E,j,S,M,I,N,T,B,P,_,G,W;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=y[i])&&r.id){t.next=3;break}return t.abrupt("return");case 3:return s=parseInt(r.id),c=O.find(function(t){return parseInt(t.returnValues.id)===s}),l=D.find(function(t){return parseInt(t.returnValues.id)===s}),p=U.find(function(t){return parseInt(t.returnValues.id)===s}),t.next=9,Promise.all([r.endBlock?n.functionsUtil.getBlockInfo(r.endBlock):null,p?n.functionsUtil.getBlockInfo(p.blockNumber):null,e?n.functionsUtil.getBlockInfo(e.blockNumber):null,c?n.functionsUtil.getBlockInfo(c.blockNumber):null,l?n.functionsUtil.getBlockInfo(l.blockNumber):null]);case 9:h=t.sent,f=Object(a.a)(h,5),m=f[0],d=f[1],g=f[2],v=f[3],b=f[4],r.states=[],k={state:"Pending",blockNumber:e.blockNumber,end_time:g.timestamp,start_time:g.timestamp,trx_hash:e.transactionHash},r.states.push(k),w={end_time:null,trx_hash:null,state:"Active",blockNumber:e.blockNumber,start_time:k.start_time},r.states.push(w),c?(E={end_time:null,state:"Canceled",blockNumber:c.blockNumber,start_time:v.timestamp,trx_hash:c.transactionHash},r.states[r.states.length-1].end_time=v.timestamp,r.states.push(E)):(p&&(j={end_time:null,trx_hash:null,state:"Succeeded",blockNumber:p.blockNumber,start_time:d.timestamp},S={end_time:null,state:"Queued",blockNumber:p.blockNumber,trx_hash:p.transactionHash,start_time:d.timestamp},r.states[r.states.length-1].end_time=d.timestamp,r.states.push(j),r.states.push(S)),l&&(M={end_time:null,state:"Executed",blockNumber:l.blockNumber,start_time:b.timestamp,trx_hash:l.transactionHash},r.states[r.states.length-1].end_time=b.timestamp,r.states.push(M))),r.state=u(C[i]),r.states.find(function(t){return t.state===r.state})||(I={state:r.state,end_time:null,trx_hash:null,blockNumber:r.endBlock,start_time:m.timestamp},r.states[r.states.length-1].end_time=m.timestamp,r.states.push(I)),r.votes=x.filter(function(t){return parseInt(t.proposalId)===s}),N=e.returnValues,T=N.description,B=N.signatures,P=N.targets,_=N.values,G=N.calldatas,r.timestamp=g?g.timestamp:null,r.title=T.split(/# |\n|\u21b5/g)[0].replace(/^#/,"")||"Untitled",r.description=T.split(/\n|\u21b5/g),r.description.shift(),r.description=r.description.join("\n"),r.description=r.description.replace(/\n/g,"<br />"),(W=n.functionsUtil.getGlobalConfig(["governance","proposals",s]))&&Object.keys(W).forEach(function(t){r[t]=W[t]}),y[i]={eta:r.eta,actions:{values:_,targets:P,calldatas:G,signatures:B},id:s,title:r.title,state:r.state,votes:r.votes,states:r.states,executed:r.executed,endBlock:r.endBlock,canceled:r.canceled,forVotes:r.forVotes,proposer:r.proposer,timestamp:r.timestamp,startBlock:r.startBlock,description:r.description,againstVotes:r.againstVotes};case 36:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}());case 43:return n.functionsUtil.setCachedDataWithLocalStorage(c,y,3600),i&&(y=y.filter(function(t){return t&&t.state&&t.state.toLowerCase()===i.toLowerCase()})),e&&(y=y.filter(function(t){return t&&t.votes.find(function(t){return t.voter&&t.voter.toLowerCase()===e.toLowerCase()})})),s&&(y=y.filter(function(t){return parseInt(t.startBlock)>=parseInt(s)})),t.abrupt("return",y);case 48:case"end":return t.stop()}},t,this)})),this.setProps(e)}},5080:function(t,e,n){"use strict";var a=n(1),i=n.n(a),o=n(7),r=n(5),s=n(6),c=n(10),l=n(8),u=n(9),p=n(0),h=n.n(p),f=n(29),m=n(34),d=n(2),g=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).functionsUtil=null,n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new f.a(this.props)}},{key:"componentWillMount",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(o.a)(i.a.mark(function t(e,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils();case 1:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){return h.a.createElement(m.a,{cardProps:{p:3,minHeight:this.props.minHeight?this.props.minHeight:["130px","153px"]}},h.a.createElement(d.h,{width:1,alignItems:"flex-start",flexDirection:"column",justifyContent:"flex-start"},h.a.createElement(d.h,{alignItems:"flex-start",minHeight:this.props.titleMinHeight?this.props.titleMinHeight:["auto","60px"]},h.a.createElement(d.j.h4,{mb:[3,0],fontWeight:4,fontSize:[2,3],textAlign:"left",color:"dark-gray",lineHeight:"initial"},this.props.title)),"undefined"!==typeof this.props.value&&null!==this.props.value&&this.props.value.toString().length>0&&h.a.createElement(d.u,Object.assign({lineHeight:1,fontSize:[4,5],fontWeight:[3,4],color:"statValue"},this.props.valueProps),this.props.value),this.props.children?this.props.children:null,"undefined"!==typeof this.props.label&&null!==this.props.label&&this.props.label.toString().length>0&&h.a.createElement(d.h,{mt:[3,2],alignItems:"center",flexDirection:"row"},h.a.createElement(d.u,{fontSize:1,fontWeight:3,color:"legend"},this.props.label),this.props.labelTooltip&&this.props.labelTooltip.length>0&&h.a.createElement(d.y,{placement:"top",message:this.props.labelTooltip},h.a.createElement(d.k,{ml:2,name:"Info",size:"1em",color:"cellTitle"})))))}}]),e}(p.Component);e.a=g},5085:function(t,e,n){"use strict";var a=n(1),i=n.n(a),o=n(7),r=n(5),s=n(6),c=n(10),l=n(8),u=n(9),p=n(85),h=n(0),f=n.n(h),m=n(83),d=n(185),g=n(29),v=n(2),b=n(5086),k=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(s)))).state={logout:!1,buyModalOpened:!1},n.functionsUtil=null,n.setConnector=function(){var t=Object(o.a)(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.functionsUtil.sendGoogleAnalyticsEvent({eventCategory:"Connect",eventAction:"logout"}),"function"===typeof n.props.setConnector&&n.props.setConnector(e),t.next=4,n.props.context.unsetConnector();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"logout",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({logout:!0}),this.props.logout(),t.next=4,this.setConnector("Infura");case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new g.a(this.props)}},{key:"setGovModal",value:function(t){this.setState({govModalOpened:t})}},{key:"setBuyModalOpened",value:function(t){this.setState({buyModalOpened:t})}},{key:"componentWillMount",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(o.a)(i.a.mark(function t(e,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils();case 1:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;if(!this.props.menu.length)return null;var e=this.props.menu.filter(function(e){var n=void 0===e.visible||e.visible,a=void 0===e.mobile||e.mobile;return n&&(!t.props.isMobile||a)});if(!e.length)return null;var n="dark"===this.props.themeMode,a=this.functionsUtil.getGlobalConfig(["dashboard","theme","darkModeEnabled"]);return f.a.createElement(v.h,{p:0,height:"100%",flexDirection:"column"},f.a.createElement(v.h,{p:3,mb:3,flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},f.a.createElement(d.b,{to:"/"},f.a.createElement(v.l,{height:"42px",position:"relative",src:this.functionsUtil.checkUrlOrigin()?n?"images/logo-dark.svg":"images/logo-gradient.svg":n?"images/logo-white-beta.png":"images/logo-gradient-beta.png"}))),f.a.createElement(v.h,{width:1},f.a.createElement(m.a,Object.assign({},this.props,{buttonProps:{mb:3,style:{display:"flex",paddingLeft:16,justifyContent:"flex-start"}},handleClick:this.props.account?function(e){return t.logout()}:this.props.connectAndValidateAccount}),f.a.createElement(v.h,{width:1,alignItems:"center",justifyContent:"flex-start"},this.props.account?f.a.createElement(v.k,{mx:2,size:"1.4em",color:"white",align:"center",name:"ExitToApp"}):f.a.createElement(v.l,{mx:2,align:"center",height:"1.6em",src:"images/sidebar/plug_white.svg"}),f.a.createElement(v.u,{ml:1,fontWeight:3,color:"white",fontSize:[1,2],alignContent:"center",justifyContent:"center"},this.props.account?"Logout":"Connect")))),this.props.isMobile&&f.a.createElement(v.h,{mb:3,width:"100%",alignItems:"stretch",flexDirection:"column",justifyContent:"space-between"},f.a.createElement(b.a,this.props)),e.map(function(e,a){var i=e.isExternalLink?p.a:d.b,o=n&&e.imageDark?e.imageDark:e.image,r=n&&e.imageInactiveDark?e.imageInactiveDark:e.imageInactive;return f.a.createElement(v.b,{width:"auto",my:[2,"8px"],key:"menu-".concat(a)},f.a.createElement(i,{to:e.route,href:e.route,onClick:t.props.closeMenu,style:{textDecoration:"none"}},f.a.createElement(v.h,{py:2,px:3,borderRadius:2,flexDirection:"row",alignItems:"center",border:e.selected?2:null,backgroundColor:e.selected?"menuHover":"transparent"},f.a.createElement(v.h,{py:1,width:1,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},e.image?f.a.createElement(v.l,{mr:3,ml:2,mb:0,align:"center",height:"1.6em",src:e.selected?o:r}):e.icon&&f.a.createElement(v.k,{name:e.icon,color:e.selected?"menuIconActive":n?"white":"dark-gray",mr:3,ml:2,mb:0,size:"1.6em"}),f.a.createElement(v.u,{fontSize:2,fontWeight:3,color:"copyColor",textAlign:"center",style:{whiteSpace:"nowrap"}},e.label)))))}),a&&f.a.createElement(v.h,{my:2,width:"auto",height:"100%",flexDirection:"column",justifyContent:"flex-end"},f.a.createElement(v.n,{style:{textDecoration:"none"},onClick:function(e){return t.props.setThemeMode("light"===t.props.themeMode?"dark":"light")}},f.a.createElement(v.h,{p:2,alignItems:"center",flexDirection:"row",justifyContent:"flex-end"},f.a.createElement(v.k,{mr:2,ml:2,size:"1.4em",align:"center",color:"copyColor",name:"Brightness2"}),f.a.createElement(v.h,{px:"0.2em",width:"3.4em",height:"1.6em",alignItems:"center",borderRadius:"1.6em",backgroundColor:"cellText",justifyContent:"light"===this.props.themeMode?"flex-end":"flex-start"},f.a.createElement(v.b,{width:"1.3em",height:"1.3em",borderRadius:"1.3em",backgroundColor:"copyColor"})),f.a.createElement(v.k,{ml:2,size:"1.4em",align:"center",name:"WbSunny",color:"copyColor"})))))}}]),e}(h.Component);e.a=k},5086:function(t,e,n){"use strict";var a=n(1),i=n.n(a),o=n(7),r=n(5),s=n(6),c=n(10),l=n(8),u=n(9),p=n(0),h=n.n(p),f=n(29),m=n(34),d=n(2),g=n(139),v=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).state={activeNetworks:[],defaultNetwork:null},n.functionsUtil=null,n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new f.a(this.props)}},{key:"componentWillMount",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),this.loadNetworks();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadNetworks",value:function(){if(!this.props.networkInitialized)return!1;var t=this.functionsUtil.getGlobalConfig(["network","availableNetworks"]),e=this.functionsUtil.getGlobalConfig(["network","enabledNetworks"]).map(function(e){var n=t[e];return{value:e,config:n,label:n.name}}),n=this.functionsUtil.getRequiredNetwork(),a=e.find(function(t){return t.value===n.id});this.setState({defaultNetwork:a,activeNetworks:e})}},{key:"selectNetwork",value:function(t){this.props.setRequiredNetwork(t)}},{key:"componentDidUpdate",value:function(){var t=Object(o.a)(i.a.mark(function t(e,n){var a,o=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),a=!e.networkInitialized&&this.props.networkInitialized,(JSON.stringify(e.network.required)!==JSON.stringify(this.props.network.required)||a)&&this.setState({defaultNetwork:null},function(){o.loadNetworks()});case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return this.state.defaultNetwork?h.a.createElement(g.a,Object.assign({},this.props,{name:"network",isSearchable:!1,innerProps:Object.assign({px:1,py:0,height:"42px"},this.props.innerProps),customOptionProps:{px:0,pl:3,pr:0},options:this.state.activeNetworks,CustomOptionValue:function(t){var e="images/networks/".concat(t.data.config.provider,".svg");return h.a.createElement(d.h,{width:1,alignItems:"center",flexDirection:"row",justifyContent:"space-between"},h.a.createElement(d.h,{alignItems:"center"},h.a.createElement(d.l,{mr:2,src:e,width:"1.3em",height:"1.3em"}),h.a.createElement(d.u,{fontSize:2,fontWeight:3,color:"copyColor"},t.label)))},defaultValue:this.state.defaultNetwork,onChange:this.selectNetwork.bind(this),CustomValueContainer:function(e){var n=e.selectProps.value||e.data,a=n.label,i="images/networks/".concat(n.config.provider,".svg");return h.a.createElement(d.h,Object.assign({style:{flex:"1"},justifyContent:"space-between"},e.innerProps,{px:0}),h.a.createElement(d.h,Object.assign({},e.innerProps,{p:0,width:1,alignItems:"center",flexDirection:"row",style:{cursor:"pointer"},justifyContent:"flex-start"}),h.a.createElement(d.l,{mr:2,src:i,width:"1.3em",height:"1.3em"}),h.a.createElement(d.u,{fontSize:2,fontWeight:3,color:"copyColor"},a),h.a.createElement(d.b,{ml:2,width:"8px",height:"8px",borderRadius:"50%",backgroundColor:t.props.network.isCorrectNetwork?"#00b84a":"#fa0000"})))}})):h.a.createElement(m.a,Object.assign({},this.props,{cardProps:{px:[2,3],display:"flex",width:[1,"auto"],alignItems:"center",justifyContent:"center",height:this.props.innerProps&&this.props.innerProps.height||"42px"},isInteractive:!1}),h.a.createElement(d.o,{size:"20px"}))}}]),e}(p.Component);e.a=v},5095:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var a=n(0),i=n.n(a),o=n(5158);function r(){var t=arguments[0],e=Object(o.useSwipeable)({onSwiped:function(e){return t.callback(e)},delta:10,preventDefaultTouchmoveEvent:!1,trackTouch:!0,trackMouse:!1,rotationAngle:0});return i.a.createElement("div",Object.assign({},e,{style:{touchAction:"pan-x"}}),t.children)}},5096:function(t,e,n){"use strict";var a=n(1),i=n.n(a),o=n(7),r=n(5),s=n(10),c=n(8),l=n(6),u=n(9),p=n(0),h=n.n(p),f=n(59),m=n(2),d=n(29),g=n(83),v=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(s.a)(this,Object(c.a)(e).call(this,t))).state={},n.functionsUtil=null,n.componentDidUpdate=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.loadUtils();case 1:case"end":return t.stop()}},t,this)})),n.closeModal=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.props.closeModal();case 1:case"end":return t.stop()}},t,this)})),n.loadUtils(),n}return Object(u.a)(e,t),Object(l.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new d.a(this.props)}}]),Object(l.a)(e,[{key:"render",value:function(){return h.a.createElement(m.p,{isOpen:this.props.isOpen},h.a.createElement(f.a,{maxWidth:["960px","650px"],closeFunc:this.props.closeModal},h.a.createElement(f.a.Header,{pt:3,title:this.props.title}),h.a.createElement(f.a.Body,null,h.a.createElement(m.h,{width:1,flexDirection:"column"},h.a.createElement(m.u,{fontSize:2,textAlign:"left",color:"dark-gray",dangerouslySetInnerHTML:{__html:this.props.content}})),h.a.createElement(m.h,{my:3,alignItems:"center",flexDirection:"column",justifyContent:"center"},h.a.createElement(g.a,{handleClick:this.closeModal,buttonProps:{width:["100%","40%"]}},"GOT IT")))))}}]),e}(h.a.Component);e.a=v},5100:function(t,e,n){t.exports={newLink:"CryptoInput_newLink__35W_s",newPill:"CryptoInput_newPill__2Q8cA",ethInput:"CryptoInput_ethInput__3j2LJ",ethInputDark:"CryptoInput_ethInputDark__R8OoA",mainInput:"CryptoInput_mainInput__1zffg",button:"CryptoInput_button__1N9EQ",gradientButton:"CryptoInput_gradientButton__2kh5r",input:"CryptoInput_input__3X3pI",newPillContainerAnim:"CryptoInput_newPillContainerAnim__RvOCw"}},5101:function(t,e,n){"use strict";var a=n(1),i=n.n(a),o=n(7),r=n(5),s=n(6),c=n(10),l=n(8),u=n(9),p=n(85),h=n(0),f=n.n(h),m=n(26),d=n(27),g=n(5159),v=n.n(g),b=n(83),k=n(29),w=n(1156),x=n(2),y=n(34),C=n(5161),U=n.n(C),E=n(5075),O=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).state={tabOpened:!1,notifications:[],mouseOverBell:!1,unreadNotifications:0,lastOpenTimestamp:null,mouseOverNotifications:!1},n.functionsUtil=null,n.governanceUtil=null,n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.governanceUtil?this.governanceUtil.setProps(this.props):this.governanceUtil=new E.a(this.props),this.functionsUtil=this.governanceUtil.functionsUtil}},{key:"componentWillMount",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),this.loadNotifications();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(o.a)(i.a.mark(function t(e,n){var a,o,r=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),e.clickEvent!==this.props.clickEvent&&this.props.clickEvent&&!this.state.mouseOverNotifications&&!this.state.mouseOverBell&&this.state.tabOpened&&this.setState({tabOpened:!1}),n.tabOpened!==this.state.tabOpened&&this.state.tabOpened&&this.state.notifications.length>0&&(this.functionsUtil.sendGoogleAnalyticsEvent({eventCategory:"Notifications",eventAction:"open_tab",eventLabel:""}),this.updateLastOpenTimestamp()),a=JSON.stringify(n.notifications)!==JSON.stringify(this.state.notifications),(n.lastOpenTimestamp!==this.state.lastOpenTimestamp||a)&&(o=this.state.lastOpenTimestamp?this.state.notifications.filter(function(t){return t.timestamp>r.state.lastOpenTimestamp}).length:this.state.notifications.length,this.setState({unreadNotifications:o}));case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"updateLastOpenTimestamp",value:function(){var t=Date.now(),e=this.functionsUtil.getStoredItem("notificationsParams",!0,{});e.lastOpenTimestamp=t,this.functionsUtil.setLocalStorage("notificationsParams",e,!0),this.setState({lastOpenTimestamp:t})}},{key:"loadNotifications",value:function(){var t=Object(o.a)(i.a.mark(function t(){var e,n,a,o,r,s,c,l,u,p,h,f,d,g,v,b,k,w,x,y,C,U,E,O,D,j,S,M=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.functionsUtil.getRequiredNetwork(),n=1===e.id,a=this.functionsUtil.getGlobalConfig(["governance"]),o=this.functionsUtil.getGlobalConfig(["tools","batchDeposit"]),r=this.functionsUtil.getGlobalConfig(["tools","polygonBridge"]),s=this.functionsUtil.getStoredItem("notificationsParams",!0,{}),c=s.lastOpenTimestamp||null,t.t0=this.functionsUtil,t.next=10,this.functionsUtil.getBlockNumber();case 10:return t.t1=t.sent,l=t.t0.BNify.call(t.t0,t.t1),u=this.functionsUtil.BNify(this.functionsUtil.getGlobalConfig(["network","blocksPerYear"])).div(52.1429),p=parseInt(l.minus(u)),h=r.enabled&&r.availableNetworks.includes(e.id),f=a.enabled&&a.availableNetworks.includes(e.id)&&n&&!this.props.isMobile,!1,t.next=19,Promise.all([this.functionsUtil.getSubstackLatestFeed(),this.functionsUtil.getSnapshotProposals(!0),h?this.functionsUtil.getPolygonBridgeTxs(this.props.account):null,f?this.governanceUtil.getProposals(null,"Active",p):null,null]);case 19:d=t.sent,g=Object(m.a)(d,5),v=g[0],b=g[1],k=g[2],w=g[3],x=g[4],y=this.functionsUtil.getGlobalConfig(["notifications"]).filter(function(t){return t.enabled&&t.start<=U&&t.end>U}),v&&(C=this.functionsUtil.strToMoment(v.isoDate)).isAfter(this.functionsUtil.strToMoment().subtract(7,"d"))&&y.push({link:v.link,image:"/images/substack.png",timestamp:C._d.getTime(),title:this.functionsUtil.htmlDecode(v.title),text:this.functionsUtil.htmlDecode(v.content),date:C.utc().format("MMM DD, YYYY HH:mm UTC")}),U=Date.now(),E=this.functionsUtil.getGlobalConfig(["network","providers","snapshot","urls","proposals"]),b&&b.forEach(function(t){var e=M.functionsUtil.htmlDecode(t.msg.payload.body.replace(/^[#]*/,""));y.push({text:e,image:"/images/snapshot.png",timestamp:1e3*t.msg.payload.start,link:E+t.authorIpfsHash,title:M.functionsUtil.htmlDecode(t.msg.payload.name),date:M.functionsUtil.strToMoment(1e3*t.msg.payload.start).utc().format("MMM DD, YYYY HH:mm UTC")})}),w&&(O=this.functionsUtil.getGlobalConfig(["governance","baseRoute"])+"/proposals/",w.forEach(function(t){y.push({text:t.title,iconProps:{color:"#00acff"},icon:"LightbulbOutline",timestamp:1e3*t.timestamp,title:"Governance Proposal",hash:O+t.id,date:M.functionsUtil.strToMoment(1e3*t.timestamp).utc().format("MMM DD, YYYY HH:mm UTC")})})),x&&(D=this.functionsUtil.getGlobalConfig(["dashboard","baseRoute"])+"/tools/".concat(o.route,"/"),Object.keys(x).forEach(function(t){var e=x[t],n=1e3*e.lastExecution.timeStamp,a="You can claim ".concat(e.batchRedeems.toFixed(4)," ").concat(t);y.push({text:a,timestamp:n,icon:"DoneAll",title:"Batch Deposit Executed",hash:D+t,iconProps:{color:M.props.theme.colors.transactions.status.completed},date:M.functionsUtil.strToMoment(n).utc().format("MMM DD, YYYY HH:mm UTC")})})),k&&(j=this.functionsUtil.getGlobalConfig(["dashboard","baseRoute"])+"/tools/".concat(r.route,"/"),k.filter(function(t){return"Withdraw"===t.action&&t.included&&!t.exited}).forEach(function(t){var e=1e3*t.timeStamp;if(M.functionsUtil.strToMoment(e).isAfter(M.functionsUtil.strToMoment().subtract(10,"d"))){var n="You can Exit ".concat(M.functionsUtil.BNify(t.value).toFixed(4)," ").concat(t.token," from Polygon");y.push({text:n,timestamp:e,image:r.image,title:"Polygon Withdraw Completed",hash:j+t.tokenSymbol,date:M.functionsUtil.strToMoment(e).utc().format("MMM DD, YYYY HH:mm UTC")})}}),S=this.functionsUtil.getGlobalConfig(["dashboard","baseRoute"])+"/best/",k.filter(function(t){return"Deposit"===t.action&&t.included}).forEach(function(t){var e=1e3*t.timeStamp;if(M.functionsUtil.strToMoment(e).isAfter(M.functionsUtil.strToMoment().subtract(1,"d"))){var n="Your ".concat(M.functionsUtil.BNify(t.value).toFixed(4)," ").concat(t.tokenSymbol," are now available in Polygon");y.push({text:n,timestamp:e,image:r.image,title:"Polygon Deposit Completed",hash:S+t.tokenSymbol,date:M.functionsUtil.strToMoment(e).utc().format("MMM DD, YYYY HH:mm UTC")})}})),y=y.sort(function(t,e){return t.timestamp<e.timestamp?1:-1}),this.setState({notifications:y,lastOpenTimestamp:c});case 36:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setMouseOverBell",value:function(t){this.setState({mouseOverBell:t})}},{key:"setMouseOverNotifications",value:function(t){this.setState({mouseOverNotifications:t})}},{key:"toggleTab",value:function(){this.setState(function(t){return{tabOpened:!t.tabOpened}})}},{key:"openNotification",value:function(t){return this.functionsUtil.sendGoogleAnalyticsEvent({eventCategory:"Notifications",eventAction:"open_notification",eventLabel:t.link||t.hash}),t.link?this.functionsUtil.openWindow(t.link):!!t.hash&&(window.location.hash=t.hash)}},{key:"render",value:function(){var t=this,e=this.state.unreadNotifications>0,n=e?"#ffdc00":"cellText";return f.a.createElement(x.h,Object.assign({zIndex:999,position:"relative"},this.props.flexProps),f.a.createElement(x.b,{width:1,position:"relative",onMouseOut:function(e){return t.setMouseOverBell(!1)},onMouseOver:function(e){return t.setMouseOverBell(!0)}},f.a.createElement(x.k,{size:"2.4em",color:n,name:"Notifications",onClick:this.toggleTab.bind(this),className:[U.a.bell,e?U.a.ring:null,this.state.tabOpened||this.state.notifications.length>0?U.a.active:null]}),e&&f.a.createElement(x.b,{className:U.a.counter},this.state.notifications.length)),this.state.tabOpened&&f.a.createElement(y.a,{cardProps:{style:{right:0,maxHeight:"21em",overflow:"scroll",position:"absolute",top:this.props.isMobile?"2.8em":"3em"},minWidth:["91vw","22em"],onMouseOut:function(e){return t.setMouseOverNotifications(!1)},onMouseOver:function(e){return t.setMouseOverNotifications(!0)}}},f.a.createElement(x.h,{width:1,flexDirection:"column"},this.state.notifications.length>0?this.state.notifications.map(function(e,n){return f.a.createElement(p.a,{style:{textDecoration:"none"},key:"notification_".concat(n),onClick:function(n){return t.openNotification(e)}},f.a.createElement(x.h,{py:2,px:1,flexDirection:"row",className:[U.a.notification,"dark"===t.props.themeMode?U.a.dark:null],borderBottom:n<t.state.notifications.length-1?"1px solid ".concat(t.props.theme.colors.divider):null},f.a.createElement(x.h,{minWidth:"2em",alignItems:"center",justifyContent:"center"},e.icon?f.a.createElement(x.k,Object.assign({name:e.icon,size:"1.6em",color:"copyColor"},e.iconProps)):e.image&&f.a.createElement(x.l,{src:e.image,width:"1.6em",height:"1.6em"})),f.a.createElement(x.h,{ml:1,overflow:"hidden",flexDirection:"column"},f.a.createElement(x.u,{fontSize:1,lineHeight:1.3,color:"primary",style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},e.title),f.a.createElement(x.u,{fontSize:1,lineHeight:1.3,color:"copyColor",style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},e.text),f.a.createElement(x.u,{fontSize:0,lineHeight:1.3,color:"cellText"},e.date))))}):f.a.createElement(x.u,{py:2,textAlign:"center"},"There are no notifications."))))}}]),e}(h.Component),D=n(59),j=n(92),S=n(1157),M=n(5100),I=n.n(M),N=n(118),T=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(s)))).state={logout:!1,balances:null},n.loadBalances=Object(o.a)(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.props.availableStrategies&&n.props.contractsInitialized&&n.props.account&&null===n.state.balances){t.next=2;break}return t.abrupt("return",!1);case 2:e=[],Object.keys(n.props.availableStrategies.best).forEach(function(t){var a=[];a.push(t),Object.keys(n.props.availableStrategies).forEach(function(e){var i=n.props.availableStrategies[e][t];i&&a.push(i.idle.token)}),e.push(a)}),n.setState({balances:e});case 6:case"end":return t.stop()}},t,this)})),n.functionsUtil=null,n.setConnector=function(){var t=Object(o.a)(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.functionsUtil.sendGoogleAnalyticsEvent({eventCategory:"Connect",eventAction:"logout"}),"function"===typeof n.props.setConnector&&n.props.setConnector(e),t.next=4,n.props.context.setConnector(e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new k.a(this.props)}},{key:"componentWillMount",value:function(){this.loadUtils()}},{key:"componentDidMount",value:function(){this.loadUtils(),this.loadBalances()}},{key:"componentDidUpdate",value:function(t){this.loadUtils();var e=t.acccount!==this.props.account,n=!t.contractsInitialized&&this.props.contractsInitialized;(!t.availableStrategies&&this.props.availableStrategies||e||n)&&this.loadBalances()}},{key:"logout",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({logout:!0}),this.props.logout(),t.next=4,this.setConnector("Infura");case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"goToSection",value:function(t){this.props.goToSection(t),this.props.closeModal()}},{key:"render",value:function(){var t=this,e="custom"===this.props.connectorName;if(this.props.account){var n=Object.keys(this.props.availableStrategies).length+1,a=this.state.balances&&this.state.balances.map(function(e,a){return f.a.createElement(x.h,{mt:2,width:1,boxShadow:0,key:"balance_"+a,alignItems:"center",flexDirection:"row"},e.map(function(e,a){return f.a.createElement(x.h,{width:1/n,flexDirection:"row",key:"balance_token_"+e,justifyContent:"flex-start"},f.a.createElement(j.a,{token:e,tokenConfig:Object(d.a)({token:e},t.functionsUtil.getGlobalConfig(["stats","tokens",e])),fieldInfo:{name:"icon",props:{mr:[1,2],ml:[1,4],width:["1.4em","2em"],height:["1.4em","2em"]}}}),f.a.createElement(j.a,Object.assign({},t.props,{token:e,tokenConfig:{token:e},fieldInfo:{name:"tokenBalance",props:{fontSize:[0,2],fontWeight:500,color:"cellText"}}})))}))});return f.a.createElement(x.p,{isOpen:this.props.isOpen},f.a.createElement(D.a,{closeFunc:this.props.closeModal},f.a.createElement(D.a.Header,{title:"Account overview"}),f.a.createElement(D.a.Body,null,f.a.createElement(x.h,{alignItems:"center",width:["auto","40em"],flexDirection:"column",justifyContent:"center"},f.a.createElement(x.h,{width:1,mb:[2,3],alignItems:"center",flexDirection:"column",maxWidth:["100%","30em"],justifyContent:"stretch"},f.a.createElement(x.f,{width:1,address:this.props.account,className:"light"===this.props.themeMode?I.a.ethInput:I.a.ethInputDark})),f.a.createElement(x.h,{width:1,mb:[2,3],alignItems:"center",flexDirection:"column",maxWidth:["100%","30em"]},f.a.createElement(x.j.h4,{color:"copyColor",textAlign:"center"},"Balances:"),a),!e&&f.a.createElement(x.h,{width:1,mb:[2,3],alignItems:"center",flexDirection:"column",justifyContent:"center"},f.a.createElement(x.j.h4,{mb:2,color:"copyColor",textAlign:"center"},"Tools:"),f.a.createElement(x.h,{width:1,alignItems:"center",justifyContent:"center",flexDirection:["column","row"]},["addFunds","tokenSwap"].map(function(e){var n=t.functionsUtil.getGlobalConfig(["tools",e]);return f.a.createElement(N.a,Object.assign({},t.props,{key:"tool_".concat(e),cardProps:{mx:[0,2],my:[2,0],width:"auto",minWidth:["50%","auto"]},icon:n.icon,text:n.label,handleClick:function(e){return t.goToSection("tools/".concat(n.route))}}))}))))),f.a.createElement(D.a.Footer,null,f.a.createElement(S.a,{buttonText:"Logout wallet",isLoading:this.state.logout,handleClick:Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.logout();case 2:case"end":return e.stop()}},e,this)})),buttonProps:{className:I.a.gradientButton,borderRadius:"2rem",mt:[4,8],minWidth:["95px","145px"],size:["auto","medium"]}}))))}return null}}]),e}(f.a.Component),B=n(5086),P=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).state={isModalOpen:null,idleTokenBalance:null},n.idleGovToken=null,n.functionsUtil=null,n.componentUnmounted=!1,n.toggleModal=function(t){n.setStateSafe(function(e){return Object(d.a)({},e,{isModalOpen:e.isModalOpen===t?null:t})})},n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new k.a(this.props),this.idleGovToken=this.functionsUtil.getIdleGovToken()}},{key:"setStateSafe",value:function(){var t=Object(o.a)(i.a.mark(function t(e){var n,a=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:null,this.componentUnmounted){t.next=5;break}return t.next=4,this.setState(e,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"componentWillMount",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),this.loadIdleTokenBalance();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"editCardProp",value:function(){}},{key:"componentDidUpdate",value:function(){var t=Object(o.a)(i.a.mark(function t(e,n){var a=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),JSON.stringify(e.network.required)!==JSON.stringify(this.props.network.required)&&this.loadIdleTokenBalance(),e.account!==this.props.account&&this.setStateSafe({isModalOpen:null},function(){a.loadIdleTokenBalance()});case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"loadIdleTokenBalance",value:function(){var t=Object(o.a)(i.a.mark(function t(){var e,n,a,o,r,s,c,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.props.account){t.next=2;break}return t.abrupt("return",!1);case 2:if(e=this.functionsUtil.getRequiredNetwork(),n=this.functionsUtil.getGlobalConfig(["govTokens","IDLE"]),a=n.enabled&&n.availableNetworks.includes(e.id),o=null,!a){t.next=15;break}return o=this.functionsUtil.BNify(0),t.next=10,Promise.all([this.idleGovToken.getBalance(this.props.account),this.idleGovToken.getUnclaimedTokens(this.props.account)]);case 10:r=t.sent,s=Object(m.a)(r,2),c=s[0],l=s[1],c&&l&&(o=this.functionsUtil.BNify(c).plus(l));case 15:return t.abrupt("return",this.setStateSafe({idleTokenBalance:o}));case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.functionsUtil.getStoredItem("walletProvider",!1,null),n=e?this.functionsUtil.getGlobalConfig(["connectors",e.toLowerCase()]):null,a=n&&n.icon?n.icon:e?"".concat(e.toLowerCase(),".svg"):null,i=this.functionsUtil.getRequiredNetwork(),o=this.functionsUtil.getGlobalConfig(["governance"]),r=o.baseRoute,s=o.enabled&&o.availableNetworks.includes(i.id),c=this.functionsUtil.getGlobalConfig(["dashboard","baseRoute"])+"/"+Object.keys(this.props.availableStrategies)[0];return this.props.account?f.a.createElement(x.h,{width:1,flexDirection:["column","row"],alignItems:["flex-start","center"]},f.a.createElement(x.h,{mb:[2,0],flexDirection:"row",alignItems:"center",width:[1,"fit-content"],justifyContent:"space-between"},this.props.isMobile&&f.a.createElement(x.h,{mr:2},f.a.createElement(x.k,{size:"2.4em",color:"copyColor",onClick:this.props.toggleMenu,name:this.props.menuOpened?"Close":"Menu"})),!this.props.isMobile&&f.a.createElement(x.h,{mr:2,width:"fit-content",alignItems:"center",flexDirection:"row",justifyContent:"space-between"},f.a.createElement(B.a,this.props)),f.a.createElement(y.a,Object.assign({},this.props,{cardProps:{py:1,px:[1,2],mr:[2,0],display:"flex",width:[1,"auto"]},isInteractive:!0,handleClick:function(e){return t.toggleModal("account")}}),f.a.createElement(x.h,{p:0,width:1,alignItems:"center",flexDirection:"row",justifyContent:["center","flex-start"]},n?f.a.createElement(x.l,{mr:[1,2],width:"2em",height:"2em",display:"inline-flex",alt:e.toLowerCase(),src:"images/connectors/".concat(a)}):f.a.createElement(x.k,{mr:[1,2],size:"2em",color:"copyColor",name:"AccountCircle"}),this.props.isMobile?f.a.createElement(x.u,{fontSize:2,fontWeight:3,color:"copyColor",style:{flex:"1",overflow:"hidden",textOverflow:"ellipsis"}},this.props.account):f.a.createElement(w.a,Object.assign({fontSize:2,fontWeight:3},this.props,{color:"copyColor",hash:this.props.account})))),this.props.isMobile&&f.a.createElement(O,this.props)),f.a.createElement(x.h,{ml:[0,3],style:{flex:"1 1 auto"},width:[1,"auto"],alignItems:"center",flexDirection:"row",justifyContent:this.state.idleTokenBalance?"space-between":"flex-end"},this.state.idleTokenBalance&&f.a.createElement(x.n,{style:{textDecoration:"none"},px:2,className:v.a.balanceButton,onClick:function(e){return t.props.setGovModal(!0)}},f.a.createElement(x.h,{alignItems:"center",height:["38px","42px"],justifyContent:"center"},f.a.createElement(x.l,{mr:1,width:"1.7em",height:"1.7em",display:"inline-flex",src:"images/tokens/IDLE.svg"}),f.a.createElement(x.u,{color:"white",fontSize:[1,2],fontWeight:500},this.state.idleTokenBalance.toFixed(2)," IDLE"))),f.a.createElement(x.h,{width:"auto",alignItems:"center",flexDirection:"row",justifyContent:"flex-end"},s&&this.props.isDashboard?f.a.createElement(b.a,{buttonProps:{mainColor:"redeem",style:{width:"auto",height:this.props.isMobile?"38px":"45px"},size:this.props.isMobile?"small":"medium"},handleClick:function(e){t.props.goToSection(r,!1)}},f.a.createElement(x.h,{alignItems:"center",flexDirection:"row"},f.a.createElement(x.k,{mr:[1,2],size:"1.6em",color:"white",name:"ExitToApp"}),f.a.createElement(x.u,{fontWeight:3,color:"white",fontSize:[2,3]},"Governance"))):this.props.isGovernance&&f.a.createElement(b.a,{buttonProps:{mainColor:"redeem",style:{width:"auto",height:this.props.isMobile?"38px":"45px"},size:this.props.isMobile?"small":"medium"},handleClick:function(e){t.props.goToSection(c,!1)}},f.a.createElement(x.h,{alignItems:"center",flexDirection:"row"},f.a.createElement(x.k,{mr:[1,2],size:"1.6em",color:"white",name:"ExitToApp"}),f.a.createElement(x.u,{fontWeight:3,color:"white",fontSize:[2,3]},"Dashboard"))),!this.props.isMobile&&f.a.createElement(O,Object.assign({},this.props,{flexProps:{ml:2}})))),f.a.createElement(T,Object.assign({},this.props,{isOpen:"account"===this.state.isModalOpen,closeModal:function(e){return t.toggleModal("account")}}))):f.a.createElement(x.h,{width:1,alignItems:"center",justifyContent:["flex-start","flex-end"]},this.props.isMobile&&f.a.createElement(x.h,{mr:2},f.a.createElement(x.k,{size:"2.4em",color:"copyColor",onClick:this.props.toggleMenu,name:this.props.menuOpened?"Close":"Menu"})),!this.props.isMobile&&f.a.createElement(x.h,{width:1,justifyContent:["space-between","flex-start"]},f.a.createElement(B.a,Object.assign({innerProps:{px:1,py:0,width:["100%","auto"],height:["45px","54px"]}},this.props))),!this.props.isMobile&&f.a.createElement(x.h,{width:"auto",alignItems:"center",flexDirection:"row",justifyContent:"flex-end"},s&&this.props.isDashboard?f.a.createElement(b.a,{buttonProps:{mainColor:"redeem",style:{width:"auto",height:this.props.isMobile?"38px":"45px"},size:this.props.isMobile?"small":"medium"},handleClick:function(e){t.props.goToSection(r,!1)}},f.a.createElement(x.h,{alignItems:"center",flexDirection:"row"},f.a.createElement(x.k,{mr:[1,2],size:"1.6em",color:"white",name:"ExitToApp"}),f.a.createElement(x.u,{fontWeight:3,color:"white",fontSize:[2,3]},"Governance"))):this.props.isGovernance&&f.a.createElement(b.a,{buttonProps:{mainColor:"redeem",style:{width:"auto",height:this.props.isMobile?"38px":"45px"},size:this.props.isMobile?"small":"medium"},handleClick:function(e){t.props.goToSection(c,!1)}},f.a.createElement(x.h,{alignItems:"center",flexDirection:"row"},f.a.createElement(x.k,{mr:[1,2],size:"1.6em",color:"white",name:"ExitToApp"}),f.a.createElement(x.u,{fontWeight:3,color:"white",fontSize:[2,3]},"Dashboard"))),f.a.createElement(O,Object.assign({},this.props,{flexProps:{ml:2}}))))}}]),e}(h.Component),_=n(164),G=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(s)))).state={total:null,balance:null,txStatus:null,unclaimed:null,processing:{txHash:null,loading:!1}},n.functionsUtil=null,n.idleGovToken=null,n.loadTokenInfo=Object(o.a)(i.a.mark(function t(){var e,a,o,r,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.idleGovToken.getBalance(n.props.account),n.idleGovToken.getUnclaimedTokens(n.props.account)]);case 2:e=t.sent,a=Object(m.a)(e,2),o=a[0],r=a[1],s=n.functionsUtil.BNify(0),o&&r&&(s=n.functionsUtil.BNify(o).plus(r)),n.setState({total:s,balance:o,unclaimed:r});case 9:case"end":return t.stop()}},t,this)})),n.claim=Object(o.a)(i.a.mark(function t(){var e,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=function(t,e){var a={eventAction:"claim",eventCategory:"Governance",eventLabel:t.status?t.status:e};e&&(a.eventLabel=n.functionsUtil.getTransactionError(e)),(e||"error"!==a.status)&&n.functionsUtil.sendGoogleAnalyticsEvent(a);var i={processing:{txHash:null,loading:!1},txStatus:t.status?t.status:"error"};"success"===t.status&&(i.balance=n.state.unclaimed,i.unclaimed=n.functionsUtil.BNify(0),"function"===typeof n.props.claimCallback&&n.props.claimCallback()),n.setState(i)},a=function(t){var e=t.transactionHash;n.setState(function(t){return{processing:Object(d.a)({},t.processing,{txHash:e})}})},n.idleGovToken.claimRewards(e,a),n.setState(function(t){return{processing:Object(d.a)({},t.processing,{loading:!0})}});case 4:case"end":return t.stop()}},t,this)})),n.closeModal=function(){var t=Object(o.a)(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.props.closeModal();case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new k.a(this.props),this.idleGovToken=this.functionsUtil.getIdleGovToken()}},{key:"componentWillMount",value:function(){this.loadUtils(),this.loadTokenInfo()}},{key:"componentDidMount",value:function(){this.loadUtils()}},{key:"componentDidUpdate",value:function(t,e){this.loadUtils();var n=t.account!==this.props.account,a=JSON.stringify(t.network.required)!==JSON.stringify(this.props.network.required);(n||a)&&this.loadTokenInfo()}},{key:"cancelTransaction",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({txStatus:null,processing:{txHash:null,loading:!1}});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.functionsUtil.getRequiredNetworkId(),e=this.functionsUtil.getGlobalConfig(["governance"]),n=e.enabled&&e.availableNetworks.includes(t);return f.a.createElement(x.p,{isOpen:this.props.isOpen},f.a.createElement(D.a,{bgLayer:!0,mainColor:"white",maxWidth:["auto","420px"],closeFunc:this.props.closeModal,background:"radial-gradient(76.02% 75.41% at 1.84% 0%, rgb(162, 196, 246) 0%, rgb(10, 79, 176) 100%)"},f.a.createElement(D.a.Header,{pt:3,titleProps:{color:"white"},title:"Your IDLE balance",borderBottom:"1px solid rgba(255,255,255,0.2)"}),f.a.createElement(D.a.Body,{px:3},f.a.createElement(x.h,{width:1,alignItems:"center",flexDirection:"column",justifyContent:"center"},f.a.createElement(x.l,{mt:2,width:"3em",height:"3em",src:"images/tokens/IDLE.svg"}),f.a.createElement(x.u,{mt:2,fontSize:7,color:"white",fontWeight:500},this.state.total?this.state.total.toFixed(2):"-"),f.a.createElement(x.u,{mb:2,fontSize:3,color:"white",fontWeight:400,textAlign:"center"},this.state.unclaimed&&this.state.unclaimed.gt(0)?"You can now claim your IDLE tokens from the Early LPs Program!":"You don't have any IDLE to claim from the Early LPs Program"),f.a.createElement(x.h,{pb:2,mb:3,width:1,flexDirection:"column",borderBottom:"1px solid rgba(255,255,255,0.2)"},f.a.createElement(x.h,{mb:2,width:1,flexDirection:"row",justifyContent:"space-between"},f.a.createElement(x.u,{color:"white",fontWeight:500},"Balance:"),f.a.createElement(x.u,{color:"white",fontWeight:500},this.state.balance?this.state.balance.toFixed(4):"-")),f.a.createElement(x.h,{width:1,flexDirection:"row",justifyContent:"space-between"},f.a.createElement(x.u,{color:"white",fontWeight:500},"Unclaimed:"),f.a.createElement(x.u,{color:"white",fontWeight:500},this.state.unclaimed?this.state.unclaimed.toFixed(4):"-")),n&&f.a.createElement(x.n,{href:"/#".concat(this.functionsUtil.getGlobalConfig(["governance","baseRoute"]))},f.a.createElement(x.h,{zIndex:10,position:"relative",alignItems:"center",flexDirection:"row",justifyContent:"center"},f.a.createElement(x.u,{fontSize:2,color:"white",fontWeight:400},"Go to governance"),f.a.createElement(x.k,{ml:1,size:"1em",color:"white",name:"OpenInNew"})))),f.a.createElement(x.h,{mb:3,width:1,zIndex:10,position:"relative",alignItems:"center",justifyContent:"center"},this.state.unclaimed&&this.state.unclaimed.gt(0)?this.state.processing&&this.state.processing.loading?f.a.createElement(_.a,Object.assign({},this.props,{textColor:"white",cancelTextColor:"moon-gray",cancelTextHoverColor:"white",waitText:"Claim estimated in",hash:this.state.processing.txHash,endMessage:"Finalizing Claim request...",cancelTransaction:this.cancelTransaction.bind(this)})):f.a.createElement(b.a,{buttonProps:{color:"blue",width:[1,"45%"],mainColor:"white",contrastColor:"blue",disabled:!this.state.unclaimed||this.state.unclaimed.lte(0)},handleClick:this.claim.bind(this)},"Claim"):f.a.createElement(b.a,{buttonProps:{color:"blue",width:[1,"45%"],mainColor:"white",contrastColor:"blue"},handleClick:this.closeModal.bind(this)},"Close"))))))}}]),e}(f.a.Component),W=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).state={processing:{txHash:null,loading:!1},newDelegate:"",delegatee:null,vestingAmount:null,currentDelegate:null,delegateAddressValid:!1,delegateDifferentWallet:!1,vestingContractDelegated:!1},n.idleGovToken=null,n.functionsUtil=null,n.governanceUtil=null,n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.governanceUtil?this.governanceUtil.setProps(this.props):this.governanceUtil=new E.a(this.props),this.functionsUtil=this.governanceUtil.functionsUtil,this.idleGovToken=this.functionsUtil.getIdleGovToken()}},{key:"loadData",value:function(){var t=Object(o.a)(i.a.mark(function t(){var e,n,a,o,r,s,c,l,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.functionsUtil.getGlobalConfig(["govTokens","IDLE","enabled"])||!this.props.account){t.next=20;break}return t.next=4,Promise.all([this.governanceUtil.getDelegatesChanges(),this.governanceUtil.getCurrentDelegate(this.props.account),this.governanceUtil.getVestingContract(this.props.account)]);case 4:if(e=t.sent,n=Object(m.a)(e,3),a=n[0],o=n[1],r=n[2],s=null,c=null,l=!1,!r){t.next=19;break}return t.next=15,this.governanceUtil.getVestingAmount(this.props.account);case 15:c=t.sent,u=a.filter(function(t){return t.returnValues.delegator.toLowerCase()===r.toLowerCase()}).pop(),s=!!u&&u.returnValues.toDelegate,l=s&&"0x0000000000000000000000000000000000000000"!==s;case 19:return t.abrupt("return",this.setState({delegatee:s,vestingAmount:c,currentDelegate:o,vestingContractDelegated:l}));case 20:return t.abrupt("return",null);case 21:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"delegateVesting",value:function(){var t=Object(o.a)(i.a.mark(function t(){var e,n,a,o,r=this,s=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]&&s[0],n=this.state.delegateDifferentWallet?this.state.newDelegate:this.props.account,e&&(n="0x"+"0".repeat(40)),this.functionsUtil.checkAddress(n)){t.next=6;break}return t.abrupt("return",!1);case 6:a=function(t,a){var i={eventCategory:"Governance",eventAction:"delegateVesting"};a&&(i.eventLabel=r.functionsUtil.getTransactionError(a)),(a||"error"!==i.status)&&r.functionsUtil.sendGoogleAnalyticsEvent(i);var o={processing:{txHash:null,loading:!1}};"success"===t.status&&(o.delegatee=n,o.delegateDifferentWallet=!1,o.vestingContractDelegated=!e,r.loadData()),r.setState(o)},o=function(t){var e=t.transactionHash;r.setState(function(t){return{processing:Object(d.a)({},t.processing,{txHash:e})}})},this.governanceUtil.delegateVesting(this.props.account,n,a,o),this.setState(function(t){return{processing:Object(d.a)({},t.processing,{loading:!0})}});case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"changeDelegate",value:function(t){var e=t.target.value,n=this.functionsUtil.checkAddress(e);this.setState({newDelegate:e,delegateAddressValid:n})}},{key:"setDelegateDifferentWallet",value:function(t){this.setState({delegateDifferentWallet:t})}},{key:"cancelTransaction",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({processing:{txHash:null,loading:!1}});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),this.loadData();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(o.a)(i.a.mark(function t(e,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),e.account!==this.props.account&&this.loadData();case 3:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return this.state.vestingAmount?f.a.createElement(x.h,{p:2,mt:3,width:1,border:2,borderRadius:1,alignItems:"center",flexDirection:"column",justifyContent:"center",backgroundColor:"cardBgHover"},f.a.createElement(x.h,{width:1,alignItems:"center",flexDirection:"column",justifyContent:"center"},f.a.createElement(x.u,{mb:1,fontSize:3,fontWeight:500,color:"flashColor",textAlign:"center"},"You have ",this.state.vestingAmount.div(1e18).toFixed(5)," ",this.functionsUtil.getGlobalConfig(["governance","props","tokenName"])," in the Vesting Contract"),this.state.vestingContractDelegated&&this.state.delegatee&&!this.state.delegateDifferentWallet?f.a.createElement(x.u,{mb:1,fontWeight:500,color:"flashColor",fontSize:"15px",textAlign:"center"},"Currently your votes are delegated to ",this.state.delegatee):f.a.createElement(x.h,{width:1,alignItems:"center",flexDirection:"column",justifyContent:"center"},f.a.createElement(x.u,{mb:1,fontWeight:500,fontSize:"15px",color:"flashColor",textAlign:"center"},this.state.delegateDifferentWallet?"Follow the next steps to delegate your tokens:":"Press the button below to delegate the votes in the vesting contract to yourself:"),this.state.delegateDifferentWallet&&f.a.createElement(x.h,{mb:2,alignItems:"center",flexDirection:"column"},f.a.createElement(x.h,{width:1,alignItems:"center",flexDirection:"row"},f.a.createElement(x.k,{size:"1.5em",name:this.state.delegateAddressValid?"CheckBox":"LooksOne",color:this.state.delegateAddressValid?this.props.theme.colors.transactions.status.completed:"cellText"}),f.a.createElement(x.u,{ml:1,fontWeight:500,fontSize:"15px",textAlign:"left",color:"flashColor"},"Insert delegate address")),f.a.createElement(x.h,{mt:2,width:1,alignItems:"center",flexDirection:"row"},f.a.createElement(x.k,{size:"1.5em",name:"LooksTwo",color:"cellText"}),f.a.createElement(x.u,{ml:1,fontWeight:500,fontSize:"15px",color:"flashColor",textAlign:"left"},"Delegate Vesting"))))),this.state.delegateDifferentWallet&&f.a.createElement(x.m,{mb:2,min:0,type:"text",required:!0,borderRadius:2,fontWeight:500,textAlign:"center",width:["100%","30em"],borderColor:"cardBorder",backgroundColor:"cardBg",boxShadow:"none !important",value:this.state.newDelegate,placeholder:"Insert delegate address",onChange:this.changeDelegate.bind(this),border:"1px solid ".concat(this.props.theme.colors.divider)}),this.state.processing&&this.state.processing.loading?f.a.createElement(x.h,{width:1,flexDirection:"column"},f.a.createElement(_.a,Object.assign({},this.props,{waitText:"Delegate estimated in",hash:this.state.processing.txHash,endMessage:"Finalizing delegate request...",cancelTransaction:this.cancelTransaction.bind(this)}))):this.state.vestingContractDelegated&&!this.state.delegateDifferentWallet?f.a.createElement(x.c,{size:"small",mainColor:"red",onClick:function(e){return t.delegateVesting(!0)}},"REVOKE DELEGATE"):(!this.state.vestingContractDelegated||this.state.delegateDifferentWallet)&&f.a.createElement(x.c,{size:"small",mainColor:"blue",onClick:function(e){return t.delegateVesting(!1)},disabled:this.state.delegateDifferentWallet&&!this.state.delegateAddressValid},"DELEGATE VESTING"),f.a.createElement(x.e,{mt:1,required:!1,color:"#f3f6ff",label:"Delegate to different wallet",checked:this.state.delegateDifferentWallet,onChange:function(e){return t.setDelegateDifferentWallet(e.target.checked)}})):null}}]),e}(h.Component),A=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(s)))).state={unclaimed:null,activeNews:null,vestingAmount:null,govModalOpened:!1},n.idleGovToken=null,n.functionsUtil=null,n.governanceUtil=null,n.setConnector=function(){var t=Object(o.a)(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.functionsUtil.sendGoogleAnalyticsEvent({eventAction:"logout",eventCategory:"Connect"}),"function"===typeof n.props.setConnector&&n.props.setConnector(e),t.next=4,n.props.context.setConnector(e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.governanceUtil?this.governanceUtil.setProps(this.props):this.governanceUtil=new E.a(this.props),this.functionsUtil=this.governanceUtil.functionsUtil,this.idleGovToken=this.functionsUtil.getIdleGovToken()}},{key:"componentWillMount",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),this.loadData();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(o.a)(i.a.mark(function t(e,n){var a,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loadUtils(),a=e.account!==this.props.account,o=JSON.stringify(e.network.required)!==JSON.stringify(this.props.network.required),!a&&!o){t.next=6;break}return t.next=6,this.loadData();case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"loadData",value:function(){var t=Object(o.a)(i.a.mark(function t(){var e,n,a,o,r,s,c,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.functionsUtil.getGlobalConfig(["govTokens","IDLE","enabled"])||!this.props.account){t.next=6;break}return t.next=4,this.idleGovToken.getUnclaimedTokens(this.props.account);case 4:e=t.sent,this.setState({unclaimed:e});case 6:return n=this.functionsUtil.getGlobalConfig(["tools","stake"]),a=this.functionsUtil.getGlobalConfig(["tools","nexusMutual"]),o=this.functionsUtil.getGlobalConfig(["tools","stakePolygon"]),r={1:[{name:"Governance Forum",icon:"LightbulbOutline",text:"Do you have any idea to improve the Idle Protocol? Let's discuss it in our",link:{text:"Governance Forum",url:this.functionsUtil.getGlobalConfig(["forumURL"])}},{icon:n.icon,name:n.label,text:"You can now stake your $IDLE token and take part of the fee-sharing for long-term holders.",link:{text:"Stake Now",url:this.functionsUtil.getDashboardSectionUrl("tools/".concat(n.route))}},{icon:a.icon,name:a.label,text:"Protect your funds against smart-contract attacks with Nexus Mutual.",link:{text:"Get Covered",url:this.functionsUtil.getDashboardSectionUrl("tools/".concat(this.functionsUtil.getGlobalConfig(["tools","nexusMutual","route"])))}}],137:[{icon:o.icon,name:o.label,text:"SushiSwap LP Staking on Polygon is now available!",link:{text:"Stake Now",url:this.functionsUtil.getDashboardSectionUrl("tools/".concat(o.route))}}]},s=this.functionsUtil.getRequiredNetworkId(),l=(c=r[s])[Math.floor(Math.random()*c.length)],this.setState({activeNews:l}),t.abrupt("return",null);case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"exit",value:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.props.goToSection("/",!1);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setGovModal",value:function(t){this.setState({govModalOpened:t})}},{key:"render",value:function(){var t=this;return f.a.createElement(x.b,{mb:3},f.a.createElement(x.h,{pb:2,width:1,flexDirection:"row",justifyContent:"space-between",alignItems:["flex-end","center"],borderBottom:"1px solid ".concat(this.props.theme.colors.divider)},f.a.createElement(P,Object.assign({width:1},this.props,{setGovModal:this.setGovModal.bind(this)}))),this.state.unclaimed&&this.state.unclaimed.gt(0)?f.a.createElement(y.a,{cardProps:{p:2,mt:3,width:1},isActive:!0,isInteractive:!1},f.a.createElement(x.h,{alignItems:"center",justifyContent:"center",flexDirection:["column","row"]},f.a.createElement(x.u,{fontWeight:500,fontSize:"15px",color:"flashColor",textAlign:"center"},"IDLE Governance Token is now available,",f.a.createElement(p.a,{ml:1,fontWeight:500,color:"primary",fontSize:"15px",hoverColor:"primary",href:"https://idlefinance.medium.com/idle-governance-is-live-9b55e8f407d7"},"discover more"),"! You have ",this.state.unclaimed.toFixed(4)," IDLE tokens to claim."),f.a.createElement(x.c,{ml:[0,2],mt:[2,0],size:"small",mainColor:"blue",onClick:function(e){return t.setGovModal(!0)}},"CLAIM NOW"))):this.props.isDashboard&&this.state.activeNews&&f.a.createElement(y.a,{cardProps:{p:2,mt:3,width:1},isActive:!0,isInteractive:!1},f.a.createElement(x.h,{alignItems:"center",justifyContent:"center",flexDirection:["column","row"]},f.a.createElement(x.k,{mr:1,size:"1.2em",color:"flashColor",name:this.state.activeNews.icon}),f.a.createElement(x.u,{fontWeight:500,fontSize:"15px",color:"flashColor",textAlign:"center"},this.state.activeNews.text),f.a.createElement(p.a,{ml:1,fontWeight:500,color:"primary",fontSize:"15px",hoverColor:"primary",href:this.state.activeNews.link.url,onClick:function(e){return t.functionsUtil.sendGoogleAnalyticsEvent({eventCategory:"UI",eventAction:"flashNews",eventLabel:t.state.activeNews.name})}},f.a.createElement(x.h,{alignItems:"center",flexDirection:"row",justifyContent:"center"},this.state.activeNews.link.text,f.a.createElement(x.k,{ml:1,size:"0.9em",color:"primary",name:"OpenInNew"}),".")))),this.props.isGovernance&&this.props.governanceEnabled&&f.a.createElement(W,this.props),f.a.createElement(G,Object.assign({},this.props,{isOpen:this.state.govModalOpened,claimCallback:this.loadData.bind(this),closeModal:function(e){return t.setGovModal(!1)}})))}}]),e}(h.Component);e.a=A},5159:function(t,e,n){t.exports={balanceButton:"MenuAccount_balanceButton__3t7wZ"}},5161:function(t,e,n){t.exports={bell:"Notifications_bell__5m9tk",active:"Notifications_active__2Mwzv",ring:"Notifications_ring__1ir3w",counter:"Notifications_counter__3EbuS",list:"Notifications_list__2pkAk",notification:"Notifications_notification__TMlFX",dark:"Notifications_dark__14hO4"}},5174:function(t){t.exports=[{inputs:[{internalType:"address",name:"idle_",type:"address"},{internalType:"address",name:"recipient_",type:"address"},{internalType:"uint256",name:"vestingAmount_",type:"uint256"},{internalType:"uint256",name:"vestingBegin_",type:"uint256"},{internalType:"uint256",name:"vestingCliff_",type:"uint256"},{internalType:"uint256",name:"vestingEnd_",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"idle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"lastUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"recipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"vestingAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"vestingBegin",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"vestingCliff",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"vestingEnd",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"recipient_",type:"address"}],name:"setRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"setDelegate",outputs:[],stateMutability:"nonpayable",type:"function"}]}}]);
//# sourceMappingURL=1.8722c64f.chunk.js.map