{"version":3,"sources":["../node_modules/function-batch/node_modules/lodash/isObject.js","../node_modules/function-batch/node_modules/lodash/_root.js","../node_modules/function-batch/node_modules/lodash/_Symbol.js","../node_modules/function-batch/index.js","../node_modules/function-batch/node_modules/lodash/debounce.js","../node_modules/function-batch/node_modules/lodash/now.js","../node_modules/function-batch/node_modules/lodash/_freeGlobal.js","../node_modules/function-batch/node_modules/lodash/toNumber.js","../node_modules/function-batch/node_modules/lodash/isSymbol.js","../node_modules/function-batch/node_modules/lodash/_baseGetTag.js","../node_modules/function-batch/node_modules/lodash/_getRawTag.js","../node_modules/function-batch/node_modules/lodash/_objectToString.js","../node_modules/function-batch/node_modules/lodash/isObjectLike.js","../node_modules/web3-batched-send/src/utils/batched-send.js","Governance/ProposalListFilters/ProposalListFilters.module.scss","Governance/NewProposal/NewProposal.module.scss","Governance/ProposalField/ProposalField.js","Governance/ProposalListFilters/ProposalListFilters.js","Governance/ProposalsList/ProposalsList.js","Governance/DelegateField/DelegateField.js","Governance/DelegatesList/DelegatesList.js","Governance/Overview.js","Governance/DelegateVote/DelegateVote.js","Governance/Delegate.js","Governance/NewProposal/NewProposal.js","Governance/CastVote/CastVote.js","Governance/ProposalDetails/ProposalDetails.js","Governance/Proposals.js","Governance/DelegateDetails/DelegateDetails.js","Governance/Leaderboard.js","Governance/Governance.js"],"names":["module","exports","value","type","freeGlobal","__webpack_require__","freeSelf","self","Object","root","Function","Symbol","ex","debounce","defer","resolve","reject","promise","Promise","rslv","rjct","func","wait","options","arrArg","deferred","debouncedFunc","result","apply","undefined","arguments","err","arr","_len","length","args","Array","_key","concat","isArray","i","arr2","from","_toConsumableArray","isObject","now","toNumber","FUNC_ERROR_TEXT","nativeMax","Math","max","nativeMin","min","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","remainingWait","debounced","isInvoking","this","leadingEdge","clearTimeout","cancel","flush","Date","global","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","replace","isBinary","test","slice","baseGetTag","isObjectLike","symbolTag","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","toStringTag","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","isOwn","call","tag","unmasked","e","_regeneratorRuntime","_objectSpread","_asyncToGenerator","functionBatch","ABI","constant","inputs","name","outputs","payable","stateMutability","web3","transactionBatcherContractAddress","privateKey","transactionBatcher","eth","Contract","pendingBatches","batchedSend","_ref","mark","_callee","transactions","_ref2","batchIndex","batch","batchSend","wrap","_context","prev","next","push","all","map","p","t","method","estimateGas","then","gas","_","filter","_pendingBatches","reduce","acc","datas","encodeABI","targets","to","totalGas","totalValue","values","methods","t0","t1","accounts","t2","t3","sent","t4","t5","t6","address","t7","t8","data","t9","signTransaction","t10","rawTransaction","t11","receipt","console","info","t12","error","sendSignedTransaction","on","stop","_x","radioBtn","input","ProposalField","state","functionsUtil","setProps","props","FunctionsUtil","loadUtils","prevProps","prevState","icon","color","output","fieldInfo","proposal","assign","fieldProps","fontWeight","fontSize","style","maxWidth","overflow","whiteSpace","textOverflow","flexProps","justifyContent","keys","forEach","formattedDate","strToMoment","timestamp","format","react_default","a","createElement","index_es","alignItems","align","size","isMobile","id","title","forVotes","BNify","div","againstVotes","totalVotes","plus","formatMoney","toFixed","support","delegate","toLowerCase","vote","votes","find","v","voter","SmartNumber","number","Component","ProposalListFilters","minWidth","maxHeight","isOpened","activeFilters","status","assets","actions","setFilter","_this","setState","objectSpread","defineProperty","applyFilters","toggle","toggleOpened","resetFilter","resetFilters","_this2","mb","top","width","zIndex","flexDirection","position","DashboardCard","cardProps","py","px","transition","isInteractive","handleClick","cursor","onClick","mt","borderTop","theme","colors","divider","filters","filterCategory","filterValues","key","flexBasis","flex","TableCellHeader","pb","toUpperCase","filterValue","filterLabel","isChecked","my","label","checked","className","styles","onChange","Text","mainColor","ml","filterName","mr","textTransform","hoverColor","textAlign","ProposalsList","page","loading","rowsPerPage","totalRows","totalPages","pending","active","canceled","defeated","succeeded","queued","expired","executed","processedRows","lastBlockNumber","processList","proposals","sort","b","ceil","preventDefault","pageChanged","proposalsChanged","JSON","stringify","filtersEnabled","hasActiveFilters","hasRows","m","FlexLoader","minHeight","loaderProps","textProps","text","pt","Governance_ProposalListFilters_ProposalListFilters","bind","TableHeader","cols","index","proposalId","TableRow","rowProps","goToSection","fieldComponent","rowId","cardId","height","prevPage","nextPage","h3","fontFamily","DelegateField","loadData","getENSName","ensName","opts","bgcolor","spotcolor","seed","DelegatesList","delegates","maxRows","splice","delegatesChanged","delegateId","Overview","totalSupply","dataLoaded","votesDelegated","governanceUtil","GovernanceUtil","getDelegates","getProposals","getTotalSupply","d","parseFloat","Title","pr","StatsCard","labelTooltip","titleMinHeight","pl","Governance_ProposalsList_ProposalsList","fields","mobile","parentProps","Governance_DelegatesList_DelegatesList","DelegateVote","newDelegate","processing","txHash","checkNewDelegate","checkAddress","currentDelegate","changeDelegate","target","setDelegate","tx","eventData","eventCategory","eventAction","eventLabel","getTransactionError","sendGoogleAnalyticsEvent","loadUserData","transactionHash","_this3","isUndelegated","account","canClose","right","icononly","closeFunc","themeMode","ethInput","ethInputDark","TxProgressBar","waitText","hash","endMessage","cancelTransaction","required","borderRadius","borderColor","backgroundColor","boxShadow","placeholder","border","RoundButton","buttonProps","mx","disabled","redeem","ConnectBox","Delegate","Breadcrumb","path","Governance_DelegateVote_DelegateVote","NewProposal","txError","actionValue","customABI","description","validated","newAction","editAction","actionInputs","actionValid","customAddress","contractOptions","proposalCreated","functionsOptions","selectedContract","selectedFunction","selectedSignature","availableFunctions","availableContracts","validateForm","checkInputs","loadFunctionsOptions","getGlobalConfig","contractName","field","contractABI","parse","getContractABI","f","includes","unshift","newState","valid","isValidJSON","fieldPattern","getPatternByFieldType","match","returnString","RegExp","inputValue","inputIndex","inputInfo","inputValid","validateField","split","n","toBN","substr","contract","getContractByName","_address","inputTypes","calldata","abi","encodeParameters","signature","join","action","params","function","_this4","signatures","calldatas","propose","_this5","completed","gte","proposalThreshold","onSubmit","handleSubmit","borderBottom","h4","handleInput","rows","actionIndex","titleParentProps","titleProps","setEditAction","display","counter","cardBg","changeContract","pattern","changeFunction","valueChange","fieldType","inputChange","addAction","deleteAction","actionBg","proposalMaxOperations","setNewAction","balance","fixTokenDecimals","CastVote","loaded","userVote","voteSucceed","showDelegateBox","setVote","castVote","callback","Governance_ProposalField_ProposalField","lte","toggleDelegateBox","onMouseDown","isActive","gt","ProposalDetails","showActionParams","callbackReceipt","queueProposal","executeProposal","window","creationTime","states","start_time","lastState","pop","hasVotes","forVotesPerc","times","againstVotesPerc","endTime","blocksToSeconds","votingPeriod","forVotesAddrs","lt","againstVotesAddrs","canQueue","canExecute","getTime","timelockDelay","utc","ExtLink","href","getEtherscanAddressUrl","proposer","ShortHash","lineHeight","Governance_CastVote_CastVote","decodedParams","attrs","decodeParameters","toggleShowParams","param","paramIndex","stateInfo","stateIndex","rel","getEtherscanTransactionUrl","trx_hash","wordBreak","dangerouslySetInnerHTML","__html","background","voteInfo","voteIndex","Proposals","addProposal","selectedProposal","contractsInitialized","item_id","foundProposal","pathLink","CardIconButton","Governance_ProposalDetails_ProposalDetails","Governance_NewProposal_NewProposal","DelegateDetails","loadProposals","rank","Leaderboard","selectedDelegate","Governance_DelegateDetails_DelegateDetails","Dashboard","menu","baseRoute","modalTitle","activeModal","blockNumber","currentRoute","modalContent","pageComponent","currentSection","selectedSection","selectedSubsection","timeoutId","resetModal","openTooltipModal","setActiveModal","logout","regenerator_default","setConnector","initWeb3","submenu","selected","route","component","bgColor","primary","isExternalLink","location","sectionRoute","section","subm","setCurrentSection","loadMenu","loadParams","accountInizialized","showResetButton","prevParams","accountChanged","isGovernance","newRoute","scrollTo","getBlockNumber","getVotingPeriod","getTimelockDelay","getProposalParams","getCurrentVotes","getTokensBalance","getCurrentDelegate","PageComponent","innerHeight","bottom","menuRightBorder","borderRight","DashboardMenu","overflowY","overflowX","DashboardHeader","urlParams","textSize","TooltipModal","closeModal","content","isOpen"],"mappings":"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","file":"static/js/4.8f5ed9c8.chunk.js","sourcesContent":["/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;","var freeGlobal = require('./_freeGlobal');\n/** Detect free variable `self`. */\n\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\nmodule.exports = root;","var root = require('./_root');\n/** Built-in value references. */\n\n\nvar Symbol = root.Symbol;\nmodule.exports = Symbol;","'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar debounce = _interopDefault(require('lodash/debounce'));\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nvar defer = function defer() {\n  var resolve = void 0;\n  var reject = void 0;\n  var promise = new Promise(function (rslv, rjct) {\n    resolve = rslv;\n    reject = rjct;\n  });\n  return {\n    promise: promise,\n    resolve: resolve,\n    reject: reject\n  };\n};\n\nvar proxyFunction = function proxyFunction(func, wait, options) {\n  var arrArg = [];\n  var deferred = defer();\n\n  var callThenResetArgs = function callThenResetArgs() {\n    try {\n      var result = func.apply(undefined, arguments); // Resolves with either a data, or a promise.\n\n      deferred.resolve && deferred.resolve(result);\n    } catch (err) {\n      deferred.reject && deferred.reject(err);\n    }\n\n    arrArg = [];\n    deferred = defer();\n  };\n\n  var debouncedFunc = debounce(callThenResetArgs, wait, options);\n  return function (arr) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    arrArg = arrArg.concat(arr);\n    debouncedFunc.apply(undefined, [arrArg].concat(_toConsumableArray(args)));\n    return deferred.promise;\n  };\n};\n\nmodule.exports = proxyFunction;","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n/** Error message constants. */\n\n\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;","var root = require('./_root');\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\n\nvar now = function now() {\n  return root.Date.now();\n};\n\nmodule.exports = now;","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\nmodule.exports = freeGlobal;","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n/** Used as references for various `Number` constants. */\n\n\nvar NAN = 0 / 0;\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = toNumber;","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n/** `Object#toString` result references. */\n\n\nvar symbolTag = '[object Symbol]';\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && baseGetTag(value) == symbolTag;\n}\n\nmodule.exports = isSymbol;","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n/** `Object#toString` result references. */\n\n\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n/** Built-in value references. */\n\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\n\nmodule.exports = baseGetTag;","var Symbol = require('./_Symbol');\n/** Used for built-in method references. */\n\n\nvar objectProto = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty = objectProto.hasOwnProperty;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar nativeObjectToString = objectProto.toString;\n/** Built-in value references. */\n\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\n\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n\n  return result;\n}\n\nmodule.exports = getRawTag;","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar nativeObjectToString = objectProto.toString;\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\n\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;","var _regeneratorRuntime = require(\"/Users/samuelecester/Desktop/git/idle-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _objectSpread = require(\"/Users/samuelecester/Desktop/git/idle-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread\");\n\nvar _toConsumableArray = require(\"/Users/samuelecester/Desktop/git/idle-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _asyncToGenerator = require(\"/Users/samuelecester/Desktop/git/idle-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar functionBatch = require('function-batch'); // ABI for transaction batcher contract.\n\n\nvar ABI = [{\n  constant: false,\n  inputs: [{\n    name: 'targets',\n    type: 'address[]'\n  }, {\n    name: 'values',\n    type: 'uint256[]'\n  }, {\n    name: 'datas',\n    type: 'bytes[]'\n  }],\n  name: 'batchSend',\n  outputs: [],\n  payable: true,\n  stateMutability: 'payable',\n  type: 'function'\n}];\n\nmodule.exports = function (web3, transactionBatcherContractAddress, privateKey, wait // The batch time window.\n) {\n  // Instantiate the transaction batcher contract.\n  var transactionBatcher = new web3.eth.Contract(ABI, transactionBatcherContractAddress); // Keep track of batches in the mempool.\n\n  var pendingBatches = []; // Calls to this function will be debounced into one call with all of the used arguments concatenated into an array.\n\n  var batchedSend = functionBatch(\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(transactions) {\n      var _ref2;\n\n      var batchIndex, batch, batchSend;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // Keep track of the index of the new batch, if any, so we can reference it in the confirmation handler below.\n              batchIndex = transactions.length > 0 ? pendingBatches.push(transactions) - 1 : pendingBatches.length; // Remove all transactions that would now fail, from pending batches.\n\n              _context.next = 3;\n              return Promise.all(pendingBatches.map(function (p) {\n                return Promise.all(p.map(function (t) {\n                  return t.method.apply(t, _toConsumableArray(t.args ? t.args : [])).estimateGas({\n                    value: t.value || 0\n                  }).then(function (gas) {\n                    return _objectSpread({}, t, {\n                      args: t.args || [],\n                      gas: gas,\n                      value: t.value || 0\n                    });\n                  }, function (_) {\n                    return undefined;\n                  });\n                })).then(function (p) {\n                  return p.filter(function (t) {\n                    return t;\n                  });\n                });\n              })).then(function (_pendingBatches) {\n                return pendingBatches = _pendingBatches;\n              });\n\n            case 3:\n              // Build data for the batch transaction using all the transactions in the new batch and all the transactions in previous pending batches.\n              // We do this because if we have pending batches by the time a new batch arrives, it means that their gas prices were too low, so sending a new batch transaction with the same nonce\n              // that includes the contents of the new batch and previous pending batches remediates this. If for some reason, the latest batch transaction is not the one that finally gets mined,\n              // we can just slice off the leading part of `pendingBatches` up to the batch whose transaction got mined and send a new batch transaction with all the transactions in the batches that remain.\n              batch = (_ref2 = []).concat.apply(_ref2, _toConsumableArray(pendingBatches)).reduce(function (acc, t) {\n                acc.datas.push(t.method.apply(t, _toConsumableArray(t.args)).encodeABI());\n                acc.targets.push(t.to);\n                acc.totalGas += t.gas;\n                acc.totalValue += t.value;\n                acc.values.push(t.value);\n                return acc;\n              }, {\n                datas: [],\n                targets: [],\n                totalGas: 0,\n                totalValue: 0,\n                values: []\n              }); // Send it if it has at least one item.\n\n              if (!(batch.targets.length > 0)) {\n                _context.next = 24;\n                break;\n              }\n\n              batchSend = transactionBatcher.methods.batchSend(batch.targets, batch.values, batch.datas);\n              _context.t0 = web3.eth;\n              _context.t1 = web3.eth.accounts;\n              _context.t2 = batchSend.encodeABI();\n              _context.next = 11;\n              return batchSend.estimateGas({\n                value: batch.totalValue\n              });\n\n            case 11:\n              _context.t3 = _context.sent;\n              _context.t4 = batch.totalGas;\n              _context.t5 = _context.t3 + _context.t4;\n              _context.t6 = transactionBatcher.options.address;\n              _context.t7 = batch.totalValue;\n              _context.t8 = {\n                data: _context.t2,\n                gas: _context.t5,\n                to: _context.t6,\n                value: _context.t7\n              };\n              _context.t9 = privateKey;\n              _context.next = 20;\n              return _context.t1.signTransaction.call(_context.t1, _context.t8, _context.t9);\n\n            case 20:\n              _context.t10 = _context.sent.rawTransaction;\n\n              _context.t11 = function (receipt) {\n                console.info('Batch receipt: ', receipt); // Remove all batches whose transactions were mined by using the `batchIndex` we have a closure over.\n\n                pendingBatches = pendingBatches.slice(batchIndex + 1);\n                if (pendingBatches.length > 0) batchedSend([]); // If some batches remain, send a new batch transaction with all of their transactions.\n              };\n\n              _context.t12 = function (err) {\n                console.error('Batch error: ', err); // We ignore errors, because lost transactions will just get sent in a future batch.\n              };\n\n              _context.t0.sendSignedTransaction.call(_context.t0, _context.t10).on('receipt', _context.t11).on('error', _context.t12);\n\n            case 24:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), wait);\n  return batchedSend;\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"radioBtn\":\"ProposalListFilters_radioBtn__2_8YL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"NewProposal_input__KvbCb\"};","import React, { Component } from 'react';\nimport { Flex, Text, Icon } from \"rimble-ui\";\nimport SmartNumber from '../../SmartNumber/SmartNumber';\nimport FunctionsUtil from '../../utilities/FunctionsUtil';\n\nclass ProposalField extends Component {\n\n  state = {};\n\n  // Utils\n  functionsUtil = null;\n\n  loadUtils(){\n    if (this.functionsUtil){\n      this.functionsUtil.setProps(this.props);\n    } else {\n      this.functionsUtil = new FunctionsUtil(this.props);\n    }\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    this.loadUtils();\n  }\n\n  render(){\n    let icon = null;\n    let color = null;\n    let output = null;\n    const fieldInfo = this.props.fieldInfo;\n    const proposal = Object.assign({},this.props.proposal);\n\n    const fieldProps = {\n      fontWeight:3,\n      fontSize:[0,2],\n      color:'cellText',\n      style:{\n        maxWidth:'100%',\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis'\n      },\n      flexProps:{\n        justifyContent:'flex-start'\n      }\n    };\n\n    // Replace props\n    if (fieldInfo.props && Object.keys(fieldInfo.props).length){\n      Object.keys(fieldInfo.props).forEach(p => {\n        fieldProps[p] = fieldInfo.props[p];\n      });\n    }\n\n\n    switch (fieldInfo.name){\n      case 'date':\n        const formattedDate = this.functionsUtil.strToMoment(proposal.timestamp*1000).format('DD MMM, YYYY');\n        output = (\n          <Text {...fieldProps}>{formattedDate}</Text>\n        );\n      break;\n      case 'statusIcon':\n        const state = fieldInfo.state ? fieldInfo.state : proposal.state;\n        switch (state) {\n          case 'Pending':\n            icon = \"HourglassEmpty\";\n            color = '#a5a5a5';\n          break;\n          case 'Active':\n            icon = \"Adjust\";\n            color = '#a5a5a5';\n          break;\n          case 'Canceled':\n            icon = \"Cancel\";\n            color = '#fa0000';\n          break;\n          case 'Defeated':\n            icon = \"Block\";\n            color = '#fa0000';\n          break;\n          case 'Succeeded':\n            icon = \"Done\";\n            color = '#00b84a';\n          break;\n          case 'Queued':\n            icon = \"Timelapse\";\n            color = '#ff9900';\n          break;\n          case 'Expired':\n            icon = \"ErrorOutline\";\n            color = '#a5a5a5';\n          break;\n          case 'Executed':\n            icon = \"CheckCircle\";\n            color = '#00b84a';\n          break;\n          default:\n          break;\n        }\n        output = (\n          <Flex\n            {...fieldProps}\n            alignItems={'center'}\n            justifyContent={'center'}\n          >\n            <Icon\n              name={icon}\n              color={color}\n              align={'center'}\n              size={ fieldProps.size ? fieldProps.size : (this.props.isMobile ? '1em' : '1.8em') }\n            />\n          </Flex>\n        );\n      break;\n      case 'id':\n        output = (\n          <Text {...fieldProps}>{proposal.id}</Text>\n        );\n      break;\n      case 'title':\n        output = (\n          <Text {...fieldProps}>{proposal.title}</Text>\n        );\n      break;\n      case 'votes':\n        const forVotes = this.functionsUtil.BNify(proposal.forVotes).div(1e18);\n        const againstVotes = this.functionsUtil.BNify(proposal.againstVotes).div(1e18);\n        const totalVotes = forVotes.plus(againstVotes);\n        output = (\n          <Text {...fieldProps}>{this.functionsUtil.formatMoney(totalVotes.toFixed(0,1),0)}</Text>\n        );\n      break;\n      case 'status':\n        output = (\n          <Text {...fieldProps}>{proposal.state}</Text>\n        );\n      break;\n      case 'support':\n        let support = null;\n        if (this.props.delegate){\n          const delegate = this.props.delegate.delegate.toLowerCase();\n          const vote = proposal.votes.find( v => (v.voter.toLowerCase() === delegate) );\n          if (vote){\n            support = vote.support;\n          }\n        }\n        output = (\n          <Text {...fieldProps}>{ support === null ? 'NONE' : (support ? 'FOR' : 'AGAINST') }</Text>\n        );\n      break;\n      case 'forVotes':\n        output = (\n          <SmartNumber {...fieldProps} number={proposal.forVotes} />\n        );\n      break;\n      case 'againstVotes':\n        output = (\n          <SmartNumber {...fieldProps} number={proposal.againstVotes} />\n        );\n      break;\n      default:\n      break;\n    }\n    return output;\n  }\n}\n\nexport default ProposalField;\n","import React, { Component } from 'react';\nimport styles from './ProposalListFilters.module.scss';\nimport DashboardCard from '../../DashboardCard/DashboardCard';\nimport { Flex, Text, Icon, Radio, Button, Link } from \"rimble-ui\";\nimport TableCellHeader from '../../TableCellHeader/TableCellHeader';\n\nclass ProposalListFilters extends Component {\n\n  state = {\n    maxWidth:0.4,\n    minWidth:0.18,\n    maxHeight:425,\n    isOpened:false,\n    activeFilters:{\n      status:null,\n      assets:null,\n      actions:null\n    }\n  }\n\n  setFilter = (filter,value) => {\n    this.setState((prevState) => ({\n      activeFilters:{\n        ...prevState.activeFilters,\n        [filter]:value\n      }\n    }));\n  }\n\n  applyFilters = (toggle=true) => {\n    if (typeof this.props.applyFilters === 'function'){\n      this.props.applyFilters(this.state.activeFilters);\n    }\n    if (toggle){\n      this.toggleOpened();\n    }\n  }\n\n  resetFilter = (filter) => {\n    this.setState((prevState) => ({\n      activeFilters:{\n        ...prevState.activeFilters,\n        [filter]:null\n      }\n    }),() => {\n      this.applyFilters(false);\n    });\n  }\n\n  resetFilters = (toggle=true) => {\n    this.setState({\n      activeFilters:{\n        status:null,\n        assets:null,\n        actions:null\n      }\n    },() => {\n      if (typeof this.props.resetFilters === 'function'){\n        this.props.resetFilters();\n      }\n      if (toggle){\n        this.toggleOpened();\n      }\n    })\n  }\n\n  toggleOpened = () => {\n    this.setState((prevState) => ({\n      isOpened: !prevState.isOpened\n    }));\n  }\n\n  render() {\n    return (\n      <Flex\n        mb={3}\n        top={0}\n        width={1}\n        zIndex={1}\n        flexDirection={'column'}\n        alignItems={'flex-start'}\n        justifyContent={'center'}\n        position={['relative','absolute']}\n      >\n        <DashboardCard\n          cardProps={{\n            py:2,\n            px:3,\n            width:[1, this.state.isOpened ? this.state.maxWidth : this.state.minWidth ],\n            style:{\n              transition:'width 0.3s ease-in-out'\n            }\n          }}\n          isInteractive={ !this.state.isOpened }\n          handleClick={ !this.state.isOpened ? this.toggleOpened : null }\n        >\n          <Flex\n            width={1}\n            style={{\n              cursor:'pointer'\n            }}\n            alignItems={'center'}\n            flexDirection={'row'}\n            justifyContent={'space-between'}\n            onClick={ this.state.isOpened ? this.toggleOpened : null }\n          >\n            <Text\n              fontSize={2}\n              fontWeight={500}\n              color={'copyColor'}\n            >\n              Filters\n            </Text>\n            <Icon\n              color={'copyColor'}\n              size={ this.props.isMobile ? '1.3em' : '1.5em'}\n              name={ this.state.isOpened ? 'Close' : 'Tune' }\n            />\n          </Flex>\n          <Flex\n            flexDirection={'column'}\n            style={{\n              overflow:'hidden',\n              transition:'max-height 0.3s ease-in-out',\n              maxHeight:this.state.isOpened ? this.state.maxHeight : 0\n            }}\n          >\n            <Flex\n              mt={2}\n              py={2}\n              width={1}\n              flexDirection={'row'}\n              borderTop={`1px solid ${this.props.theme.colors.divider}`}\n            >\n              {\n                Object.keys(this.props.filters).map((filterCategory) => {\n                  const filterValues = this.props.filters[filterCategory];\n                  return (\n                    <Flex\n                      flexDirection={'column'}\n                      key={`filter_${filterCategory}`}\n                      style={{\n                        flexBasis:'0',\n                        flex:'1 1 0px'\n                      }}\n                    >\n                      <TableCellHeader\n                        pb={2}\n                        fontWeight={3}\n                        fontSize={[0,2]}\n                        color={'cellText'}\n                      >\n                        {filterCategory.toUpperCase()}\n                      </TableCellHeader>\n                      {\n                        Object.keys(filterValues).map((filterValue) => {\n                          const filterLabel = filterValues[filterValue];\n                          const isChecked = this.state.activeFilters[filterCategory]===filterValue;\n                          return (\n                            <Radio\n                              my={2}\n                              fontSize={[0,2]}\n                              label={filterLabel}\n                              checked={isChecked}\n                              className={styles.radioBtn}\n                              key={`filter_${filterCategory}_${filterValue}`}\n                              onChange={ e => this.setFilter(filterCategory,filterValue) }\n                            />\n                          );\n                        })\n                      }\n                    </Flex>\n                  );\n                })\n              }\n            </Flex>\n            <Flex\n              flexDirection={'row'}\n            >\n              <Button.Text\n                fontWeight={4}\n                fontSize={[2,3]}\n                mainColor={'copyColor'}\n                onClick={this.applyFilters}\n              >\n                Apply filters\n              </Button.Text>\n              <Button.Text\n                ml={3}\n                fontWeight={4}\n                fontSize={[2,3]}\n                mainColor={'copyColor'}\n                onClick={this.resetFilters}\n              >\n                Reset\n              </Button.Text>\n            </Flex>\n          </Flex>\n        </DashboardCard>\n        {\n          !this.state.isOpened && this.props.activeFilters && Object.values(this.props.activeFilters).filter( v => (v !== null) ).length>0 &&\n            <Flex\n              mt={3}\n              width={1}\n              flexDirection={['column','row']}\n              alignItems={['flex-start','flex-end']}\n              justifyContent={['flex-end','flex-start']}\n            >\n              {\n                Object.keys(this.props.activeFilters).map((filterName) => {\n                  const filterValue = this.props.activeFilters[filterName];\n                  if (filterValue !== null){\n                    const filterLabel = this.props.filters[filterName][filterValue];\n                    return (\n                      <DashboardCard\n                        cardProps={{\n                          py:2,\n                          px:3,\n                          mb:[2,0],\n                          mr:[0,3],\n                          width:[1,this.state.minWidth]\n                        }}\n                        isInteractive={true}\n                        key={`filter_${filterName}`}\n                      >\n                        <Flex\n                          width={1}\n                          style={{\n                            cursor:'pointer'\n                          }}\n                          alignItems={'center'}\n                          flexDirection={'row'}\n                          justifyContent={'space-between'}\n                          onClick={e => this.resetFilter(filterName)}\n                        >\n                          <Text\n                            fontSize={2}\n                            fontWeight={500}\n                            color={'cellText'}\n                            style={{\n                              textTransform:'capitalize'\n                            }}\n                          >\n                            {filterLabel}\n                          </Text>\n                          <Icon\n                            name={'Close'}\n                            color={'cellText'}\n                            size={ this.props.isMobile ? '1.3em' : '1.5em'}\n                          />\n                        </Flex>\n                      </DashboardCard>\n                    );\n                  }\n                  return null;\n                })\n              }\n              <Link\n                mt={[2,0]}\n                fontSize={[3,2]}\n                fontWeight={[3]}\n                color={'dark-gray'}\n                hoverColor={'copyColor'}\n                textAlign={['center','left']}\n                onClick={ e => this.resetFilters(false) }\n              >\n                Clear all filters\n              </Link>\n            </Flex>\n        }\n      </Flex>\n    );\n  }\n}\n\nexport default ProposalListFilters;","import React, { Component } from 'react';\nimport TableRow from '../../TableRow/TableRow';\nimport FlexLoader from '../../FlexLoader/FlexLoader';\nimport TableHeader from '../../TableHeader/TableHeader';\nimport FunctionsUtil from '../../utilities/FunctionsUtil';\nimport ProposalField from '../ProposalField/ProposalField';\nimport { Flex, Heading, Text, Link, Icon } from \"rimble-ui\";\nimport ProposalListFilters from '../ProposalListFilters/ProposalListFilters';\n\nclass ProposalsList extends Component {\n\n  state = {\n    page:1,\n    loading:true,\n    rowsPerPage:10,\n    totalRows:null,\n    totalPages:null,\n    activeFilters:{\n      status:null,\n    },\n    filters:{\n      status:{\n        pending:'Pending',\n        active:'Active',\n        canceled:'Canceled',\n        defeated:'Defeated',\n        succeeded:'Succeeded',\n        queued:'Queued',\n        expired:'Expired',\n        executed:'Executed'\n      },\n    },\n    processedRows:null,\n    lastBlockNumber:null\n  };\n\n  // Utils\n  functionsUtil = null;\n\n  loadUtils(){\n    if (this.functionsUtil){\n      this.functionsUtil.setProps(this.props);\n    } else {\n      this.functionsUtil = new FunctionsUtil(this.props);\n    }\n  }\n\n  prevPage(e){\n    if (e){\n      e.preventDefault();\n    }\n    const page = Math.max(1,this.state.page-1);\n    this.setState({\n      page\n    });\n  }\n\n  nextPage(e){\n    if (e){\n      e.preventDefault();\n    }\n    const page = Math.min(this.state.totalPages,this.state.page+1);\n    this.processList(page);\n    this.setState({\n      page\n    });\n  }\n\n  async componentDidMount(){\n    this.loadUtils();\n    this.processList();\n  }\n\n  applyFilters = activeFilters => {\n    this.setState({\n      activeFilters\n    },() => {\n      this.processList();\n    });\n  }\n\n  resetFilters = () => {\n    this.setState({\n      activeFilters:{\n        status:null,\n      }\n    },() => {\n      this.processList();\n    });\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    this.loadUtils();\n    const pageChanged = prevState.page !== this.state.page;\n    const proposalsChanged = JSON.stringify(prevProps.proposals) !== JSON.stringify(this.props.proposals);\n    if (pageChanged || proposalsChanged){\n      this.processList();\n    }\n  }\n\n  processList = (page=null) => {\n\n    if (!this.props.proposals){\n      return false;\n    }\n\n    page = page ? page : this.state.page;\n\n    const rowsPerPage = this.props.rowsPerPage ? this.props.rowsPerPage : this.state.rowsPerPage;\n\n    // Sort Proposals by timeStamp\n    const proposals = Object.values(this.props.proposals)\n                        .filter(p => (\n                          (this.state.activeFilters.status === null || p.state.toLowerCase() === this.state.activeFilters.status.toLowerCase())\n                        )) // Filter by activeFilters\n                        .sort((a,b) => (a.timestamp > b.timestamp) ? -1 : 1 );\n\n    // Calculate max number of pages\n    const totalRows = proposals.length;\n    const totalPages = Math.ceil(totalRows/rowsPerPage);\n\n    const processedRows = [];\n\n    proposals.forEach((p, i) => {\n      if (i>=((page-1)*rowsPerPage) && i<((page-1)*rowsPerPage)+rowsPerPage) {\n        processedRows.push(p);\n      }\n    });\n\n    const loading = false;\n  \n    this.setState({\n      loading,\n      totalRows,\n      totalPages,\n      processedRows\n    });\n  }\n\n  render() {\n\n    const filtersEnabled = typeof this.props.filtersEnabled === 'undefined' || this.props.filtersEnabled;\n    const hasActiveFilters = filtersEnabled && Object.values(this.state.activeFilters).filter( v => (v !== null) ).length>0;\n    const processedRows = this.state.processedRows ? Object.values(this.state.processedRows) : null;\n    const hasRows = processedRows && processedRows.length>0;\n\n    return (\n      <Flex flexDirection={'column'} width={1} m={'0 auto'}>\n        {\n          (this.state.loading || !this.state.processedRows === null) ? (\n            <FlexLoader\n              flexProps={{\n                minHeight:'50vh',\n                flexDirection:'row'\n              }}\n              loaderProps={{\n                size:'30px'\n              }}\n              textProps={{\n                ml:2\n              }}\n              text={'Loading Proposals...'}\n            />\n          ) : (\n            <Flex\n              width={1}\n              position={'relative'}\n              flexDirection={'column'}\n              id={'proposals-list-container'}\n              pt={[0, (!filtersEnabled || !hasRows ? 0 : hasActiveFilters ? '116px' : 5) ] }\n            >\n              {\n                hasRows ? (\n                  <Flex\n                    width={1}\n                    flexDirection={'column'}\n                  >\n                    {\n                      filtersEnabled &&\n                        <ProposalListFilters\n                          {...this.props}\n                          filters={this.state.filters}\n                          activeFilters={this.state.activeFilters}\n                          resetFilters={this.resetFilters.bind(this)}\n                          applyFilters={this.applyFilters.bind(this)}\n                        />\n                    }\n                    <TableHeader\n                      cols={this.props.cols}\n                      isMobile={this.props.isMobile}\n                    />\n                    <Flex\n                      id={'proposals-list'}\n                      flexDirection={'column'}\n                    >\n                      {\n                        processedRows.map( (proposal,index) => {\n                          const proposalId = proposal.id;\n                          const handleClick = (e) => {\n                            return (proposalId ? this.props.goToSection(`proposals/${proposalId}`) : null);\n                          };\n                          return (\n                            <TableRow\n                              {...this.props}\n                              rowProps={{\n                                isInteractive:true\n                              }}\n                              id={proposalId}\n                              proposal={proposal}\n                              handleClick={handleClick}\n                              key={`proposal-${proposalId}`}\n                              fieldComponent={ProposalField}\n                              rowId={`proposal-col-${proposalId}`}\n                              cardId={`proposal-card-${proposalId}`}\n                            />\n                          );\n                        })\n                      }\n                    </Flex>\n                    <Flex\n                      height={'50px'}\n                      alignItems={'center'}\n                      flexDirection={'row'}\n                      justifyContent={'flex-end'}\n                      id={'proposals-list-pagination'}\n                    >\n                      <Flex mr={3}>\n                        <Link mr={1} onClick={ e => this.prevPage(e) }>\n                          <Icon\n                            name={'KeyboardArrowLeft'}\n                            size={'2em'}\n                            color={ this.state.page>1 ? 'pageActive' : 'pageInactive' }\n                          />\n                        </Link>\n                        <Link onClick={ e => this.nextPage(e) }>\n                          <Icon\n                            name={'KeyboardArrowRight'}\n                            size={'2em'}\n                            color={ this.state.page<this.state.totalPages ? 'pageActive' : 'pageInactive' }\n                          />\n                        </Link>\n                      </Flex>\n                      <Flex alignItems={'center'}>\n                        <Text \n                          fontSize={1}\n                          fontWeight={3}\n                          color={'cellText'}\n                        >\n                          Page {this.state.page} of {this.state.totalPages}\n                        </Text>\n                      </Flex>\n                    </Flex>\n                  </Flex>\n                ) : (\n                  <Heading.h3\n                    fontWeight={2}\n                    fontSize={[2,3]}\n                    color={'dark-gray'}\n                    textAlign={'center'}\n                    fontFamily={'sansSerif'}\n                  >\n                    There are no proposals\n                  </Heading.h3>\n                )\n              }\n            </Flex>\n          )\n        }\n      </Flex>\n    );\n  }\n}\n\nexport default ProposalsList;\n","import React, { Component } from 'react';\nimport { Flex, Text, Blockie, Loader } from \"rimble-ui\";\nimport FunctionsUtil from '../../utilities/FunctionsUtil';\n\nclass DelegateField extends Component {\n\n  state = {\n    value:null\n  };\n\n  // Utils\n  functionsUtil = null;\n\n  loadUtils(){\n    if (this.functionsUtil){\n      this.functionsUtil.setProps(this.props);\n    } else {\n      this.functionsUtil = new FunctionsUtil(this.props);\n    }\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    this.loadUtils();\n    const delegateChanged = JSON.stringify(prevProps.delegate) !== JSON.stringify(this.props.delegate);\n    if (delegateChanged){\n      this.loadData();\n    }\n  }\n\n  async loadData(){\n    const fieldInfo = this.props.fieldInfo;\n    const delegate = Object.assign({},this.props.delegate);\n\n    let value = delegate[fieldInfo.name];\n    switch (fieldInfo.name){\n      case 'votes':\n        value = this.functionsUtil.formatMoney(this.functionsUtil.BNify(value).toFixed(2,1),2);\n      break;\n      case 'delegate':\n        const ensName = await this.functionsUtil.getENSName(value);\n        value = ensName || value;\n      break;\n      default:\n      break;\n    }\n\n    this.setState({\n      value\n    });\n  }\n\n  render(){\n    let output = null;\n    const fieldInfo = this.props.fieldInfo;\n    const delegate = Object.assign({},this.props.delegate);\n\n    const fieldProps = {\n      fontWeight:3,\n      fontSize:[0,2],\n      color:'cellText',\n      style:{\n        maxWidth:'100%',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis'\n      },\n      flexProps:{\n        justifyContent:'flex-start'\n      }\n    };\n\n    // Replace props\n    if (fieldInfo.props && Object.keys(fieldInfo.props).length){\n      Object.keys(fieldInfo.props).forEach(p => {\n        fieldProps[p] = fieldInfo.props[p];\n      });\n    }\n\n    switch (fieldInfo.name){\n      case 'avatar':\n        output = (\n          <Flex\n            {...fieldProps}\n            alignItems={'center'}\n            justifyContent={'center'}\n          >\n            <Blockie\n              opts={{\n                size: 7,\n                color: \"#dfe\",\n                bgcolor: \"#a71\",\n                spotcolor: \"#000\",\n                seed: delegate.delegate,\n              }}\n            />\n          </Flex>\n        );\n      break;\n      default:\n        output = this.state.value !== null ? (\n          <Text\n            {...fieldProps}\n          >\n            {this.state.value}\n          </Text>\n        ) : (<Loader size={\"20px\"} />);\n      break;\n    }\n    return output;\n  }\n}\n\nexport default DelegateField;\n","import React, { Component } from 'react';\nimport TableRow from '../../TableRow/TableRow';\nimport FlexLoader from '../../FlexLoader/FlexLoader';\nimport TableHeader from '../../TableHeader/TableHeader';\nimport FunctionsUtil from '../../utilities/FunctionsUtil';\nimport DelegateField from '../DelegateField/DelegateField';\nimport { Flex, Heading, Text, Link, Icon } from \"rimble-ui\";\n\nclass DelegatesList extends Component {\n\n  state = {\n    page:1,\n    filters:{},\n    loading:true,\n    rowsPerPage:10,\n    totalRows:null,\n    totalPages:null,\n    activeFilters:{},\n    processedRows:null,\n    lastBlockNumber:null\n  };\n\n  // Utils\n  functionsUtil = null;\n\n  loadUtils(){\n    if (this.functionsUtil){\n      this.functionsUtil.setProps(this.props);\n    } else {\n      this.functionsUtil = new FunctionsUtil(this.props);\n    }\n  }\n\n  prevPage(e){\n    if (e){\n      e.preventDefault();\n    }\n    const page = Math.max(1,this.state.page-1);\n    this.setState({\n      page\n    });\n  }\n\n  nextPage(e){\n    if (e){\n      e.preventDefault();\n    }\n    const page = Math.min(this.state.totalPages,this.state.page+1);\n    this.processList(page);\n    this.setState({\n      page\n    });\n  }\n\n  async componentDidMount(){\n    this.loadUtils();\n    this.processList();\n  }\n\n  applyFilters = activeFilters => {\n    this.setState({\n      activeFilters\n    },() => {\n      this.processList();\n    });\n  }\n\n  resetFilters = () => {\n    this.setState({\n      activeFilters:{\n        status:null,\n      }\n    },() => {\n      this.processList();\n    });\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    this.loadUtils();\n    const pageChanged = prevState.page !== this.state.page;\n    const delegatesChanged = JSON.stringify(prevProps.delegates) !== JSON.stringify(this.props.delegates);\n    if (pageChanged || delegatesChanged){\n      this.processList();\n    }\n  }\n\n  processList = (page=null) => {\n\n    if (!this.props.delegates){\n      return false;\n    }\n\n    page = page ? page : this.state.page;\n\n    const rowsPerPage = this.props.rowsPerPage ? this.props.rowsPerPage : this.state.rowsPerPage;\n\n    // Sort Proposals by timeStamp\n    let delegates = Object.values(this.props.delegates)\n                        .sort((a,b) => (a.timestamp > b.timestamp) ? -1 : 1 );\n\n    if (this.props.maxRows !== null && this.props.maxRows>0){\n      delegates = delegates.splice(0,this.props.maxRows);\n    }\n\n    // Calculate max number of pages\n    const totalRows = delegates.length;\n    const totalPages = Math.ceil(totalRows/rowsPerPage);\n\n    const processedRows = [];\n\n    delegates.forEach((p, i) => {\n      if (i>=((page-1)*rowsPerPage) && i<((page-1)*rowsPerPage)+rowsPerPage) {\n        processedRows.push(p);\n      }\n    });\n\n    const loading = false;\n  \n    this.setState({\n      loading,\n      totalRows,\n      totalPages,\n      processedRows\n    });\n  }\n\n  render() {\n\n    const processedRows = this.state.processedRows ? Object.values(this.state.processedRows) : null;\n\n    return (\n      <Flex flexDirection={'column'} width={1} m={'0 auto'}>\n        {\n          (this.state.loading || !this.state.processedRows === null) ? (\n            <FlexLoader\n              flexProps={{\n                minHeight:'50vh',\n                flexDirection:'row'\n              }}\n              loaderProps={{\n                size:'30px'\n              }}\n              textProps={{\n                ml:2\n              }}\n              text={'Loading Leaderboard...'}\n            />\n          ) : (\n            <Flex\n              width={1}\n              position={'relative'}\n              flexDirection={'column'}\n              id={'delegates-list-container'}\n            >\n              {\n                processedRows && processedRows.length>0 ? (\n                  <Flex\n                    width={1}\n                    flexDirection={'column'}\n                  >\n                    <TableHeader\n                      cols={this.props.cols}\n                      isMobile={this.props.isMobile}\n                    />\n                    <Flex\n                      id={'delegates-list'}\n                      flexDirection={'column'}\n                    >\n                      {\n                        processedRows.map( (delegate,index) => {\n                          const delegateId = delegate.delegate;\n                          const handleClick = (e) => {\n                            return (delegateId ? this.props.goToSection(`leaderboard/${delegateId}`) : null);\n                          };\n                          return (\n                            <TableRow\n                              {...this.props}\n                              rowProps={{\n                                isInteractive:true\n                              }}\n                              id={delegateId}\n                              delegate={delegate}\n                              key={`delegate-${index}`}\n                              handleClick={handleClick}\n                              fieldComponent={DelegateField}\n                              rowId={`delegate-col-${index}`}\n                              cardId={`delegate-card-${index}`}\n                            />\n                          );\n                        })\n                      }\n                    </Flex>\n                    <Flex\n                      height={'50px'}\n                      alignItems={'center'}\n                      flexDirection={'row'}\n                      justifyContent={'flex-end'}\n                      id={'delegates-list-pagination'}\n                    >\n                      <Flex mr={3}>\n                        <Link\n                          mr={1}\n                          onClick={ e => this.prevPage(e) }\n                        >\n                          <Icon\n                            size={'2em'}\n                            name={'KeyboardArrowLeft'}\n                            color={ this.state.page>1 ? 'pageActive' : 'pageInactive' }\n                          />\n                        </Link>\n                        <Link\n                          onClick={ e => this.nextPage(e) }\n                        >\n                          <Icon\n                            size={'2em'}\n                            name={'KeyboardArrowRight'}\n                            color={ this.state.page<this.state.totalPages ? 'pageActive' : 'pageInactive' }\n                          />\n                        </Link>\n                      </Flex>\n                      <Flex alignItems={'center'}>\n                        <Text \n                          fontSize={1}\n                          fontWeight={3}\n                          color={'cellText'}\n                        >\n                          Page {this.state.page} of {this.state.totalPages}\n                        </Text>\n                      </Flex>\n                    </Flex>\n                  </Flex>\n                ) : (\n                  <Heading.h3\n                    fontWeight={2}\n                    fontSize={[2,3]}\n                    color={'dark-gray'}\n                    textAlign={'center'}\n                    fontFamily={'sansSerif'}\n                  >\n                    There are no delegates\n                  </Heading.h3>\n                )\n              }\n            </Flex>\n          )\n        }\n      </Flex>\n    );\n  }\n}\n\nexport default DelegatesList;\n","import Title from '../Title/Title';\nimport { Box, Flex } from \"rimble-ui\";\nimport React, { Component } from 'react';\nimport StatsCard from '../StatsCard/StatsCard';\nimport FlexLoader from '../FlexLoader/FlexLoader';\nimport GovernanceUtil from '../utilities/GovernanceUtil';\nimport ProposalsList from './ProposalsList/ProposalsList';\nimport DelegatesList from './DelegatesList/DelegatesList';\n\nclass Overview extends Component {\n\n  state = {\n    delegates:[],\n    proposals:[],\n    totalSupply:0,\n    dataLoaded:false,\n    votesDelegated:0,\n  };\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n  }\n\n  async loadData(){\n    const [\n      delegates,\n      proposals,\n      totalSupply\n    ] = await Promise.all([\n      this.governanceUtil.getDelegates(),\n      this.governanceUtil.getProposals(),\n      this.governanceUtil.getTotalSupply()\n    ]);\n\n    const votesDelegated = delegates.reduce( (votesDelegated,d) => {\n      votesDelegated = votesDelegated+parseFloat(d.votes);\n      return votesDelegated;\n    },0);\n\n    const dataLoaded = true;\n\n    this.setState({\n      delegates,\n      proposals,\n      dataLoaded,\n      totalSupply,\n      votesDelegated\n    });\n  }\n\n  render() {\n    return (\n      <Box\n        width={1}\n      >\n        <Title\n          mb={[3,4]}\n        >\n          Governance Overview\n        </Title>\n        {\n          !this.state.dataLoaded ? (\n            <FlexLoader\n              flexProps={{\n                minHeight:'50vh',\n                flexDirection:'row'\n              }}\n              loaderProps={{\n                size:'30px'\n              }}\n              textProps={{\n                ml:2\n              }}\n              text={'Loading Data...'}\n            />\n          ) : (\n            <Box\n              width={1}\n            >\n              <Flex\n                width={1}\n                mb={[3,4]}\n                alignItems={'center'}\n                justifyContent={'center'}\n                flexDirection={['column','row']}\n              >\n                <Flex\n                  mb={[2,0]}\n                  pr={[0,1]}\n                  width={[1,1/4]}\n                  flexDirection={'column'}\n                >\n                  <StatsCard\n                    label={null}\n                    labelTooltip={null}\n                    title={'Votes Delegated'}\n                    minHeight={['130px','143px']}\n                    titleMinHeight={['auto','50px']}\n                    value={this.functionsUtil.formatMoney(this.state.votesDelegated.toFixed(2,1),2)}\n                  />\n                </Flex>\n                <Flex\n                  mb={[2,0]}\n                  pl={[0,1]}\n                  pr={[0,1]}\n                  width={[1,1/4]}\n                  flexDirection={'column'}\n                >\n                  <StatsCard\n                    label={null}\n                    labelTooltip={null}\n                    title={'Voting Addresses'}\n                    minHeight={['130px','143px']}\n                    titleMinHeight={['auto','50px']}\n                    value={this.state.delegates.length}\n                  />\n                </Flex>\n                <Flex\n                  mb={[2,0]}\n                  pl={[0,1]}\n                  pr={[0,1]}\n                  width={[1,1/4]}\n                  flexDirection={'column'}\n                >\n                  <StatsCard\n                    label={null}\n                    labelTooltip={null}\n                    title={'Proposals'}\n                    minHeight={['130px','143px']}\n                    titleMinHeight={['auto','50px']}\n                    value={this.state.proposals.length}\n                  />\n                </Flex>\n                <Flex\n                  pl={[0,1]}\n                  mb={[2,0]}\n                  width={[1,1/4]}\n                  flexDirection={'column'}\n                >\n                  <StatsCard\n                    label={null}\n                    labelTooltip={null}\n                    title={'IDLE Circulating'}\n                    minHeight={['130px','143px']}\n                    titleMinHeight={['auto','50px']}\n                    value={this.functionsUtil.formatMoney(this.state.totalSupply,0)}\n                  />\n                </Flex>\n              </Flex>\n              <Box\n                width={1}\n                mt={[4,5]}\n              >\n                <Title\n                  mb={[3,4]}\n                >\n                  Recent Proposals\n                </Title>\n                <Flex\n                  mb={[3,4]}\n                  width={1}\n                  id={'transactions'}\n                  flexDirection={'column'}\n                >\n                  <ProposalsList\n                    {...this.props}\n                    rowsPerPage={5}\n                    filtersEnabled={false}\n                    proposals={this.state.proposals}\n                    cols={[\n                      {\n                        title: '#',\n                        props:{\n                          width:[0.1,0.05]\n                        },\n                        fields:[\n                          {\n                            name:'id',\n                            props:{\n                            }\n                          },\n                        ]\n                      },\n                      {\n                        title:'DATE',\n                        mobile:false,\n                        props:{\n                          width:[0.15,0.12],\n                        },\n                        fields:[\n                          {\n                            name:'date'\n                          }\n                        ]\n                      },\n                      {\n                        title:'TITLE',\n                        props:{\n                          width:[0.75,0.60],\n                        },\n                        fields:[\n                          {\n                            name:'title'\n                          }\n                        ]\n                      },\n                      {\n                        mobile:false,\n                        title:'VOTES',\n                        props:{\n                          width:[0.11,0.11],\n                        },\n                        fields:[\n                          {\n                            name:'votes'\n                          }\n                        ]\n                      },\n                      {\n                        title:'STATUS',\n                        props:{\n                          width:[0.15,0.12],\n                          alignItems:['center','flex-start'],\n                          justifyContent:['center','flex-start']\n                        },\n                        parentProps:{\n                          justifyContent:['center','flex-start']\n                        },\n                        fields:[\n                          {\n                            name:'statusIcon',\n                            props:{\n                              mr:[0,2],\n                            },\n                          },\n                          {\n                            mobile:false,\n                            name:'status'\n                          }\n                        ]\n                      },\n                    ]}\n                  />\n                </Flex>\n              </Box>\n              <Box\n                width={1}\n              >\n                <Title\n                  mb={[3,4]}\n                >\n                  Leaderboard\n                </Title>\n                <Flex\n                  mb={[3,4]}\n                  width={1}\n                  id={'transactions'}\n                  flexDirection={'column'}\n                >\n                  <DelegatesList\n                    maxRows={100}\n                    {...this.props}\n                    rowsPerPage={5}\n                    delegates={this.state.delegates}\n                    cols={[\n                      {\n                        title: 'RANK',\n                        props:{\n                          width:[0.13,0.08]\n                        },\n                        fields:[\n                          {\n                            name:'rank'\n                          },\n                        ]\n                      },\n                      {\n                        title:'ADDRESS',\n                        props:{\n                          width:[0.60,0.50],\n                        },\n                        fields:[\n                          {\n                            mobile:false,\n                            name:'avatar',\n                            props:{\n                              mr:2\n                            }\n                          },\n                          {\n                            name:'delegate'\n                          }\n                        ]\n                      },\n                      {\n                        title:'VOTES',\n                        props:{\n                          width:[0.27,0.12],\n                        },\n                        fields:[\n                          {\n                            name:'votes'\n                          }\n                        ]\n                      },\n                      {\n                        mobile:false,\n                        title:'VOTE WEIGHT',\n                        props:{\n                          width:[0.15,0.15],\n                        },\n                        fields:[\n                          {\n                            name:'vote_weight',\n                            parentProps:{\n                              alignItems:'center'\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        mobile:false,\n                        title:'PROPOSALS VOTED',\n                        props:{\n                          width:[0.15,0.15],\n                        },\n                        fields:[\n                          {\n                            name:'proposals',\n                            parentProps:{\n                              alignItems:'center'\n                            }\n                          }\n                        ]\n                      },\n                    ]}\n                  />\n                </Flex>\n              </Box>\n            </Box>\n          )\n        }\n      </Box>\n    );\n  }\n}\n\nexport default Overview;\n","import React, { Component } from 'react';\nimport ConnectBox from '../../ConnectBox/ConnectBox';\nimport FlexLoader from '../../FlexLoader/FlexLoader';\nimport RoundButton from '../../RoundButton/RoundButton';\nimport GovernanceUtil from '../../utilities/GovernanceUtil';\nimport DashboardCard from '../../DashboardCard/DashboardCard';\nimport TxProgressBar from '../../TxProgressBar/TxProgressBar';\nimport styles from '../../CryptoInput/CryptoInput.module.scss';\nimport { Flex, Text, Input, Button, Box, EthAddress } from \"rimble-ui\";\n\nclass DelegateVote extends Component {\n\n  state = {\n    newDelegate:'',\n    processing:{\n      txHash:null,\n      loading:false\n    }\n  }\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n  }\n\n  checkNewDelegate = () => {\n    return this.functionsUtil.checkAddress(this.state.newDelegate) && this.state.newDelegate.toLowerCase() !== this.props.currentDelegate.toLowerCase();\n  }\n\n  async cancelTransaction(){\n    this.setState({\n      processing: {\n        txHash:null,\n        loading:false\n      }\n    });\n  }\n\n  setDelegate(address){\n    const addressOk = this.functionsUtil.checkAddress(address);\n\n    if (addressOk){\n\n      const callback = (tx,error) => {\n        // Send Google Analytics event\n        const eventData = {\n          eventCategory: 'Delegate',\n          eventAction: address,\n          eventLabel: tx.status\n        };\n\n        if (error){\n          eventData.eventLabel = this.functionsUtil.getTransactionError(error);\n        }\n\n        // Send Google Analytics event\n        if (error || eventData.status !== 'error'){\n          this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n        }\n\n        if (typeof this.props.loadUserData === 'function' && tx.status === 'success'){\n          this.props.loadUserData();\n        }\n\n        this.setState({\n          processing: {\n            txHash:null,\n            loading:false\n          }\n        });\n      };\n\n      const callbackReceipt = (tx) => {\n        const txHash = tx.transactionHash;\n        this.setState((prevState) => ({\n          processing: {\n            ...prevState.processing,\n            txHash\n          }\n        }));\n      };\n\n      this.governanceUtil.setDelegate(address,callback,callbackReceipt);\n\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          loading:true\n        }\n      }));\n    }\n    return null;\n  }\n\n  changeDelegate = (e) => {\n    const newDelegate = e.target.value;\n    this.setState({\n      newDelegate\n    });\n  }\n\n  render() {\n    const isUndelegated = parseInt(this.props.currentDelegate) === 0;\n    return (\n      <Flex\n        width={1}\n        alignItems={'center'}\n        flexDirection={'column'}\n        justifyContent={'center'}\n      >\n        {\n        !this.props.account ? (\n          <Flex\n            width={[1,0.36]}\n            alignItems={'stretch'}\n            flexDirection={'column'}\n            justifyContent={'center'}\n          >\n            <ConnectBox\n              {...this.props}\n            />\n          </Flex>\n        ) : this.props.currentDelegate ? (\n          <DashboardCard\n            cardProps={{\n              mb:2,\n              py:[2,3],\n              px:[3,4],\n              width:[1,0.5],\n              position:'relative',\n            }}\n            isInteractive={false}\n          >\n            {\n              this.props.canClose &&\n                <Box\n                  top={'0'}\n                  zIndex={1}\n                  right={'0'}\n                  position={'absolute'}\n                >\n                  <Button.Text\n                    icononly\n                    icon={'Close'}\n                    size={'2.5em'}\n                    mainColor={'statValue'}\n                    onClick={this.props.closeFunc}\n                  />\n                </Box>\n            }\n            <Flex\n              width={1}\n              alignItems={'center'}\n              flexDirection={'column'}\n              justifyContent={'center'}\n            >\n              {\n                /*\n                <Text\n                  mb={2}\n                  fontWeight={3}\n                  fontSize={[2,3]}\n                  color={'dark-gray'}\n                  textAlign={'center'}\n                >\n                  You have {this.functionsUtil.fixTokenDecimals(this.props.balance,18).toFixed(4)} {this.functionsUtil.getGlobalConfig(['governance','props','tokenName'])} available.\n                </Text>\n                */\n              }\n              <Text\n                mb={1}\n                fontWeight={3}\n                color={'statValue'}\n                textAlign={'center'}\n              >\n                Current Delegate:\n              </Text>\n              <Flex\n                mb={3}\n                width={1}\n                alignItems={'center'}\n                justifyContent={isUndelegated ? 'center' : 'stretch'}\n              >\n                {\n                  isUndelegated ? (\n                    <Text\n                      fontWeight={3}\n                      fontSize={[1,2]}\n                      color={'dark-gray'}\n                      textAlign={'center'}\n                    >\n                      Undelegated\n                    </Text>\n                  ) : (\n                    <EthAddress\n                      width={1}\n                      address={this.props.currentDelegate}\n                      className={ this.props.themeMode === 'light' ? styles.ethInput : styles.ethInputDark }\n                    />\n                  )\n                }\n              </Flex>\n              {\n                this.state.processing && this.state.processing.loading ? (\n                  <Flex\n                    width={1}\n                    flexDirection={'column'}\n                  >\n                    <TxProgressBar\n                      web3={this.props.web3}\n                      waitText={`Delegate estimated in`}\n                      hash={this.state.processing.txHash}\n                      endMessage={`Finalizing delegate request...`}\n                      cancelTransaction={this.cancelTransaction.bind(this)}\n                    />\n                  </Flex>\n                ) : (\n                  <Flex\n                    width={1}\n                    alignItems={'center'}\n                    flexDirection={'column'}\n                    justifyContent={'center'}\n                  >\n                    <Text\n                      mb={1}\n                      fontWeight={3}\n                      color={'statValue'}\n                      textAlign={'center'}\n                    >\n                      Set New Delegate:\n                    </Text>\n                    <Input\n                      min={0}\n                      type={'text'}\n                      width={'100%'}\n                      required={true}\n                      height={'3.4em'}\n                      borderRadius={2}\n                      fontWeight={500}\n                      textAlign={'center'}\n                      borderColor={'cardBorder'}\n                      backgroundColor={'cardBg'}\n                      boxShadow={'none !important'}\n                      value={this.state.newDelegate}\n                      placeholder={`Insert delegate address`}\n                      onChange={this.changeDelegate.bind(this)}\n                      border={`1px solid ${this.props.theme.colors.divider}`}\n                    />\n                    <Flex\n                      mt={3}\n                      width={1}\n                      alignItems={'center'}\n                      flexDirection={'row'}\n                      justifyContent={'center'}\n                    >\n                      <RoundButton\n                        buttonProps={{\n                          mx:1,\n                          fontSize:[1,2],\n                          width:['auto','10em'],\n                          disabled:!this.checkNewDelegate()\n                        }}\n                        handleClick={ e => this.setDelegate(this.state.newDelegate) }\n                      >\n                        Delegate\n                      </RoundButton>\n                      <RoundButton\n                        buttonProps={{\n                          mx:1,\n                          fontSize:[1,2],\n                          width:['auto','10em'],\n                          mainColor:this.props.theme.colors.redeem,\n                          disabled:this.props.currentDelegate.toLowerCase() === this.props.account.toLowerCase()\n                        }}\n                        handleClick={ e => this.setDelegate(this.props.account) }\n                      >\n                        Self-delegate\n                      </RoundButton>\n                    </Flex>\n                  </Flex>\n                )\n              }\n            </Flex>\n          </DashboardCard>\n        ) : (\n          <FlexLoader\n            flexProps={{\n              minHeight:'50vh',\n              flexDirection:'row'\n            }}\n            loaderProps={{\n              size:'30px'\n            }}\n            textProps={{\n              ml:2\n            }}\n            text={'Loading Delegate...'}\n          />\n        )\n       } \n      </Flex>\n    );\n  }\n}\n\nexport default DelegateVote;","import Title from '../Title/Title';\nimport { Box, Flex } from \"rimble-ui\";\nimport React, { Component } from 'react';\nimport Breadcrumb from '../Breadcrumb/Breadcrumb';\nimport DelegateVote from './DelegateVote/DelegateVote';\n\nclass Delegate extends Component {\n\n  render() {\n    return (\n      <Box\n        width={1}\n      >\n        <Flex\n          mb={3}\n          width={1}\n          alignItems={'center'}\n          flexDirection={'row'}\n          justifyContent={'flex-start'}\n        >\n          <Breadcrumb\n            {...this.props}\n            text={'Governance'}\n            path={['Delegate votes']}\n            isMobile={this.props.isMobile}\n            handleClick={ e => this.props.goToSection('') }\n          />\n        </Flex>\n        <Box\n          width={1}\n        >\n          <Title\n            mb={[3,4]}\n          >\n            Delegate Votes\n          </Title>\n          <Flex\n            px={[0,3]}\n            mb={[3,4]}\n            width={1}\n            flexDirection={'column'}\n            id={'delegate-container'}\n          >\n            <DelegateVote\n              {...this.props}\n            />\n          </Flex>\n        </Box>\n      </Box>\n    );\n  }\n}\n\nexport default Delegate;\n","import Title from '../../Title/Title';\nimport React, { Component } from 'react';\nimport styles from './NewProposal.module.scss';\nimport DelegateVote from '../DelegateVote/DelegateVote';\nimport RoundButton from '../../RoundButton/RoundButton';\nimport GovernanceUtil from '../../utilities/GovernanceUtil';\nimport DashboardCard from '../../DashboardCard/DashboardCard';\nimport TxProgressBar from '../../TxProgressBar/TxProgressBar';\nimport { Flex, Text, Heading, Input, Form, Field, Textarea, Icon, Select, Link } from \"rimble-ui\";\n\nclass NewProposal extends Component {\n\n  state = {\n    title:'',\n    actions:[],\n    txError:false,\n    actionValue:0,\n    customABI:null,\n    description:'',\n    processing: {\n      txHash:null,\n      loading:false\n    },\n    validated:false,\n    newAction:false,\n    editAction:null,\n    actionInputs:null,\n    actionValid:false,\n    customAddress:null,\n    contractOptions:[],\n    proposalCreated:false,\n    functionsOptions:null,\n    selectedContract:null,\n    selectedFunction:null,\n    selectedSignature:null,\n    availableFunctions:null,\n    availableContracts:null\n  }\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n    this.validateForm();\n    this.checkInputs();\n\n    const customABIChanged = prevState.customABI !== this.state.customABI;\n    // console.log('customABIChanged',customABIChanged,this.state.selectedContract);\n    if (customABIChanged && this.state.selectedContract === 'custom'){\n      this.loadFunctionsOptions();\n    }\n  }\n\n  loadData(){\n    const availableContracts = this.functionsUtil.getGlobalConfig(['governance','props','availableContracts']);\n    const contractOptions = [\n      {label:'Select a Contract',value:null}\n    ];\n\n    Object.keys(availableContracts).forEach( contractName => {\n      contractOptions.push({label:contractName,value:contractName});\n    });\n\n    contractOptions.push({label:'Custom',value:'custom'});\n\n    this.setState({\n      contractOptions,\n      availableContracts\n    });\n  }\n\n  handleInput(field,e,type=null){\n    let value = e.target.value;\n    this.setState({\n      [field]:value\n    });\n  }\n\n  validateForm(){\n    const validated = this.state.title.length>0 && this.state.description.length>0 && Object.values(this.state.actions).length>0;\n    if (validated !== this.state.validated){\n      this.setState({\n        validated\n      });\n    }\n  }\n\n  getContractABI(selectedContract=null){\n    selectedContract = selectedContract ? selectedContract : this.state.selectedContract;\n\n    let contractABI = null;\n    try {\n      contractABI = selectedContract === 'custom' ? JSON.parse(this.state.customABI) : this.state.availableContracts[selectedContract];\n    } catch (err) {\n      \n    }\n    return contractABI;\n  }\n\n  loadFunctionsOptions(selectedContract=null){\n    let actionInputs = null;\n    let functionsOptions = null;\n    let selectedFunction = null;\n    let selectedSignature = null;\n    let availableFunctions = null;\n\n    const contractABI = this.getContractABI(selectedContract);\n    if (contractABI){\n      availableFunctions = contractABI.filter( f => (!f.constant && f.type === 'function' && f.inputs.length>0 && ['nonpayable','payable'].includes(f.stateMutability)) )\n      functionsOptions = availableFunctions.map( (f,index) => ({\n                          label:f.name,\n                          value:index\n                        }));\n\n      // Add default option\n      functionsOptions.unshift({label:'Select a Function',value:null});\n    }\n\n    // console.log('loadFunctionsOptions',contractABI,functionsOptions);\n\n    this.setState({\n      actionInputs,\n      functionsOptions,\n      selectedFunction,\n      selectedSignature,\n      availableFunctions\n    });\n  }\n\n  changeContract(e){\n    const selectedContract = e.target.value;\n    const selectedContractChanged = selectedContract !== this.state.selectedContract;\n\n    if (selectedContractChanged){\n\n      // Reset function\n      let selectedFunction = null;\n      let selectedSignature = null;\n\n      const newState = {\n        selectedContract,\n        selectedFunction,\n        selectedSignature\n      };\n\n      // Load contract functions\n      if (selectedContract !== null){\n        const contractABI = this.getContractABI(selectedContract);\n        if (contractABI){\n          this.loadFunctionsOptions(selectedContract);\n        } else {\n          newState.functionsOptions = null;\n        }\n      }\n\n      // console.log('changeContract',newState);\n\n      this.setState(newState);\n    }\n  }\n\n  changeFunction(e){\n    const actionValue = 0;\n    let actionInputs = null;\n    const selectedSignature = e.target.value;\n    let selectedFunction = this.state.availableFunctions.find( (f,index) => (index === parseInt(selectedSignature)) );\n\n    if (selectedFunction){\n      actionInputs = new Array(selectedFunction.inputs.length);\n    } else {\n      selectedFunction  = null;\n    }\n\n    this.setState({\n      actionValue,\n      actionInputs,\n      selectedFunction,\n      selectedSignature\n    })\n  }\n  validateField(value,type){\n    if (value===null){\n      return false;\n    }\n    let valid = true;\n    if (type === 'json'){\n      valid = this.functionsUtil.isValidJSON(value);\n    } else {\n      const fieldPattern = this.getPatternByFieldType(type);\n      if (fieldPattern){\n        valid = value.toString().match(fieldPattern) !== null;\n      }\n    }\n    return valid;\n  }\n  getPatternByFieldType(type,returnString=false){\n    let fieldPattern = null;\n    switch (type){\n      case 'address':\n        fieldPattern = '^0x[a-fA-F0-9]{40}$';\n      break;\n      case 'address[]':\n        fieldPattern = '^((0x[a-fA-F0-9]{40})[,]?)+$';\n      break;\n      case 'string':\n        fieldPattern = '[\\\\w]+';\n      break;\n      case 'bool':\n        fieldPattern = '(0|1)';\n      break;\n      case 'uint256':\n      case 'uint8':\n        fieldPattern = '[\\\\d]+';\n      break;\n      default:\n        fieldPattern = null;\n      break;\n    }\n\n    if (!returnString && fieldPattern){\n      fieldPattern = new RegExp(fieldPattern);\n    }\n\n    return fieldPattern;\n  }\n\n  checkInputs(){\n\n    if (!this.state.actionInputs || !this.state.selectedFunction){\n      return false;\n    }\n\n    const inputs = this.state.selectedFunction.inputs;\n    let actionValid = Object.values(this.state.actionInputs).length === inputs.length;\n\n    if (actionValid){\n      Object.values(this.state.actionInputs).forEach( (inputValue,inputIndex) => {\n        const inputInfo = inputs[inputIndex];\n        const fieldPattern = this.getPatternByFieldType(inputInfo.type);\n        const inputValid = fieldPattern ? inputValue.match(fieldPattern) !== null : true;\n        actionValid = actionValid && inputValid;\n        // console.log('checkInputs',inputInfo.name,inputInfo.type,inputValue,inputValid,actionValid);\n      });\n    }\n\n    // Check custom token\n    if (actionValid && this.state.selectedContract === 'custom'){\n      actionValid = actionValid && this.validateField(this.state.customABI,'json') && this.validateField(this.state.customAddress,'address');\n    }\n\n    // console.log('actionValid',this.state.selectedContract,this.validateField(this.state.customABI,'json'),this.state.customAddress,this.validateField(this.state.customAddress,'address'),actionValid);\n\n    if (actionValid !== this.state.actionValid){\n      this.setState({\n        actionValid\n      });\n    }\n  }\n\n  valueChange(e,inputIndex){\n    let actionValue = e.target.value;\n    this.setState({\n      actionValue\n    });\n  }\n\n  inputChange(e,inputIndex){\n    let inputValue = e.target.value;\n\n    this.setState((prevState) => ({\n      actionInputs:{\n        ...prevState.actionInputs,\n        [inputIndex]:inputValue\n      }\n    }));\n  }\n\n  deleteAction(){\n    if (this.state.editAction !== null){\n      let actions = this.state.actions;\n      if (actions[this.state.editAction]){\n        delete actions[this.state.editAction];\n        actions = Object.values(actions);\n        const editAction = null;\n        const actionInputs = null;\n        const selectedContract = null;\n        const selectedFunction = null;\n        const selectedSignature = null;\n\n        this.setState({\n          actions,\n          editAction,\n          actionInputs,\n          selectedContract,\n          selectedFunction,\n          selectedSignature\n        });\n      }\n    }\n  }\n\n  addAction(){\n\n    // Check inputs number\n    const inputs = Object\n                    .values(this.state.actionInputs).filter( v => v.length>0 )\n                    .map( (inputValue,inputIndex) => {\n                      const inputInfo = this.state.selectedFunction.inputs[inputIndex];\n                      switch (inputInfo.type){\n                        case 'address[]':\n                          inputValue = inputValue.split(',');\n                        break;\n                        case 'uint256[]':\n                          inputValue = inputValue.split(',').map( n => this.functionsUtil.toBN(n) );\n                        break;\n                        case 'uint256':\n                          inputValue = this.functionsUtil.toBN(inputValue);\n                        break;\n                        default:\n                          if (inputInfo.type.substr(-2) === '[]'){\n                            inputValue = inputValue.split(',');\n                          }\n                        break;\n                      }\n\n                      return inputValue;\n                    });\n\n    if (inputs.length<this.state.selectedFunction.inputs.length){\n      return false;\n    }\n\n    // Check contract\n    let target = null;\n    if (this.state.selectedContract !== 'custom'){\n      const contract = this.functionsUtil.getContractByName(this.state.selectedContract);\n      if (!contract){\n        return false;\n      } else {\n        target = contract._address;\n      }\n    } else {\n      const contractABIValid = this.functionsUtil.isValidJSON(this.state.customABI);\n      if (!contractABIValid){\n        return false;\n      } else {\n        target = this.state.customAddress;\n      }\n    }\n    \n    const customABI = this.state.customABI;\n    const customAddress = this.state.customAddress;\n    const inputTypes = this.state.selectedFunction.inputs.map( i => (i.type) );\n    const calldata = this.props.web3.eth.abi.encodeParameters(inputTypes,inputs);\n    const signature = this.state.selectedFunction.name+'('+inputTypes.join(',')+')';\n    const value = this.state.actionValue ? this.functionsUtil.BNify(this.state.actionValue).toFixed(0) : this.functionsUtil.BNify(0).toFixed(0);\n\n    const action = {\n      params:{\n        value,\n        target,\n        calldata,\n        signature\n      },\n      customABI,\n      customAddress,\n      inputs:this.state.actionInputs,\n      function:this.state.selectedFunction,\n      contract:this.state.selectedContract,\n      signature:this.state.selectedSignature\n    };\n\n    const newAction = false;\n    const actions = Object.values(this.state.actions);\n\n    if (this.state.editAction === null){\n      actions.push(action);\n    } else {\n      actions[this.state.editAction] = action;\n    }\n\n    const editAction = null;\n\n    this.setState({\n      actions,\n      newAction,\n      editAction\n    });\n  }\n\n  setEditAction(editAction){\n\n    if (!this.state.actions[editAction]){\n      return false;\n    }\n\n    if (editAction === this.state.editAction){\n      return false;\n    }\n\n    const action = this.state.actions[editAction];\n\n    const newAction = false;\n    const actionInputs = action.inputs;\n    const customABI = action.customABI;\n    const actionValue = action.params.value;\n    const selectedContract = action.contract;\n    const selectedFunction = action.function;\n    const customAddress = action.customAddress;\n    const selectedSignature = action.signature;\n\n    this.setState({\n      customABI,\n      newAction,\n      editAction,\n      actionValue,\n      actionInputs,\n      customAddress,\n      selectedContract,\n      selectedFunction,\n      selectedSignature\n    });\n  }\n\n  setNewAction(newAction){\n    if (newAction === this.state.newAction){\n      return false;\n    }\n\n    const editAction = null;\n    const selectedContract = null;\n    const selectedFunction = null;\n\n    this.setState({\n      newAction,\n      editAction,\n      selectedContract,\n      selectedFunction\n    });\n  }\n\n  async cancelTransaction(){\n    this.setState({\n      processing: {\n        txHash:null,\n        loading:false\n      }\n    });\n  }\n\n  handleSubmit(e){\n    e.preventDefault();\n\n    const callback = (tx,error) => {\n      // Send Google Analytics event\n      const eventData = {\n        eventLabel: tx.status,\n        eventAction: 'propose',\n        eventCategory: 'Proposal',\n      };\n\n      if (error){\n        eventData.eventLabel = this.functionsUtil.getTransactionError(error);\n      }\n\n      // Send Google Analytics event\n      if (error || eventData.status !== 'error'){\n        this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n      }\n\n      const txSucceeded = tx.status === 'success';\n\n      const newState = {\n        processing: {\n          txHash:null,\n          loading:false\n        }\n      };\n      \n      if (txSucceeded){\n        newState.actionValue = 0;\n        newState.customABI = null;\n        newState.newAction = null;\n        newState.editAction = null;\n        newState.actionInputs = null;\n        newState.customAddress = null;\n        newState.proposalCreated = true;\n        newState.selectedContract = null;\n        newState.functionsOptions = null;\n        newState.selectedFunction = null;\n        newState.selectedSignature = null;\n      } else {\n        newState.txError = true;\n      }\n\n      this.setState(newState);\n    };\n\n    const callbackReceipt = (tx) => {\n      const txHash = tx.transactionHash;\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          txHash\n        }\n      }));\n    };\n\n    const targets = [];\n    const values = [];\n    const signatures = [];\n    const calldatas = [];\n    const description = '#'+this.state.title+\"\\n\"+this.state.description;\n\n    Object.values(this.state.actions).forEach( action => {\n      values.push(action.params.value);\n      targets.push(action.params.target);\n      calldatas.push(action.params.calldata);\n      signatures.push(action.params.signature);\n    });\n\n    this.governanceUtil.propose(targets, values, signatures, calldatas, description, callback, callbackReceipt);\n    // this.governanceUtil.proposeAndVoteFor(targets, values, signatures, calldatas, description, callback, callbackReceipt);\n\n    this.setState((prevState) => ({\n      processing: {\n        ...prevState.processing,\n        loading:true\n      }\n    }));\n\n    return false;\n  }\n\n  formValidated(){\n\n  }\n\n  render() {\n\n    return (\n      <Flex\n        width={1}\n        alignItems={'center'}\n        flexDirection={'column'}\n        justifyContent={'center'}\n      >\n        <Title\n          mb={[3,4]}\n        >\n          Create Proposal\n        </Title>\n        {\n        this.state.proposalCreated ? (\n          <DashboardCard\n            cardProps={{\n              py:3,\n              px:4,\n              width:[1,'auto']\n            }}\n          >\n            <Flex\n              alignItems={'center'}\n              flexDirection={'column'}\n              justifyContent={'center'}\n            >\n              <Icon\n                name={'Done'}\n                align={'center'}\n                size={ this.props.isMobile ? '1.4em' : '2.2em' }\n                color={this.props.theme.colors.transactions.status.completed}\n              />\n              <Text\n                mt={1}\n                fontWeight={3}\n                fontSize={[2,3]}\n                color={'dark-gray'}\n                textAlign={'center'}\n              >\n                The proposal has been successfully created\n              </Text>\n            </Flex>\n          </DashboardCard>\n        ) : \n        // Has balance\n        this.props.votes && this.functionsUtil.BNify(this.props.votes).gte(this.props.proposalThreshold) ? (\n          <Form\n            width={1}\n            validated={this.state.validated}\n            onSubmit={this.handleSubmit.bind(this)}\n          >\n            <Flex\n              mb={2}\n              width={1}\n              flexDirection={['column','row']}\n              justifyContent={['center','space-between']}\n            >\n              <Flex\n                width={[1,0.48]}\n                flexDirection={'column'}\n              >\n                <Flex\n                  pb={2}\n                  width={1}\n                  mb={[2,3]}\n                  borderColor={'divider'}\n                  borderBottom={'1px solid transparent'}\n                >\n                  <Heading.h4\n                    fontSize={[2,3]}\n                    fontWeight={[2,3]}\n                  >\n                    Proposal Description\n                  </Heading.h4>\n                </Flex>\n                <Flex\n                  flexDirection={'column'}\n                >\n                  <Field\n                    width={1}\n                    label={\"Title\"}\n                    validated={this.state.validated}\n                  >\n                    <Input\n                      required\n                      width={1}\n                      type={'text'}\n                      className={styles.input}\n                      value={this.state.title}\n                      borderColor={'cardBorder'}\n                      backgroundColor={'cardBg'}\n                      placeholder={'Title of your proposal'}\n                      onChange={ e => this.handleInput('title',e) }\n                    />\n                  </Field>\n                </Flex>\n                <Flex\n                  flexDirection={'column'}\n                >\n                  <Field\n                    width={1}\n                    label={'Description'}\n                    validated={this.state.validated}\n                  >\n                    <Textarea\n                      required\n                      rows={8}\n                      width={1}\n                      className={styles.input}\n                      borderColor={'cardBorder'}\n                      backgroundColor={'cardBg'}\n                      value={this.state.description}\n                      placeholder={'Description of your proposal'}\n                      onChange={ e => this.handleInput('description',e) }\n                    />\n                  </Field>\n                </Flex>\n              </Flex>\n\n              <Flex\n                width={[1,0.48]}\n                flexDirection={'column'}\n              >\n                <Flex\n                  pb={2}\n                  width={1}\n                  mb={[2,3]}\n                  borderColor={'divider'}\n                  borderBottom={'1px solid transparent'}\n                >\n                  <Heading.h4\n                    fontSize={[2,3]}\n                    fontWeight={[2,3]}\n                  >\n                    Actions\n                  </Heading.h4>\n                </Flex>\n                <Flex\n                  flexDirection={'column'}\n                >\n                  {\n                    Object.values(this.state.actions).map( (action,actionIndex) => {\n                      return (\n                        <DashboardCard\n                          cardProps={{\n                            py:2,\n                            px:3,\n                            mb:3,\n                            width:1\n                          }}\n                          titleParentProps={{\n                            ml:0,\n                            my:1,\n                            justifyContent:'center'\n                          }}\n                          titleProps={{\n                            fontSize:2,\n                            fontWeight:3\n                          }}\n                          isInteractive={true}\n                          key={`action_${actionIndex}`}\n                          handleClick={ e => this.setEditAction(actionIndex) }\n                          title={ this.state.editAction === actionIndex ? 'Edit Action' : null }\n                        >\n                          {\n                            this.state.editAction === actionIndex ? (\n                              <Flex\n                                width={1}\n                                alignItems={'center'}\n                                flexDirection={'column'}\n                                justifyContent={'center'}\n                              >\n                                <Field\n                                  style={{\n                                    width:'100%',\n                                    display:'flex',\n                                    alignItems:'stretch',\n                                    flexDirection:'column'\n                                  }}\n                                  label={\"Select Contract\"}\n                                >\n                                  <Select\n                                    style={{\n                                      width:'100%',\n                                      color:this.props.theme.colors.counter,\n                                      backgroundColor:this.props.theme.colors.cardBg\n                                    }}\n                                    required={true}\n                                    value={this.state.selectedContract}\n                                    options={this.state.contractOptions}\n                                    onChange={this.changeContract.bind(this)}\n                                  />\n                                </Field>\n                                {\n                                  this.state.selectedContract && this.state.selectedContract === 'custom' &&\n                                  (\n                                    <Flex\n                                      width={1}\n                                      flexDirection={'column'}\n                                    >\n                                      <Field\n                                        width={1}\n                                        label={\"Contract Address\"}\n                                        validated={this.state.validated}\n                                      >\n                                        <Input\n                                          required\n                                          width={1}\n                                          type={'text'}\n                                          className={styles.input}\n                                          borderColor={'cardBorder'}\n                                          backgroundColor={'cardBg'}\n                                          placeholder={'Custom contract address'}\n                                          pattern={this.getPatternByFieldType('address',true)}\n                                          onChange={ e => this.handleInput('customAddress',e,'address') }\n                                          value={this.state.customAddress ? this.state.customAddress : ''}\n                                        />\n                                      </Field>\n                                      <Field\n                                        width={1}\n                                        label={'Custom ABI'}\n                                        validated={this.state.validated}\n                                      >\n                                        <Textarea\n                                          required\n                                          rows={8}\n                                          width={1}\n                                          className={styles.input}\n                                          placeholder={'Insert the ABI of your contract'}\n                                          onChange={ e => this.handleInput('customABI',e,'json') }\n                                          value={this.state.customABI ? this.state.customABI : ''}\n                                        />\n                                      </Field>\n                                    </Flex>\n                                  )\n                                }\n                                {\n                                  this.state.selectedContract && this.state.functionsOptions &&\n                                    <Field\n                                      style={{\n                                        width:'100%',\n                                        display:'flex',\n                                        alignItems:'stretch',\n                                        flexDirection:'column'\n                                      }}\n                                      label={\"Select Function\"}\n                                    >\n                                      <Select\n                                        style={{\n                                          width:'100%',\n                                          color:this.props.theme.colors.counter,\n                                          backgroundColor:this.props.theme.colors.cardBg\n                                        }}\n                                        required={true}\n                                        options={this.state.functionsOptions}\n                                        onChange={this.changeFunction.bind(this)}\n                                        value={this.state.selectedSignature ? this.state.selectedSignature : ''}\n                                      />\n                                    </Field>\n                                }\n                                {\n                                  this.state.selectedFunction && this.state.selectedFunction.payable && (\n                                    <Field\n                                      label={`Value`}\n                                      style={{\n                                        width:'100%',\n                                        display:'flex',\n                                        alignItems:'stretch',\n                                        flexDirection:'column'\n                                      }}\n                                    >\n                                      <Input\n                                        required\n                                        width={1}\n                                        type={'number'}\n                                        className={styles.input}\n                                        borderColor={'cardBorder'}\n                                        backgroundColor={'cardBg'}\n                                        placeholder={`Enter ETH value`}\n                                        onChange={ e => this.valueChange(e) }\n                                        value={this.state.actionValue ? this.state.actionValue : 0}\n                                      />\n                                    </Field>\n                                  )\n                                }\n                                {\n                                  this.state.selectedFunction &&\n                                    this.state.selectedFunction.inputs.map( (input,inputIndex) => {\n                                      const fieldType = ['uint256','bool'].includes(input.type) ? 'number' : 'text';\n                                      const fieldPattern = this.getPatternByFieldType(input.type,true);\n                                      return (\n                                        <Field\n                                          style={{\n                                            width:'100%',\n                                            display:'flex',\n                                            alignItems:'stretch',\n                                            flexDirection:'column'\n                                          }}\n                                          key={`input_${inputIndex}`}\n                                          label={`${input.name} (${input.type})`}\n                                        >\n                                          <Input\n                                            required\n                                            width={1}\n                                            type={fieldType}\n                                            pattern={fieldPattern}\n                                            className={styles.input}\n                                            borderColor={'cardBorder'}\n                                            backgroundColor={'cardBg'}\n                                            placeholder={`${input.name} (${input.type})`}\n                                            onChange={ e => this.inputChange(e,inputIndex) }\n                                            value={this.state.actionInputs[inputIndex] ? this.state.actionInputs[inputIndex] : ''}\n                                          />\n                                        </Field>\n                                      )\n                                    })\n                                }\n                                {\n                                  this.state.selectedContract && this.state.selectedFunction &&\n                                    <Flex\n                                      mb={2}\n                                      width={1}\n                                      alignItems={'center'}\n                                      flexDirection={'column'}\n                                      justifyContent={'center'}\n                                    >\n                                      <RoundButton\n                                        buttonProps={{\n                                          px:[0,4],\n                                          width:[1,'auto'],\n                                          type:'button',\n                                          disabled:!this.state.actionValid\n                                        }}\n                                        handleClick={this.addAction.bind(this)}\n                                      >\n                                        Save Action\n                                      </RoundButton>\n                                      <Link\n                                        mt={2}\n                                        color={'red'}\n                                        hoverColor={'red'}\n                                        onClick={this.deleteAction.bind(this)}\n                                      >\n                                        Delete Action\n                                      </Link>\n                                    </Flex>\n                                }\n                              </Flex>\n                            ) : (\n                              <Flex\n                                width={1}\n                                alignItems={'center'}\n                                flexDirection={'row'}\n                                justifyContent={'space-between'}\n                              >\n                                <Text>\n                                  {action.contract} - {action.params.signature}\n                                </Text>\n                                <Flex\n                                  p={['4px','7px']}\n                                  borderRadius={'50%'}\n                                  alignItems={'center'}\n                                  justifyContent={'center'}\n                                  backgroundColor={ this.props.theme.colors.transactions.actionBg.redeem }\n                                >\n                                  <Icon\n                                    name={'Edit'}\n                                    align={'center'}\n                                    color={'redeem'}\n                                    size={ this.props.isMobile ? '1.2em' : '1.4em' }\n                                  />\n                                </Flex>\n                              </Flex>\n                            )\n                          }\n                        </DashboardCard>\n                      );\n                    })\n                  }\n                  {\n                    (!this.state.actions || Object.values(this.state.actions).length<this.props.proposalMaxOperations) && (\n                      <DashboardCard\n                        cardProps={{\n                          py:2,\n                          px:3,\n                          mb:3,\n                          width:1\n                        }}\n                        titleParentProps={{\n                          ml:0,\n                          my:1,\n                          justifyContent:'center'\n                        }}\n                        titleProps={{\n                          fontSize:2,\n                          fontWeight:3\n                        }}\n                        isInteractive={true}\n                        handleClick={ e => this.setNewAction(true) }\n                        title={ this.state.newAction ? 'Add Action' : null }\n                      >\n                        {\n                          this.state.newAction ? (\n                            <Flex\n                              width={1}\n                              alignItems={'center'}\n                              flexDirection={'column'}\n                              justifyContent={'center'}\n                            >\n                              <Field\n                                style={{\n                                  width:'100%',\n                                  display:'flex',\n                                  alignItems:'stretch',\n                                  flexDirection:'column'\n                                }}\n                                label={\"Select Contract\"}\n                              >\n                                <Select\n                                  style={{\n                                    width:'100%',\n                                    color:this.props.theme.colors.counter,\n                                    backgroundColor:this.props.theme.colors.cardBg\n                                  }}\n                                  required={true}\n                                  options={this.state.contractOptions}\n                                  onChange={this.changeContract.bind(this)}\n                                />\n                              </Field>\n                              {\n                                this.state.selectedContract && this.state.selectedContract === 'custom' &&\n                                (\n                                  <Flex\n                                    width={1}\n                                    flexDirection={'column'}\n                                  >\n                                    <Field\n                                      width={1}\n                                      label={\"Contract Address\"}\n                                      validated={this.state.validated}\n                                    >\n                                      <Input\n                                        required\n                                        width={1}\n                                        type={'text'}\n                                        className={styles.input}\n                                        borderColor={'cardBorder'}\n                                        backgroundColor={'cardBg'}\n                                        placeholder={'Custom contract address'}\n                                        pattern={this.getPatternByFieldType('address',true)}\n                                        onChange={ e => this.handleInput('customAddress',e,'address') }\n                                        value={this.state.customAddress ? this.state.customAddress : ''}\n                                      />\n                                    </Field>\n                                    <Field\n                                      width={1}\n                                      label={'Custom ABI'}\n                                      validated={this.state.validated}\n                                    >\n                                      <Textarea\n                                        required\n                                        rows={8}\n                                        width={1}\n                                        className={styles.input}\n                                        placeholder={'Insert the ABI of your contract'}\n                                        onChange={ e => this.handleInput('customABI',e,'json') }\n                                        value={this.state.customABI ? this.state.customABI : ''}\n                                      />\n                                    </Field>\n                                  </Flex>\n                                )\n                              }\n                              {\n                                this.state.selectedContract && this.state.functionsOptions && \n                                  <Field\n                                    style={{\n                                      width:'100%',\n                                      display:'flex',\n                                      alignItems:'stretch',\n                                      flexDirection:'column'\n                                    }}\n                                    label={\"Select Function\"}\n                                  >\n                                    <Select\n                                      style={{\n                                        width:'100%',\n                                        color:this.props.theme.colors.counter,\n                                        backgroundColor:this.props.theme.colors.cardBg\n                                      }}\n                                      required={true}\n                                      options={this.state.functionsOptions}\n                                      onChange={this.changeFunction.bind(this)}\n                                      value={this.state.selectedSignature ? this.state.selectedSignature : ''}\n                                    />\n                                  </Field>\n                              }\n                              {\n                                this.state.selectedFunction && this.state.selectedFunction.payable && (\n                                  <Field\n                                    label={`Value`}\n                                    style={{\n                                      width:'100%',\n                                      display:'flex',\n                                      alignItems:'stretch',\n                                      flexDirection:'column'\n                                    }}\n                                  >\n                                    <Input\n                                      required\n                                      width={1}\n                                      type={'number'}\n                                      className={styles.input}\n                                      borderColor={'cardBorder'}\n                                      backgroundColor={'cardBg'}\n                                      placeholder={`Enter ETH value`}\n                                      onChange={ e => this.valueChange(e) }\n                                      value={this.state.actionValue ? this.state.actionValue : 0}\n                                    />\n                                  </Field>\n                                )\n                              }\n                              {\n                                this.state.selectedFunction &&\n                                  this.state.selectedFunction.inputs.map( (input,inputIndex) => {\n                                    const fieldType = ['uint256','bool'].includes(input.type) ? 'number' : 'text';\n                                    const fieldPattern = this.getPatternByFieldType(input.type,true);\n                                    return (\n                                      <Field\n                                        style={{\n                                          width:'100%',\n                                          display:'flex',\n                                          alignItems:'stretch',\n                                          flexDirection:'column'\n                                        }}\n                                        key={`input_${inputIndex}`}\n                                        label={`${input.name} (${input.type})`}\n                                      >\n                                        <Input\n                                          required\n                                          width={1}\n                                          type={fieldType}\n                                          pattern={fieldPattern}\n                                          className={styles.input}\n                                          borderColor={'cardBorder'}\n                                          backgroundColor={'cardBg'}\n                                          placeholder={`${input.name} (${input.type})`}\n                                          onChange={ e => this.inputChange(e,inputIndex) }\n                                          value={this.state.actionInputs[inputIndex] ? this.state.actionInputs[inputIndex] : ''}\n                                        />\n                                      </Field>\n                                    )\n                                  })\n                              }\n                              {\n                                this.state.selectedContract && this.state.selectedFunction &&\n                                  <Flex\n                                    width={1}\n                                    alignItems={'center'}\n                                    justifyContent={'center'}\n                                  >\n                                    <RoundButton\n                                      buttonProps={{\n                                        px:[0,4],\n                                        type:'button',\n                                        width:[1,'auto'],\n                                        disabled:!this.state.actionValid\n                                      }}\n                                      handleClick={this.addAction.bind(this)}\n                                    >\n                                      Add Action\n                                    </RoundButton>\n                                  </Flex>\n                              }\n                            </Flex>\n                          ) : (\n                            <Flex\n                              width={1}\n                              alignItems={'center'}\n                              flexDirection={'row'}\n                              justifyContent={'space-between'}\n                            >\n                              <Text>\n                                Add Action\n                              </Text>\n                              <Flex\n                                p={['4px','7px']}\n                                borderRadius={'50%'}\n                                alignItems={'center'}\n                                justifyContent={'center'}\n                                backgroundColor={ this.props.theme.colors.transactions.actionBg.redeem }\n                              >\n                                <Icon\n                                  name={'Add'}\n                                  align={'center'}\n                                  color={'redeem'}\n                                  size={ this.props.isMobile ? '1.2em' : '1.4em' }\n                                />\n                              </Flex>\n                            </Flex>\n                          )\n                        }\n                      </DashboardCard>\n                    )\n                  }\n\n                </Flex>\n              </Flex>\n            </Flex>\n            <Flex\n              mb={3}\n              width={1}\n              alignItems={'center'}\n              justifyContent={'center'}\n            >\n              {\n                // Sending transaction\n                this.state.processing && this.state.processing.loading ? (\n                  <TxProgressBar\n                    web3={this.props.web3}\n                    hash={this.state.processing.txHash}\n                    waitText={`Proposal creation estimated in`}\n                    endMessage={`Finalizing proposal creation request...`}\n                    cancelTransaction={this.cancelTransaction.bind(this)}\n                  />\n                ) : (\n                  <RoundButton\n                    buttonProps={{\n                      type:'submit',\n                      width:[1,'15em'],\n                      disabled:!this.state.validated\n                    }}\n                  >\n                    Submit Proposal\n                  </RoundButton>\n                )\n              }\n            </Flex>\n          </Form>\n        ) : this.props.balance && this.functionsUtil.BNify(this.props.balance).gte(this.props.proposalThreshold) ? (\n          <Flex\n            width={1}\n            alignItems={'center'}\n            flexDirection={'column'}\n            justifyContent={'center'}\n          >\n            <Text\n              mb={3}\n              fontWeight={2}\n              fontSize={[2,3]}\n              color={'dark-gray'}\n              textAlign={'center'}\n            >\n              Please delegate your votes to yourself to create a new proposal.\n            </Text>\n            <DelegateVote\n              {...this.props}\n            />\n          </Flex>\n        ) : (\n          <Text\n            fontWeight={2}\n            fontSize={[2,3]}\n            color={'dark-gray'}\n            textAlign={'center'}\n          >\n            You need at least {this.functionsUtil.formatMoney(this.functionsUtil.fixTokenDecimals(this.props.proposalThreshold,18),0)} delegated votes to send a new proposal.\n          </Text>\n        )\n       }\n      </Flex>\n    );\n  }\n}\n\nexport default NewProposal;","import React, { Component } from 'react';\nimport { Flex, Text, Box, Link } from \"rimble-ui\";\nimport FlexLoader from '../../FlexLoader/FlexLoader';\nimport RoundButton from '../../RoundButton/RoundButton';\nimport DelegateVote from '../DelegateVote/DelegateVote';\nimport ProposalField from '../ProposalField/ProposalField';\nimport GovernanceUtil from '../../utilities/GovernanceUtil';\nimport DashboardCard from '../../DashboardCard/DashboardCard';\nimport TxProgressBar from '../../TxProgressBar/TxProgressBar';\n\nclass CastVote extends Component {\n\n  state = {\n    vote:null,\n    loaded:false,\n    userVote:null,\n    processing:{\n      txHash:null,\n      loading:false\n    },\n    voteSucceed:false,\n    showDelegateBox:false\n  };\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n    const accountChanged = prevProps.account !== this.props.account;\n    if (accountChanged){\n      this.loadData();\n    }\n  }\n\n  async loadData(){\n    if (this.props.account){\n      const userVote = this.props.proposal.votes.find( v => (v.voter.toLowerCase() === this.props.account.toLowerCase()) );\n      this.setState({\n        userVote,\n        loaded:true\n      });\n    }\n  }\n\n  async cancelTransaction(){\n    this.setState({\n      processing: {\n        txHash:null,\n        loading:false\n      }\n    });\n  }\n\n  toggleDelegateBox(showDelegateBox){\n    this.setState({\n      showDelegateBox\n    });\n  }\n\n  castVote(){\n\n    if (this.state.vote === null){\n      return false;\n    }\n\n    const callback = (tx,error) => {\n      // Send Google Analytics event\n      const eventData = {\n        eventCategory: 'Proposal',\n        eventAction: 'CastVote',\n        eventLabel: this.state.vote\n      };\n\n      if (error){\n        eventData.eventLabel = this.functionsUtil.getTransactionError(error);\n      }\n\n      // Send Google Analytics event\n      if (error || eventData.status !== 'error'){\n        this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n      }\n\n      let userVote = null;\n      const txSucceeded = tx.status === 'success';\n      if (txSucceeded){\n        userVote = {\n          voter:this.props.account,\n          votes:this.props.votes.toString(),\n          support:this.state.vote === 'for',\n          proposalId:this.props.proposal.id,\n        };\n\n        if (typeof this.props.callback === 'function'){\n          this.props.callback();\n        }\n      }\n\n\n      this.setState({\n        userVote,\n        processing: {\n          txHash:null,\n          loading:false\n        }\n      });\n    };\n\n    const callbackReceipt = (tx) => {\n      const txHash = tx.transactionHash;\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          txHash\n        }\n      }));\n    };\n\n    const vote = this.state.vote === 'for';\n    const proposalId = parseInt(this.props.proposal.id);\n\n    this.governanceUtil.castVote(proposalId,vote,callback,callbackReceipt);\n\n    this.setState((prevState) => ({\n      processing: {\n        ...prevState.processing,\n        loading:true\n      }\n    }));\n  }\n\n  setVote = (vote) => {\n    this.setState({\n      vote\n    });\n  }\n\n  render() {\n    return this.state.userVote ? (\n        <Flex\n          p={3}\n          width={1}\n          mb={[2,3]}\n          alignItems={'center'}\n          flexDirection={'column'}\n          justifyContent={'center'}\n        >\n          <Text\n            mb={2}\n            fontWeight={4}\n            fontSize={[2,3]}\n            color={'dark-gray'}\n            textAlign={'center'}\n          >\n            You have voted for the proposal #{this.props.proposal.id}:\n          </Text>\n          <DashboardCard\n            cardProps={{\n              mb:2,\n              py:[2,3],\n              px:[3,4],\n              width:'auto'\n            }}\n            isInteractive={false}\n          >\n            <Flex\n              my={1}\n              alignItems={'center'}\n              flexDirection={'row'}\n              justifyContent={'center'}\n            >\n              <ProposalField\n                fieldInfo={{\n                  name:'statusIcon',\n                  state: this.state.userVote.support ? 'Executed' : 'Canceled',\n                  props:{\n                    mr:2\n                  }\n                }}\n              />\n              <Text\n                fontWeight={3}\n                fontSize={[2,3]}\n              >\n                {this.state.userVote.support ? 'For' : 'Against'}\n              </Text>\n            </Flex>\n          </DashboardCard>\n          <Text\n            fontSize={1}\n            fontWeight={500}\n            color={'statValue'}\n            textAlign={'center'}\n          >\n            voted with {this.functionsUtil.formatMoney(this.functionsUtil.fixTokenDecimals(this.state.userVote.votes,18).toFixed(0,1),0)} votes\n          </Text>\n        </Flex>\n      ) : this.props.proposal.state === 'Active' && (\n        <Box\n          p={3}\n          width={1}\n          mb={[2,3]}\n        >\n          {\n            // Data not loaded yet\n            !this.state.loaded ? (\n              <FlexLoader\n                flexProps={{\n                  flexDirection:'row',\n                }}\n                loaderProps={{\n                  size:'30px'\n                }}\n                textProps={{\n                  ml:2\n                }}\n                text={'Loading data...'}\n              />\n            ) :\n            // No votes delegated\n            (!this.props.votes || this.functionsUtil.BNify(this.props.votes).lte(0) || this.state.showDelegateBox) ? (\n              <DelegateVote\n                {...this.props}\n                canClose={this.state.showDelegateBox}\n                closeFunc={ e => this.toggleDelegateBox(false) }\n              />\n            ) : (\n              <Flex\n                width={1}\n                alignItems={'center'}\n                flexDirection={'column'}\n                justifyContent={'center'}\n              >\n                <Text\n                  mb={1}\n                  fontWeight={4}\n                  fontSize={[2,3]}\n                  color={'dark-gray'}\n                  textAlign={'center'}\n                >\n                  Cast your vote for the proposal #{this.props.proposal.id}:\n                </Text>\n                <Text\n                  mb={2}\n                  fontSize={1}\n                  color={'red'}\n                  fontWeight={500}\n                  textAlign={'center'}\n                >\n                  Make sure you have been delegated before this proposal has been submitted\n                </Text>\n                {\n                  this.state.processing && this.state.processing.loading ? (\n                    <Flex\n                      width={1}\n                      flexDirection={'column'}\n                    >\n                      <TxProgressBar\n                        web3={this.props.web3}\n                        waitText={`Vote estimated in`}\n                        hash={this.state.processing.txHash}\n                        endMessage={`Finalizing vote request...`}\n                        cancelTransaction={this.cancelTransaction.bind(this)}\n                      />\n                    </Flex>\n                  ) : (\n                    <Flex\n                      width={1}\n                      alignItems={'center'}\n                      flexDirection={'column'}\n                      justifyContent={'center'}\n                    >\n                      <Flex\n                        mb={2}\n                        width={[1,0.4]}\n                        alignItems={'center'}\n                        flexDirection={'row'}\n                        justifyContent={'space-between'}\n                      >\n                        <DashboardCard\n                          cardProps={{\n                            p:[2,3],\n                            width:0.48,\n                            onMouseDown:() => {\n                              this.setVote('for');\n                            }\n                          }}\n                          isInteractive={true}\n                          isActive={ this.state.vote === 'for' }\n                        >\n                          <Flex\n                            my={1}\n                            alignItems={'center'}\n                            flexDirection={'row'}\n                            justifyContent={'center'}\n                          >\n                            <ProposalField\n                              fieldInfo={{\n                                name:'statusIcon',\n                                state:'Executed',\n                                props:{\n                                  mr:2\n                                }\n                              }}\n                            />\n                            <Text\n                              fontWeight={3}\n                              fontSize={[2,3]}\n                            >\n                              For\n                            </Text>\n                          </Flex>\n                        </DashboardCard>\n                        <DashboardCard\n                          cardProps={{\n                            p:[2,3],\n                            width:0.48,\n                            onMouseDown:() => {\n                              this.setVote('against');\n                            }\n                          }}\n                          isInteractive={true}\n                          isActive={ this.state.vote === 'against' }\n                        >\n                          <Flex\n                            my={1}\n                            alignItems={'center'}\n                            flexDirection={'row'}\n                            justifyContent={'center'}\n                          >\n                            <ProposalField\n                              fieldInfo={{\n                                name:'statusIcon',\n                                state:'Canceled',\n                                props:{\n                                  mr:2\n                                }\n                              }}\n                            />\n                            <Text\n                              fontWeight={3}\n                              fontSize={[2,3]}\n                            >\n                              Against\n                            </Text>\n                          </Flex>\n                        </DashboardCard>\n                      </Flex>\n                      <Text\n                        mb={0}\n                        fontSize={1}\n                        fontWeight={500}\n                        color={'statValue'}\n                        textAlign={'center'}\n                      >\n                        You have {this.functionsUtil.formatMoney(this.functionsUtil.fixTokenDecimals(this.props.votes,18).toFixed(0,1),0)} votes delegated\n                      </Text>\n                      {\n                        this.props.balance && this.functionsUtil.BNify(this.props.balance).gt(0) &&\n                          <Link\n                            mt={0}\n                            mainColor={'primary'}\n                            hoverColor={'primary'}\n                            onClick={ e => this.toggleDelegateBox(true) }\n                          >\n                            change delegate\n                          </Link>\n                      }\n                      <RoundButton\n                        buttonProps={{\n                          mt:2,\n                          width:[1,0.2],\n                          disabled:this.state.vote === null\n                        }}\n                        handleClick={this.castVote.bind(this)}\n                      >\n                        Vote\n                      </RoundButton>\n                    </Flex>\n                  )\n                }\n              </Flex>\n            )\n          }\n        </Box>\n      );\n  }\n}\n\nexport default CastVote;","import Title from '../../Title/Title';\nimport React, { Component } from 'react';\nimport ExtLink from '../../ExtLink/ExtLink';\nimport CastVote from '../CastVote/CastVote';\nimport StatsCard from '../../StatsCard/StatsCard';\nimport RoundButton from '../../RoundButton/RoundButton';\nimport ProposalField from '../ProposalField/ProposalField';\nimport GovernanceUtil from '../../utilities/GovernanceUtil';\nimport ShortHash from \"../../utilities/components/ShortHash\";\nimport TxProgressBar from '../../TxProgressBar/TxProgressBar';\nimport DashboardCard from '../../DashboardCard/DashboardCard';\nimport { Box, Flex, Blockie, Text, Link, Icon } from \"rimble-ui\";\n\nclass ProposalDetails extends Component {\n\n  state = {\n    showActionParams:null,\n    processing:{\n      action:null,\n      txHash:null,\n      loading:false\n    },\n  };\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  toggleShowParams(showActionParams){\n    // Reset show action params\n    if (this.state.showActionParams === showActionParams){\n      showActionParams = null;\n    }\n    this.setState({\n      showActionParams\n    });\n  }\n\n  async cancelTransaction(){\n    this.setState({\n      processing: {\n        action:null,\n        txHash:null,\n        loading:false\n      }\n    });\n  }\n\n  async queueProposal(){\n\n    const callback = (tx,error) => {\n      // Send Google Analytics event\n      const eventData = {\n        eventAction: 'queue',\n        eventCategory: 'Governance',\n        eventLabel: this.props.proposal.id\n      };\n\n      // Send Google Analytics event\n      if (error || eventData.status !== 'error'){\n        this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n      }\n\n      if (typeof this.props.loadData === 'function' && tx.status === 'success'){\n        this.props.loadData();\n      }\n\n      this.setState({\n        processing: {\n          action:null,\n          txHash:null,\n          loading:false\n        }\n      });\n    };\n\n    const callbackReceipt = (tx) => {\n      const txHash = tx.transactionHash;\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          txHash\n        }\n      }));\n    };\n\n    this.governanceUtil.queueProposal(this.props.proposal.id,callback,callbackReceipt);\n\n    this.setState((prevState) => ({\n      processing: {\n        ...prevState.processing,\n        loading:true,\n        action:'Queue'\n      }\n    }));\n  }\n\n  async executeProposal(){\n    const callback = (tx,error) => {\n      // Send Google Analytics event\n      const eventData = {\n        eventAction: 'execute',\n        eventCategory: 'Governance',\n        eventLabel: this.props.proposal.id\n      };\n\n      // Send Google Analytics event\n      if (error || eventData.status !== 'error'){\n        this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n      }\n\n      if (typeof this.props.loadData === 'function' && tx.status === 'success'){\n        this.props.loadData();\n      }\n\n      this.setState({\n        processing: {\n          action:null,\n          txHash:null,\n          loading:false\n        }\n      });\n    };\n\n    const callbackReceipt = (tx) => {\n      const txHash = tx.transactionHash;\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          txHash\n        }\n      }));\n    };\n\n    this.governanceUtil.executeProposal(this.props.proposal.id,callback,callbackReceipt);\n\n    this.setState((prevState) => ({\n      processing: {\n        ...prevState.processing,\n        loading:true,\n        action:'Execute'\n      }\n    }));\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n\n    window.loadData = this.props.loadData;\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n  }\n\n  render() {\n    let proposal = this.props.proposal;\n    const creationTime = proposal.states[0].start_time*1000;\n    const lastState = Object.values(proposal.states).pop();\n    const hasVotes = proposal.votes && proposal.votes.length>0;\n    const forVotes = this.functionsUtil.BNify(proposal.forVotes).div(1e18);\n    const againstVotes = this.functionsUtil.BNify(proposal.againstVotes).div(1e18);\n    const totalVotes = forVotes.plus(againstVotes);\n    const forVotesPerc = forVotes.div(totalVotes).times(100).toFixed(2);\n    const againstVotesPerc = againstVotes.div(totalVotes).times(100).toFixed(2);\n    const endTime = (proposal.states[0].start_time+parseInt(this.functionsUtil.blocksToSeconds(this.props.votingPeriod)))*1000;\n    const forVotesAddrs = proposal.votes.filter( v => (v.support) ).sort( (a,b) => (this.functionsUtil.BNify(a.votes).lt(this.functionsUtil.BNify(b.votes)) ? 1 : -1) );\n    const againstVotesAddrs = proposal.votes.filter( v => (!v.support) ).sort( (a,b) => (this.functionsUtil.BNify(a.votes).lt(this.functionsUtil.BNify(b.votes)) ? 1 : -1) );\n\n    const canQueue = proposal.state.toLowerCase() === 'succeeded'; \n    const canExecute = proposal.state.toLowerCase() === 'queued' && parseInt(new Date().getTime()/1000)-parseInt(proposal.states[proposal.states.length-1].start_time)>=parseInt(this.props.timelockDelay);\n\n    return (\n      <Box\n        width={1}\n      >\n        <Title\n          mb={[3,4]}\n        >\n          {proposal.title}\n        </Title>\n        <Flex\n          mb={3}\n          width={1}\n          alignItems={'center'}\n          justifyContent={'center'}\n          flexDirection={['column','row']}\n        >\n          <Flex\n            mb={[2,0]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              labelTooltip={null}\n              title={'Proposal ID'}\n              value={`#${proposal.id}`}\n              minHeight={['110px','143px']}\n              titleMinHeight={['auto','50px']}\n              label={`Created on ${this.functionsUtil.strToMoment(creationTime).utc().format('DD MMM, YYYY @ HH:mm')} UTC`}\n            />\n          </Flex>\n          <Flex\n            mb={[2,0]}\n            pl={[0,1]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              titleMinHeight={['auto','50px']}\n              minHeight={['110px','143px']}\n              labelTooltip={ null }\n              title={'Proposer'}\n              label={null}\n            >\n              <Flex\n                alignItems={'center'}\n                flexDirection={'row'}\n                justifyContent={'center'}\n              >\n                <Blockie\n                  opts={{\n                    size: 12,\n                    color: \"#dfe\",\n                    bgcolor: \"#a71\",\n                    spotcolor: \"#000\",\n                    seed: proposal.address,\n                  }}\n                />\n                <ExtLink\n                  href={this.functionsUtil.getEtherscanAddressUrl(proposal.proposer)}\n                >\n                  <Flex\n                    flexDirection={'row'}\n                    alignItems={'flex-end'}\n                    justifyContent={'flex-start'}\n                  >\n                    <ShortHash\n                      ml={2}\n                      lineHeight={1}\n                      {...this.props}\n                      fontSize={[3,4]}\n                      fontWeight={[3,4]}\n                      color={'statValue'}\n                      hash={proposal.proposer}\n                    />\n                    <Icon\n                      ml={1}\n                      size={'1.2em'}\n                      name={'OpenInNew'}\n                      color={'statValue'}\n                    />\n                  </Flex>\n                </ExtLink>\n              </Flex>\n            </StatsCard>\n          </Flex>\n          <Flex\n            mb={[2,0]}\n            pl={[0,1]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              title={'Status'}\n              labelTooltip={ null }\n              minHeight={['110px','143px']}\n              titleMinHeight={['auto','50px']}\n              label={proposal.state==='Active' ? `Ending on ${this.functionsUtil.strToMoment(endTime).utc().format('DD MMM, YYYY @ HH:mm')} UTC` : `Updated on ${this.functionsUtil.strToMoment(lastState.start_time*1000).utc().format('DD MMM, YYYY @ HH:mm')} UTC`}\n            >\n              <Flex\n                alignItems={'center'}\n                flexDirection={'row'}\n                justifyContent={'center'}\n              >\n                <ProposalField\n                  {...this.props}\n                  proposal={proposal}\n                  fieldInfo={{\n                    name:'statusIcon',\n                    props:{\n                      size: this.props.isMobile ? '1.7em' : '2em'\n                    }\n                  }}\n                />\n                <Text\n                  ml={2}\n                  lineHeight={1}\n                  fontSize={[4,5]}\n                  fontWeight={[3,4]}\n                  color={'statValue'}\n                >\n                  {proposal.state}\n                </Text>\n              </Flex>\n            </StatsCard>\n          </Flex>\n          <Flex\n            pl={[0,1]}\n            mb={[2,0]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              label={null}\n              title={'Total Votes'}\n              labelTooltip={ null }\n              minHeight={['110px','143px']}\n              titleMinHeight={['auto','50px']}\n              value={this.functionsUtil.formatMoney(totalVotes.toFixed(0,1),0)}\n            />\n          </Flex>\n        </Flex>\n        {\n          this.props.account && \n            <CastVote\n              {...this.props}\n              callback={this.props.loadData}\n            />\n        }\n        <Flex\n          width={1}\n          mb={[2,3]}\n          id={'details-container'}\n          justifyContent={'space-between'}\n          flexDirection={['column','row']}\n        >\n          <DashboardCard\n            cardProps={{\n              p:3,\n              mb:[2,0],\n              mr:[0,1],\n              width:[1,1/2]\n            }}\n            title={'Actions'}\n            titleParentProps={{\n              mt:0,\n              ml:0\n            }}\n          >\n            <Flex\n              pt={2}\n              width={1}\n              alignItems={'center'}\n              flexDirection={'column'}\n              justifyContent={'center'}\n            >\n              {\n                proposal.actions.signatures.map( (action,actionIndex) => {\n                  const data = proposal.actions.calldatas[actionIndex];\n                  // const targetAddr = proposal.actions.targets[actionIndex];\n\n                  let decodedParams = null;\n                  let attrs = action.match(/\\(([a-z0-9,]+(\\[\\])?)\\)/i);\n                  attrs = attrs ? attrs[1].split(',') : null;\n\n                  if (attrs){\n                    decodedParams = this.props.web3.eth.abi.decodeParameters(attrs,data);\n                    if (decodedParams){\n                      decodedParams = Object.values(decodedParams).splice(0,attrs.length);\n                    }\n                  }\n\n                  return (\n                    <Flex\n                      py={1}\n                      width={1}\n                      flexDirection={'column'}\n                      alignItems={'flex-start'}\n                      key={`action_${actionIndex}`}\n                      justifyContent={'flex-start'}\n                      borderBottom={`1px solid ${this.props.theme.colors['near-white']}`}\n                    >\n                      <Flex\n                        mb={1}\n                        width={1}\n                        flexDirection={['column','row']}\n                        alignItems={['flex-start','center']}\n                      >\n                        <Flex\n                          flexDirection={'row'}\n                        >\n                          <Text\n                            fontSize={1}\n                            fontWeight={3}\n                            color={'dark-gray'}\n                          >\n                            {parseInt(actionIndex)+1}\n                          </Text>\n                          <Text\n                            ml={2}\n                            fontSize={1}\n                            fontWeight={2}\n                            color={'dark-gray'}\n                          >\n                            {action}\n                          </Text>\n                        </Flex>\n                        {\n                          decodedParams &&\n                            <Link\n                              mt={[1,0]}\n                              ml={[0,1]}\n                              fontSize={1}\n                              fontWeight={2}\n                              textAlign={'left'}\n                              lineHeight={'initial'}\n                              hoverColor={'primary'}\n                              onClick={ e => this.toggleShowParams(actionIndex) }\n                            >\n                              {\n                                this.state.showActionParams === actionIndex ? '(hide params)' : '(show params)'\n                              }\n                            </Link>\n                        }\n                      </Flex>\n                      {\n                        decodedParams && this.state.showActionParams === actionIndex &&\n                          <Flex\n                            pl={[0,3]}\n                            width={1}\n                            flexDirection={'column'}\n                          >\n                            {\n                              decodedParams.map( (param,paramIndex) => (\n                                <Text\n                                  fontSize={0}\n                                  color={'statValue'}\n                                  key={`param_${paramIndex}`}\n                                >\n                                  {param}\n                                </Text>\n                              ))\n                            }\n                          </Flex>\n                      }\n                    </Flex>\n                  );\n                })\n              }\n            </Flex>\n          </DashboardCard>\n          <DashboardCard\n            cardProps={{\n              p:3,\n              ml:[0,1],\n              width:[1,1/2]\n            }}\n          >\n            <Flex\n              mb={2}\n              width={1}\n              alignItems={'center'}\n              flexDirection={'row'}\n              justifyContent={'space-between'}\n            >\n              <Text\n                fontWeight={4}\n                fontSize={[2,3]}\n                textAlign={'left'}\n                color={'dark-gray'}\n                lineHeight={'initial'}\n              >\n                Proposal History\n              </Text>\n              <Text\n                fontWeight={4}\n                fontSize={[2,3]}\n                textAlign={'left'}\n                color={'dark-gray'}\n                lineHeight={'initial'}\n              >\n                Date\n              </Text>\n            </Flex>\n            <Flex\n              width={1}\n              alignItems={'center'}\n              flexDirection={'column'}\n              justifyContent={'center'}\n            >\n              {\n                proposal.states.map( (stateInfo,stateIndex) => {\n                  return (\n                    <Flex\n                      py={2}\n                      width={1}\n                      alignItems={'center'}\n                      key={`state_${stateIndex}`}\n                      justifyContent={'space-between'}\n                      borderBottom={`1px solid ${this.props.theme.colors['near-white']}`}\n                    >\n                      <Flex\n                        alignItems={'center'}\n                        flexDirection={'row'}\n                      >\n                        <ProposalField\n                          {...this.props}\n                          proposal={proposal}\n                          fieldInfo={{\n                            name:'statusIcon',\n                            state:stateInfo.state,\n                            props:{\n                              size: this.props.isMobile ? '1.3em' : '1.5em'\n                            }\n                          }}\n                        />\n                        <Link\n                          ml={2}\n                          fontSize={1}\n                          fontWeight={2}\n                          target={'_blank'}\n                          textAlign={'left'}\n                          color={'dark-gray'}\n                          lineHeight={'initial'}\n                          hoverColor={'primary'}\n                          rel={'nofollow noopener noreferrer'}\n                          href={this.functionsUtil.getEtherscanTransactionUrl(stateInfo.trx_hash)}\n                        >\n                          {stateInfo.state}\n                        </Link>\n                      </Flex>\n                      <Text\n                        fontSize={1}\n                        fontWeight={2}\n                        textAlign={'left'}\n                        color={'dark-gray'}\n                        lineHeight={'initial'}\n                      >\n                        {this.functionsUtil.strToMoment(stateInfo.start_time*1000).utc().format('DD MMM, YYYY @ HH:mm')} UTC\n                      </Text>\n                    </Flex>\n                  );\n                })\n              }\n              {\n                this.state.processing && this.state.processing.loading ? (\n                  <Flex\n                    mt={3}\n                    width={1}\n                    flexDirection={'column'}\n                  >\n                    <TxProgressBar\n                      web3={this.props.web3}\n                      hash={this.state.processing.txHash}\n                      cancelTransaction={this.cancelTransaction.bind(this)}\n                      waitText={`${this.state.processing.action} estimated in`}\n                      endMessage={`Finalizing ${this.state.processing.action.toLowerCase()} request...`}\n                    />\n                  </Flex>\n                ) : canQueue ? (\n                  <RoundButton\n                    buttonProps={{\n                      mt:3,\n                      width:[1,'auto'],\n                    }}\n                    handleClick={this.queueProposal.bind(this)}\n                  >\n                    Queue Proposal\n                  </RoundButton>\n                ) : canExecute && (\n                  <RoundButton\n                    buttonProps={{\n                      mt:3,\n                      width:[1,'auto'],\n                    }}\n                    handleClick={this.executeProposal.bind(this)}\n                  >\n                    Execute Proposal\n                  </RoundButton>\n                )\n              }\n            </Flex>\n          </DashboardCard>\n        </Flex>\n        <DashboardCard\n          cardProps={{\n            p:3,\n            mb:[2,3]\n          }}\n          title={'Details'}\n          titleParentProps={{\n            mt:0,\n            ml:0\n          }}\n        >\n          <Text\n            mt={2}\n            fontSize={[1,2]}\n            style={{\n              wordBreak:'break-word'\n            }}\n            dangerouslySetInnerHTML={{\n              __html:proposal.description\n            }}\n          >\n          </Text>\n        </DashboardCard>\n        {\n          hasVotes && \n            <DashboardCard\n              cardProps={{\n                p:3,\n                mb:[2,3]\n              }}\n            >\n              <Flex\n                width={1}\n                alignItems={'center'}\n                flexDirection={'column'}\n                justifyContent={'center'}\n              >\n                <Flex\n                  mb={2}\n                  width={1}\n                  alignItems={'center'}\n                  flexDirection={'row'}\n                  justifyContent={'space-between'}\n                >\n                  <Text\n                    fontWeight={4}\n                    fontSize={[2,3]}\n                    textAlign={'left'}\n                    color={'dark-gray'}\n                    lineHeight={'initial'}\n                  >\n                    For ({forVotesPerc}%)\n                  </Text>\n                  <Text\n                    fontWeight={4}\n                    fontSize={[2,3]}\n                    textAlign={'left'}\n                    color={'dark-gray'}\n                    lineHeight={'initial'}\n                  >\n                    Against ({againstVotesPerc}%)\n                  </Text>\n                </Flex>\n                <Flex\n                  mb={2}\n                  width={1}\n                  height={'20px'}\n                  alignItems={'center'}\n                  flexDirection={'row'}\n                  id={'votes-cursor-container'}\n                >\n                  <Flex\n                    height={'100%'}\n                    width={`${forVotesPerc}%`}\n                    style={{background:'rgba(0, 211, 149, 1)'}}\n                    borderRadius={ parseFloat(forVotesPerc)===100 ? '20px' : '20px 0 0 20px' }\n                  >\n                  </Flex>\n                  <Flex\n                    height={'100%'}\n                    width={`${againstVotesPerc}%`}\n                    style={{background:'rgba(211, 0, 0, 1)'}}\n                    borderRadius={ parseFloat(againstVotesPerc)===100 ? '20px' : '0 20px 20px 0' }\n                  >\n                  </Flex>\n                </Flex>\n                <Flex\n                  width={1}\n                  height={'20px'}\n                  alignItems={'center'}\n                  flexDirection={'row'}\n                  id={'votes-number-container'}\n                >\n                  <Flex\n                    width={1/2}\n                    height={'100%'}\n                    justifyContent={'flex-end'}\n                  >\n                    <Flex\n                      width={1}\n                      height={'100%'}\n                      justifyContent={'flex-start'}\n                    >\n                      <Text\n                        fontWeight={3}\n                        fontSize={[1,2]}\n                        textAlign={'left'}\n                        color={'statValue'}\n                        lineHeight={'initial'}\n                      >\n                        {this.functionsUtil.formatMoney(forVotes.toFixed(0,1),0)}\n                      </Text>\n                    </Flex>\n                  </Flex>\n                  <Flex\n                    width={1/2}\n                    height={'100%'}\n                    justifyContent={'flex-start'}\n                  >\n                    <Flex\n                      width={1}\n                      height={'100%'}\n                      minWidth={'10%'}\n                      justifyContent={'flex-end'}\n                    >\n                      <Text\n                        fontWeight={3}\n                        fontSize={[1,2]}\n                        textAlign={'right'}\n                        color={'statValue'}\n                        lineHeight={'initial'}\n                      >\n                        {this.functionsUtil.formatMoney(againstVotes.toFixed(0,1),0)}\n                      </Text>\n                    </Flex>\n                  </Flex>\n                </Flex>\n              </Flex>\n            </DashboardCard>\n        }\n        {\n          hasVotes && \n            <Flex\n              mb={4}\n              width={1}\n              id={'votes-addresses-container'}\n              justifyContent={'space-between'}\n              flexDirection={['column','row']}\n            >\n              <DashboardCard\n                cardProps={{\n                  p:3,\n                  mb:[2,0],\n                  mr:[0,1],\n                  width:[1,1/2]\n                }}\n                id={'for-votes-addresses-container'}\n              >\n                <Flex\n                  width={1}\n                  alignItems={'center'}\n                  flexDirection={'column'}\n                  justifyContent={'center'}\n                >\n                  <Flex\n                    mb={2}\n                    width={1}\n                    alignItems={'center'}\n                    flexDirection={'row'}\n                    justifyContent={'space-between'}\n                  >\n                    <Text\n                      fontWeight={4}\n                      fontSize={[2,3]}\n                      textAlign={'left'}\n                      color={'dark-gray'}\n                      lineHeight={'initial'}\n                    >\n                      For Addresses ({forVotesAddrs.length})\n                    </Text>\n                    <Text\n                      fontWeight={4}\n                      fontSize={[2,3]}\n                      textAlign={'left'}\n                      color={'dark-gray'}\n                      lineHeight={'initial'}\n                    >\n                      Votes\n                    </Text>\n                  </Flex>\n                  <Flex\n                    width={1}\n                    style={{\n                      overflow:'scroll'\n                    }}\n                    maxHeight={'400px'}\n                    flexDirection={'column'}\n                  >\n                    {\n                      forVotesAddrs.map( (voteInfo,voteIndex) => {\n                        const votes = this.functionsUtil.formatMoney(this.functionsUtil.BNify(voteInfo.votes).div(1e18).toFixed(4,1),4);\n                        return (\n                          <Flex\n                            py={2}\n                            width={1}\n                            alignItems={'center'}\n                            flexDirection={'row'}\n                            key={`vote_for_${voteIndex}`}\n                            justifyContent={'space-between'}\n                            borderBottom={`1px solid ${this.props.theme.colors['near-white']}`}\n                          >\n                            <Flex\n                              alignItems={'center'}\n                              flexDirection={'row'}\n                              justifyContent={'flex-start'}\n                            >\n                              <Blockie\n                                opts={{\n                                  size: 7,\n                                  color: \"#dfe\",\n                                  bgcolor: \"#a71\",\n                                  spotcolor: \"#000\",\n                                  seed: voteInfo.voter,\n                                }}\n                              />\n                              <Link\n                                ml={2}\n                                fontSize={1}\n                                fontWeight={2}\n                                target={'_blank'}\n                                textAlign={'left'}\n                                color={'statValue'}\n                                lineHeight={'initial'}\n                                hoverColor={'primary'}\n                                rel={'nofollow noopener noreferrer'}\n                                href={`/#/governance/leaderboard/${voteInfo.voter}`}\n                              >\n                                {\n                                  this.props.isMobile ? (\n                                    <ShortHash\n                                      fontSize={1}\n                                      fontWeight={2}\n                                      {...this.props}\n                                      textAlign={'left'}\n                                      color={'statValue'}\n                                      hash={voteInfo.voter}\n                                      lineHeight={'initial'}\n                                    />\n                                  ) : voteInfo.voter\n                                }\n                              </Link>\n                            </Flex>\n                            <Text\n                              fontSize={1}\n                              fontWeight={2}\n                              textAlign={'left'}\n                              color={'statValue'}\n                              lineHeight={'initial'}\n                            >\n                              {votes}\n                            </Text>\n                          </Flex>\n                        )\n                      })\n                    }\n                  </Flex>\n                </Flex>\n              </DashboardCard>\n              <DashboardCard\n                cardProps={{\n                  p:3,\n                  ml:[0,1],\n                  width:[1,1/2]\n                }}\n                id={'against-votes-addresses-container'}\n              >\n                <Flex\n                  mb={2}\n                  width={1}\n                  alignItems={'center'}\n                  flexDirection={'row'}\n                  justifyContent={'space-between'}\n                >\n                  <Text\n                    fontWeight={4}\n                    fontSize={[2,3]}\n                    textAlign={'left'}\n                    color={'dark-gray'}\n                    lineHeight={'initial'}\n                  >\n                    Against Addresses ({againstVotesAddrs.length})\n                  </Text>\n                  <Text\n                    fontWeight={4}\n                    fontSize={[2,3]}\n                    textAlign={'left'}\n                    color={'dark-gray'}\n                    lineHeight={'initial'}\n                  >\n                    Votes\n                  </Text>\n                </Flex>\n                <Flex\n                  width={1}\n                  style={{\n                    overflow:'scroll'\n                  }}\n                  maxHeight={'400px'}\n                  flexDirection={'column'}\n                >\n                  {\n                    againstVotesAddrs.map( (voteInfo,voteIndex) => {\n                      const votes = this.functionsUtil.formatMoney(this.functionsUtil.BNify(voteInfo.votes).div(1e18).toFixed(4,1),4);\n                      return (\n                        <Flex\n                          py={2}\n                          width={1}\n                          alignItems={'center'}\n                          flexDirection={'row'}\n                          justifyContent={'space-between'}\n                          key={`vote_against_${voteIndex}`}\n                          borderBottom={`1px solid ${this.props.theme.colors['near-white']}`}\n                        >\n                          <Flex\n                            alignItems={'center'}\n                            flexDirection={'row'}\n                            justifyContent={'flex-start'}\n                          >\n                            <Blockie\n                              opts={{\n                                size: 7,\n                                color: \"#dfe\",\n                                bgcolor: \"#a71\",\n                                spotcolor: \"#000\",\n                                seed: voteInfo.voter,\n                              }}\n                            />\n                            <Link\n                              ml={2}\n                              fontSize={1}\n                              fontWeight={2}\n                              target={'_blank'}\n                              textAlign={'left'}\n                              color={'statValue'}\n                              lineHeight={'initial'}\n                              hoverColor={'primary'}\n                              rel={'nofollow noopener noreferrer'}\n                              href={`/#/governance/leaderboard/${voteInfo.voter}`}\n                            >\n                              {voteInfo.voter}\n                            </Link>\n                          </Flex>\n                          <Text\n                            fontSize={1}\n                            fontWeight={2}\n                            textAlign={'left'}\n                            color={'statValue'}\n                            lineHeight={'initial'}\n                          >\n                            {votes}\n                          </Text>\n                        </Flex>\n                      )\n                    })\n                  }\n                </Flex>\n              </DashboardCard>\n            </Flex>\n        }\n      </Box>\n    );\n  }\n}\n\nexport default ProposalDetails;","import Title from '../Title/Title';\nimport { Box, Flex } from \"rimble-ui\";\nimport React, { Component } from 'react';\nimport Breadcrumb from '../Breadcrumb/Breadcrumb';\nimport NewProposal from './NewProposal/NewProposal';\nimport GovernanceUtil from '../utilities/GovernanceUtil';\nimport ProposalsList from './ProposalsList/ProposalsList';\nimport CardIconButton from '../CardIconButton/CardIconButton';\nimport ProposalDetails from './ProposalDetails/ProposalDetails';\n\nclass Proposals extends Component {\n  state = {\n    proposals:null,\n    addProposal:false,\n    selectedProposal:null\n  };\n\n  // Utils\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n\n    const contractsInitialized = this.props.contractsInitialized && prevProps.contractsInitialized !== this.props.contractsInitialized;\n    if (contractsInitialized){\n      this.loadData();\n    }\n  }\n\n  async loadData(){\n\n    if (!this.props.contractsInitialized){\n      return false;\n    }\n\n    const proposals = await this.governanceUtil.getProposals();\n\n    const { match: { params } } = this.props;\n      \n    // Look if proposalId exists\n    let addProposal = false;\n    let selectedProposal = null;\n    if (params.item_id && parseInt(params.item_id)){\n      const proposalId = parseInt(params.item_id);\n      const foundProposal = proposals.find( p => parseInt(p.id) === proposalId );\n      // Set selected proposal\n      if (foundProposal){\n        selectedProposal = foundProposal;\n      }\n    } else if (params.item_id && params.item_id.toLowerCase() === 'new'){\n      addProposal = true;\n    }\n\n    this.setState({\n      proposals,\n      addProposal,\n      selectedProposal\n    });\n  }\n\n  render() {\n    return (\n      <Box\n        width={1}\n      >\n        <Flex\n          mb={3}\n          width={1}\n          alignItems={'center'}\n          flexDirection={'row'}\n          justifyContent={(this.state.selectedProposal || this.state.addProposal) ? 'space-between' : 'flex-end'}\n        >\n          {\n            this.state.selectedProposal ? (\n              <Flex\n                alignItems={'center'}\n                width={0.5}\n              >\n                <Breadcrumb\n                  {...this.props}\n                  text={'Governance'}\n                  pathLink={['proposals']}\n                  isMobile={this.props.isMobile}\n                  handleClick={ e => this.props.goToSection('/') }\n                  path={['Proposals',this.state.selectedProposal.title]}\n                />\n              </Flex>\n            ) : this.state.addProposal ? (\n              <Flex\n                alignItems={'center'}\n                width={0.5}\n              >\n                <Breadcrumb\n                  {...this.props}\n                  text={'Governance'}\n                  pathLink={['proposals']}\n                  isMobile={this.props.isMobile}\n                  path={['Proposals','Add proposal']}\n                  handleClick={ e => this.props.goToSection('/') }\n                />\n              </Flex>\n            ) : (\n              <Flex\n                alignItems={'center'}\n                width={0.5}\n              >\n                <Breadcrumb\n                  {...this.props}\n                  text={'Governance'}\n                  path={['Proposals']}\n                  isMobile={this.props.isMobile}\n                  handleClick={ e => this.props.goToSection('/') }\n                />\n              </Flex>\n            )\n          }\n          {\n            !this.state.addProposal && \n              <Flex\n                width={0.5}\n                alignItems={'center'}\n                justifyContent={'flex-end'}\n              >\n                <CardIconButton\n                  icon={'Add'}\n                  {...this.props}\n                  text={'New Proposal'}\n                  handleClick={ e => this.props.goToSection(`proposals/new`) }\n                />\n              </Flex>\n          }\n        </Flex>\n        {\n          this.state.selectedProposal ? (\n            <Box\n              width={1}\n            >\n              <ProposalDetails\n                {...this.props}\n                loadData={this.loadData.bind(this)}\n                proposal={this.state.selectedProposal}\n              />\n            </Box>\n          ) : this.state.addProposal ? (\n            <Box\n              width={1}\n            >\n              <NewProposal\n                {...this.props}\n              />\n            </Box>\n          ) : (\n            <Box\n              width={1}\n            >\n              <Title\n                mb={[3,4]}\n              >\n                Governance Proposals\n              </Title>\n              <Flex\n                mb={3}\n                width={1}\n                id={'proposals'}\n                flexDirection={'column'}\n              >\n                <ProposalsList\n                  {...this.props}\n                  proposals={this.state.proposals}\n                  cols={[\n                    {\n                      title: '#',\n                      props:{\n                        width:[0.1,0.05]\n                      },\n                      fields:[\n                        {\n                          name:'id',\n                          props:{\n                          }\n                        },\n                      ]\n                    },\n                    {\n                      title:'DATE',\n                      mobile:false,\n                      props:{\n                        width:[0.15,0.12],\n                      },\n                      fields:[\n                        {\n                          name:'date'\n                        }\n                      ]\n                    },\n                    {\n                      title:'TITLE',\n                      props:{\n                        width:[0.75,0.60],\n                      },\n                      fields:[\n                        {\n                          name:'title'\n                        }\n                      ]\n                    },\n                    {\n                      mobile:false,\n                      title:'VOTES',\n                      props:{\n                        width:[0.11,0.11],\n                      },\n                      fields:[\n                        {\n                          name:'votes'\n                        }\n                      ]\n                    },\n                    {\n                      title:'STATUS',\n                      props:{\n                        width:[0.15,0.12],\n                        alignItems:['center','flex-start'],\n                        justifyContent:['center','flex-start']\n                      },\n                      parentProps:{\n                        justifyContent:['center','flex-start']\n                      },\n                      fields:[\n                        {\n                          name:'statusIcon',\n                          props:{\n                            mr:[0,2],\n                          },\n                        },\n                        {\n                          mobile:false,\n                          name:'status'\n                        }\n                      ]\n                    },\n                  ]}\n                />\n              </Flex>\n            </Box>\n          )\n        }\n      </Box>\n    );\n  }\n}\n\nexport default Proposals;\n","import Title from '../../Title/Title';\nimport React, { Component } from 'react';\nimport ExtLink from '../../ExtLink/ExtLink';\nimport StatsCard from '../../StatsCard/StatsCard';\nimport { Box, Flex, Blockie, Icon } from \"rimble-ui\";\nimport ProposalsList from '../ProposalsList/ProposalsList';\nimport GovernanceUtil from '../../utilities/GovernanceUtil';\nimport ShortHash from \"../../utilities/components/ShortHash\";\n\nclass DelegateDetails extends Component {\n\n  state = {\n    proposals:null\n  };\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadProposals();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n    const delegateChanged = JSON.stringify(prevProps.delegate) !== JSON.stringify(this.props.delegate);\n    if (delegateChanged){\n      this.loadProposals();\n    }\n  }\n\n  async loadProposals(){\n    const delegate = this.props.delegate;\n    const proposals = await this.governanceUtil.getProposals(delegate.delegate);\n\n    this.setState({\n      proposals\n    });\n  }\n\n  render() {\n\n    const delegate = this.props.delegate;\n\n    // rank\n    // votes\n    // delegate\n    // proposals\n    // vote_weight\n\n    return (\n      <Box\n        width={1}\n      >\n        <Title\n          mb={[3,4]}\n        >\n          Delegate Details\n        </Title>\n        <Flex\n          mb={3}\n          width={1}\n          alignItems={'center'}\n          justifyContent={'center'}\n          flexDirection={['column','row']}\n        >\n          <Flex\n            mb={[2,0]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              label={null}\n              title={'Rank'}\n              value={delegate.rank}\n              labelTooltip={ null }\n              minHeight={['100px','143px']}\n              titleMinHeight={['auto','50px']}\n            />\n          </Flex>\n          <Flex\n            mb={[2,0]}\n            pl={[0,1]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              titleMinHeight={['auto','50px']}\n              minHeight={['100px','143px']}\n              labelTooltip={ null }\n              title={'Address'}\n              label={null}\n            >\n              <Flex\n                alignItems={'center'}\n                flexDirection={'row'}\n                justifyContent={'center'}\n              >\n                <Blockie\n                  opts={{\n                    size: 12,\n                    color: \"#dfe\",\n                    bgcolor: \"#a71\",\n                    spotcolor: \"#000\",\n                    seed: delegate.delegate,\n                  }}\n                />\n                <ExtLink\n                  href={this.functionsUtil.getEtherscanAddressUrl(delegate.delegate)}\n                >\n                  <Flex\n                    flexDirection={'row'}\n                    alignItems={'flex-end'}\n                    justifyContent={'flex-start'}\n                  >\n                    <ShortHash\n                      ml={2}\n                      lineHeight={1}\n                      {...this.props}\n                      fontSize={[3,4]}\n                      fontWeight={[3,4]}\n                      color={'statValue'}\n                      hash={delegate.delegate}\n                    />\n                    <Icon\n                      ml={1}\n                      size={'1.2em'}\n                      name={'OpenInNew'}\n                      color={'statValue'}\n                    />\n                  </Flex>\n                </ExtLink>\n              </Flex>\n            </StatsCard>\n          </Flex>\n          <Flex\n            mb={[2,0]}\n            pl={[0,1]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              label={null}\n              title={'Votes'}\n              labelTooltip={null}\n              minHeight={['100px','143px']}\n              titleMinHeight={['auto','50px']}\n              value={this.functionsUtil.formatMoney(this.functionsUtil.BNify(delegate.votes).toFixed(2,1),2)}\n            />\n          </Flex>\n          <Flex\n            pl={[0,1]}\n            mb={[2,0]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              label={null}\n              labelTooltip={ null }\n              title={'Proposals Voted'}\n              value={delegate.proposals}\n              minHeight={['100px','143px']}\n              titleMinHeight={['auto','50px']}\n            />\n          </Flex>\n        </Flex>\n        <Box\n          width={1}\n          mt={[4,5]}\n        >\n          <Title\n            mb={[2,3]}\n          >\n            Voting History\n          </Title>\n          <Flex\n            mb={[3,4]}\n            width={1}\n            id={'transactions'}\n            flexDirection={'column'}\n          >\n            <ProposalsList\n              {...this.props}\n              rowsPerPage={5}\n              delegate={delegate}\n              filtersEnabled={false}\n              proposals={this.state.proposals}\n              cols={[\n                {\n                  title: '#',\n                  props:{\n                    width:[0.08,0.05]\n                  },\n                  fields:[\n                    {\n                      name:'id',\n                      props:{\n                      }\n                    },\n                  ]\n                },\n                {\n                  title:'DATE',\n                  mobile:false,\n                  props:{\n                    width:0.12,\n                  },\n                  fields:[\n                    {\n                      name:'date'\n                    }\n                  ]\n                },\n                {\n                  title:'TITLE',\n                  props:{\n                    width:[0.66,0.57],\n                  },\n                  fields:[\n                    {\n                      name:'title'\n                    }\n                  ]\n                },\n                {\n                  title:'VOTE',\n                  props:{\n                    width:[0.14,0.14],\n                    textAlign:'center'\n                  },\n                  fields:[\n                    {\n                      name:'support',\n                      parentProps:{\n                        alignItems:'center'\n                      }\n                    }\n                  ]\n                },\n                {\n                  title:'STATUS',\n                  props:{\n                    width:[0.12,0.12],\n                    justifyContent:['center','flex-start']\n                  },\n                  parentProps:{\n                    justifyContent:['center','flex-start']\n                  },\n                  fields:[\n                    {\n                      name:'statusIcon',\n                      props:{\n                        mr:[0,2]\n                      }\n                    },\n                    {\n                      mobile:false,\n                      name:'status'\n                    }\n                  ]\n                },\n              ]}\n            />\n          </Flex>\n        </Box>\n      </Box>\n    );\n  }\n}\n\nexport default DelegateDetails;","import Title from '../Title/Title';\nimport { Box, Flex } from \"rimble-ui\";\nimport React, { Component } from 'react';\nimport Breadcrumb from '../Breadcrumb/Breadcrumb';\nimport GovernanceUtil from '../utilities/GovernanceUtil';\nimport DelegatesList from './DelegatesList/DelegatesList';\nimport DelegateDetails from './DelegateDetails/DelegateDetails';\n\nclass Leaderboard extends Component {\n  state = {\n    maxRows:100,\n    delegates:null,\n    selectedDelegate:null\n  };\n\n  // Utils\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n  }\n\n  async loadData(){\n    const delegates = await this.governanceUtil.getDelegates();\n\n    const { match: { params } } = this.props;\n\n    // Select delegate\n    let selectedDelegate = null;\n    if (params.item_id){\n      const delegateId = params.item_id.toLowerCase();\n      const foundProposal = delegates.find( d => d.delegate.toLowerCase() === delegateId );\n      if (foundProposal){\n        selectedDelegate = foundProposal;\n      }\n    }\n\n    this.setState({\n      delegates,\n      selectedDelegate\n    });\n  }\n\n  render() {\n\n    return (\n      <Box\n        width={1}\n      >\n        {\n          this.state.selectedDelegate ? (\n            <Box\n              width={1}\n            >\n              <Flex\n                mb={3}\n                width={1}\n                alignItems={'center'}\n                flexDirection={'row'}\n                justifyContent={'flex-start'}\n              >\n                <Flex\n                  width={1}\n                >\n                  <Breadcrumb\n                    {...this.props}\n                    text={'Governance'}\n                    pathLink={['leaderboard']}\n                    isMobile={this.props.isMobile}\n                    handleClick={ e => this.props.goToSection('') }\n                    path={['Leaderboard',this.state.selectedDelegate.delegate]}\n                  />\n                </Flex>\n              </Flex>\n              <DelegateDetails\n                {...this.props}\n                delegate={this.state.selectedDelegate}\n              />\n            </Box>\n          ) : (\n            <Box\n              width={1}\n            >\n              <Flex\n                mb={3}\n                width={1}\n                alignItems={'center'}\n                flexDirection={'row'}\n                justifyContent={'flex-start'}\n              >\n                <Breadcrumb\n                  {...this.props}\n                  text={'Governance'}\n                  path={['Leaderboard']}\n                  isMobile={this.props.isMobile}\n                  handleClick={ e => this.props.goToSection('') }\n                />\n              </Flex>\n              <Title\n                mb={[3,4]}\n              >\n                Governance Leaderboard\n              </Title>\n              <Flex\n                mb={3}\n                width={1}\n                id={'leaderboard'}\n                flexDirection={'column'}\n              >\n                <DelegatesList\n                  {...this.props}\n                  delegates={this.state.delegates}\n                  cols={[\n                    {\n                      title: 'RANK',\n                      props:{\n                        width:[0.13,0.08]\n                      },\n                      fields:[\n                        {\n                          name:'rank'\n                        },\n                      ]\n                    },\n                    {\n                      title:'ADDRESS',\n                      props:{\n                        width:[0.60,0.50],\n                      },\n                      fields:[\n                        {\n                          mobile:false,\n                          name:'avatar',\n                          props:{\n                            mr:2\n                          }\n                        },\n                        {\n                          name:'delegate'\n                        }\n                      ]\n                    },\n                    {\n                      title:'VOTES',\n                      props:{\n                        width:[0.27,0.12],\n                      },\n                      fields:[\n                        {\n                          name:'votes'\n                        }\n                      ]\n                    },\n                    {\n                      mobile:false,\n                      title:'VOTE WEIGHT',\n                      props:{\n                        width:[0.15,0.15],\n                      },\n                      fields:[\n                        {\n                          name:'vote_weight',\n                          parentProps:{\n                            alignItems:'center'\n                          }\n                        }\n                      ]\n                    },\n                    {\n                      mobile:false,\n                      title:'PROPOSALS VOTED',\n                      props:{\n                        width:[0.15,0.15],\n                      },\n                      fields:[\n                        {\n                          name:'proposals',\n                          parentProps:{\n                            alignItems:'center'\n                          }\n                        }\n                      ]\n                    },\n                  ]}\n                />\n              </Flex>\n            </Box>\n          )\n        }\n      </Box>\n    );\n  }\n}\n\nexport default Leaderboard;","import React, { Component } from 'react';\nimport FlexLoader from '../FlexLoader/FlexLoader';\nimport { Flex, Card, Icon, Text } from 'rimble-ui';\nimport GovernanceUtil from '../utilities/GovernanceUtil';\nimport DashboardMenu from '../DashboardMenu/DashboardMenu';\n\n// Import page components\nimport Overview from './Overview';\nimport Delegate from './Delegate';\nimport Proposals from './Proposals';\nimport Leaderboard from './Leaderboard';\nimport RoundButton from '../RoundButton/RoundButton';\nimport DashboardCard from '../DashboardCard/DashboardCard';\nimport TooltipModal from \"../utilities/components/TooltipModal\";\nimport DashboardHeader from '../DashboardHeader/DashboardHeader';\n\nclass Dashboard extends Component {\n  state = {\n    menu:[],\n    votes:null,\n    balance:null,\n    baseRoute:null,\n    modalTitle:null,\n    activeModal:null,\n    blockNumber:null,\n    currentRoute:null,\n    votingPeriod:null,\n    modalContent:null,\n    pageComponent:null,\n    timelockDelay:null,\n    currentSection:null,\n    selectedSection:null,\n    currentDelegate:null,\n    proposalThreshold:null,\n    selectedSubsection:null,\n    proposalMaxOperations:null\n  };\n\n  timeoutId = null;\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    window.governanceUtil = this.governanceUtil;\n    window.functionsUtil = this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async loadMenu() {\n    const menu = [];\n    const baseRoute = this.functionsUtil.getGlobalConfig(['governance','baseRoute']);\n\n    // Add Proposals\n    menu.push(\n      {\n        submenu:[],\n        selected:true,\n        route:baseRoute,\n        icon:'Dashboard',\n        label:'Overview',\n        color:'dark-gray',\n        component:Overview,\n        bgColor:this.props.theme.colors.primary,\n      }\n    );\n\n    // Add Proposals\n    menu.push(\n      {\n        submenu:[],\n        selected:false,\n        label:'Proposals',\n        bgColor:'#00acff',\n        color:'dark-gray',\n        icon:'LightbulbOutline',\n        component:Proposals,\n        route:`${baseRoute}/proposals`,\n      }\n    );\n\n    // Add tools\n    menu.push(\n      {\n        submenu:[],\n        selected:false,\n        bgColor:'#ff0000',\n        color:'dark-gray',\n        label:'Leaderboard',\n        component:Leaderboard,\n        icon:'FormatListNumbered',\n        route:`${baseRoute}/leaderboard`,\n      }\n    );\n\n    // Add tools\n    menu.push(\n      {\n        submenu:[],\n        selected:false,\n        label:'Delegate',\n        color:'dark-gray',\n        bgColor:'#ff0000',\n        component:Delegate,\n        icon:'CompareArrows',\n        route:`${baseRoute}/delegate`,\n      }\n    );\n\n    // Add Forum\n    menu.push(\n      {\n        submenu:[],\n        icon:'Forum',\n        mobile:false,\n        label:'Forum',\n        selected:false,\n        component:null,\n        color:'dark-gray',\n        bgColor:'#ff0000',\n        isExternalLink:true,\n        route:this.functionsUtil.getGlobalConfig(['forumURL'])\n      }\n    );\n\n    await this.setState({\n      menu,\n      baseRoute\n    });\n  }\n\n  resetModal = () => {\n    this.setState({\n      activeModal: null\n    });\n  }\n\n  openTooltipModal = (modalTitle,modalContent) => {\n    this.functionsUtil.sendGoogleAnalyticsEvent({\n      eventCategory: 'UI',\n      eventAction: modalTitle,\n      eventLabel: 'TooltipModal'\n    });\n\n    this.setState({\n      modalTitle,\n      modalContent\n    },() => {\n      this.setActiveModal('tooltip');\n    })\n  }\n\n  setActiveModal = (activeModal) => {\n    this.setState({\n      activeModal\n    });\n  }\n\n  async loadParams() {\n    const { match: { params } } = this.props;\n\n    const baseRoute = this.state.baseRoute;\n    const currentRoute = window.location.hash.substr(1);\n\n    let pageComponent = null;\n    let currentSection = null;\n\n    const menu = this.state.menu;\n\n    let selectedSection = null;\n    let selectedSubsection = null;\n\n    menu.forEach( m => {\n      m.selected = false;\n      const sectionRoute = baseRoute+'/'+params.section;\n      if (currentRoute.toLowerCase() === m.route.toLowerCase() || ( !m.submenu.length && m.route.toLowerCase() === sectionRoute.toLowerCase() )){\n        m.selected = true;\n        if (pageComponent === null){\n          pageComponent = m.component;\n        }\n      } else if (m.submenu.length) {\n        m.submenu.forEach(subm => {\n          subm.selected = false;\n          const submRoute = m.route+'/'+subm.route;\n          if (submRoute.toLowerCase() === currentRoute.toLowerCase()){\n            m.selected = true;\n            subm.selected = true;\n\n            // Set component, if null use parent\n            if (pageComponent === null){\n              if (subm.component){\n                pageComponent = subm.component;\n              } else {\n                pageComponent = m.component;\n              }\n            }\n          }\n\n          // Set selected subsection\n          if (subm.selected){\n            selectedSubsection = subm;\n          }\n\n        });\n      }\n\n      // Set selected section\n      if (m.selected){\n        selectedSection = m;\n      }\n    });\n\n    // Exit if no strategy and token selected\n    if (!pageComponent){\n      return this.goToSection('/',false);\n    }\n\n    await this.setState({\n      menu,\n      params,\n      baseRoute,\n      currentRoute,\n      pageComponent,\n      currentSection,\n      selectedSection,\n      selectedSubsection\n    });\n  }\n\n  componentWillUnmount(){\n    if (this.timeoutId){\n      window.clearTimeout(this.timeoutId);\n    }\n  }\n\n  async componentWillMount() {\n    this.props.setCurrentSection('governance');\n    this.loadUtils();\n\n    // const governanceEnabled = this.functionsUtil.getGlobalConfig(['governance','enabled']);\n    // if (!governanceEnabled){\n    //   this.goToSection('/',false);\n    // }\n\n    await this.loadMenu();\n    this.loadParams();\n  }\n\n  async componentDidMount() {\n    this.timeoutId = window.setTimeout(() => {\n      if (!this.props.accountInizialized || !this.props.contractsInitialized){\n        this.setState({\n          showResetButton:true\n        });\n      }\n    },20000);\n\n    /*\n    if (!this.props.web3){\n      return this.props.initWeb3();\n    } else if (!this.props.accountInizialized){\n      return this.props.initAccount();\n    } else if (!this.props.contractsInitialized){\n      return this.props.initializeContracts();\n    }\n    */\n\n    this.loadUtils();\n    await this.loadMenu();\n    this.loadParams();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState) {\n\n    this.loadUtils();\n\n    const prevParams = prevProps.match.params;\n    const params = this.props.match.params;\n\n    if (JSON.stringify(prevParams) !== JSON.stringify(params)){\n      await this.setState({\n        pageComponent:null\n      }, () => {\n        this.loadParams();\n      });\n    }\n\n    const accountChanged = prevProps.account !== this.props.account;\n    const accountInizialized = this.props.accountInizialized && prevProps.accountInizialized !== this.props.accountInizialized;\n    const contractsInitialized = this.props.contractsInitialized && prevProps.contractsInitialized !== this.props.contractsInitialized;\n\n    if (accountChanged || accountInizialized || contractsInitialized){\n      this.loadData();\n    }\n  }\n\n  goToSection(section,isGovernance=true){\n\n    // Remove dashboard route\n    if (isGovernance){\n      section = section.replace(this.state.baseRoute+'/','');\n    }\n\n    const newRoute = (isGovernance ? this.state.baseRoute+(section.length>0 ? '/'+section : '') : section).replace(/[/]+$/,'');\n    window.location.hash = newRoute;\n\n    // Send GA event\n    this.functionsUtil.sendGoogleAnalyticsEvent({\n      eventCategory: 'UI',\n      eventLabel: newRoute,\n      eventAction: 'goToSection'\n    });\n\n    window.scrollTo(0, 0);\n  }\n\n  async loadData(){\n\n    if (!this.props.web3 || !this.props.contractsInitialized){\n      return false;\n    }\n\n    const newState = {};\n    const [\n      blockNumber,\n      votingPeriod,\n      timelockDelay,\n      {\n        proposalThreshold, proposalMaxOperations\n      }\n    ] = await Promise.all([\n      this.functionsUtil.getBlockNumber(),\n      this.governanceUtil.getVotingPeriod(),\n      this.governanceUtil.getTimelockDelay(),\n      this.governanceUtil.getProposalParams(),\n    ]);\n\n    newState.blockNumber = blockNumber;\n    newState.votingPeriod = votingPeriod;\n    newState.timelockDelay = timelockDelay;\n    newState.proposalThreshold = proposalThreshold;\n    newState.proposalMaxOperations = proposalMaxOperations;\n\n    if (this.props.account){\n      const [\n        votes,\n        balance,\n        currentDelegate\n      ] = await Promise.all([\n        this.governanceUtil.getCurrentVotes(this.props.account),\n        this.governanceUtil.getTokensBalance(this.props.account),\n        this.governanceUtil.getCurrentDelegate(this.props.account)\n      ]);\n\n      newState.votes = votes;\n      newState.balance = balance;\n      newState.currentDelegate = currentDelegate;\n    }\n\n    this.setState(newState);\n  }\n\n  logout = async () => {\n    this.props.setConnector('Infura','Infura');\n    await this.props.initWeb3('Infura');\n  }\n\n  render() {\n    const PageComponent = this.state.pageComponent ? this.state.pageComponent : null;\n    return (\n      <Flex\n        width={'100%'}\n        position={'fixed'}\n        flexDirection={'row'}\n        className={this.props.themeMode}\n        backgroundColor={['dashboardBg','white']}\n        height={[(window.innerHeight-61)+'px','100vh']}\n      >\n        <Flex\n          bottom={0}\n          zIndex={1}\n          width={[1,1/6]}\n          flexDirection={'column'}\n          position={['fixed','relative']}\n        >\n          <Card\n            p={[0,3]}\n            border={0}\n            width={['100vw','auto']}\n            height={['auto','100vh']}\n            backgroundColor={'menuBg'}\n            borderColor={this.props.theme.colors.menuRightBorder}\n            borderRight={`1px solid ${this.props.theme.colors.menuRightBorder}`}\n            >\n            <DashboardMenu\n              {...this.props}\n              menu={this.state.menu}\n            />\n          </Card>\n        </Flex>\n        <Flex\n          py={3}\n          px={[3,5]}\n          mb={0}\n          width={[1,5/6]}\n          style={{\n            overflowY:'scroll',\n            overflowX:'hidden'\n          }}\n          flexDirection={'columns'}\n          backgroundColor={'dashboardBg'}\n        >\n          {\n            !this.props.accountInizialized || !this.props.contractsInitialized || !PageComponent ? (\n              <Flex\n                width={1}\n                minHeight={'50vg'}\n                alignItems={'center'}\n                flexDirection={'column'}\n                justifyContent={'center'}\n              >\n                {\n                  !this.state.showResetButton ? (\n                    <FlexLoader\n                      textProps={{\n                        textSize:4,\n                        fontWeight:2\n                      }}\n                      loaderProps={{\n                        mb:3,\n                        size:'40px'\n                      }}\n                      flexProps={{\n                        my:3,\n                        flexDirection:'column'\n                      }}\n                      text={ !this.props.accountInizialized ? 'Loading account...' : ( !this.props.contractsInitialized ? 'Loading contracts...' : 'Loading assets...' )}\n                    />\n                  ) : (\n                    <DashboardCard\n                      cardProps={{\n                        p:3,\n                        mt:3,\n                        width:[1,0.35]\n                      }}\n                    >\n                      <Flex\n                        alignItems={'center'}\n                        flexDirection={'column'}\n                      >\n                        <Icon\n                          size={'2.3em'}\n                          name={'Warning'}\n                          color={'cellText'}\n                        />\n                        <Text\n                          mt={2}\n                          fontSize={2}\n                          color={'cellText'}\n                          textAlign={'center'}\n                        >\n                          Idle can't connect to your wallet!<br />Make sure that your wallet is unlocked and try again.\n                        </Text>\n                        <RoundButton\n                          buttonProps={{\n                            mt:3,\n                            width:[1,1/2]\n                          }}\n                          handleClick={this.logout.bind(this)}\n                        >\n                          Logout\n                        </RoundButton>\n                      </Flex>\n                    </DashboardCard>\n                  )\n                }\n              </Flex>\n            ) : (\n              <Flex\n                width={1}\n                flexDirection={'column'}\n              >\n                <DashboardHeader\n                  goToSection={this.goToSection.bind(this)}\n                  {...this.props}\n                />\n                {\n                  PageComponent &&\n                    <PageComponent\n                      {...this.props}\n                      votes={this.state.votes}\n                      balance={this.state.balance}\n                      urlParams={this.state.params}\n                      blockNumber={this.state.blockNumber}\n                      votingPeriod={this.state.votingPeriod}\n                      loadUserData={this.loadData.bind(this)}\n                      timelockDelay={this.state.timelockDelay}\n                      goToSection={this.goToSection.bind(this)}\n                      currentDelegate={this.state.currentDelegate}\n                      selectedSection={this.state.selectedSection}\n                      proposalThreshold={this.state.proposalThreshold}\n                      selectedSubsection={this.state.selectedSubsection}\n                      openTooltipModal={this.openTooltipModal.bind(this)}\n                      proposalMaxOperations={this.state.proposalMaxOperations}\n                      />\n                }\n              </Flex>\n            )\n          }\n        </Flex>\n        <TooltipModal\n          closeModal={this.resetModal}\n          title={this.state.modalTitle}\n          content={this.state.modalContent}\n          isOpen={this.state.activeModal === 'tooltip'}\n        >\n        </TooltipModal>\n      </Flex>\n    );\n  }\n}\n\nexport default Dashboard;"],"sourceRoot":""}