{"version":3,"sources":["Governance/ProposalListFilters/ProposalListFilters.module.scss","Governance/NewProposal/NewProposal.module.scss","Governance/ProposalField/ProposalField.js","Governance/ProposalListFilters/ProposalListFilters.js","Governance/ProposalsList/ProposalsList.js","Governance/DelegateField/DelegateField.js","Governance/DelegatesList/DelegatesList.js","Governance/Overview.js","Governance/DelegateVote/DelegateVote.js","Governance/Delegate.js","Governance/NewProposal/NewProposal.js","Governance/CastVote/CastVote.js","Governance/ProposalDetails/ProposalDetails.js","Governance/Proposals.js","Governance/DelegateDetails/DelegateDetails.js","Governance/Leaderboard.js","DelegateVesting/DelegateVesting.js","Governance/Governance.js"],"names":["module","exports","radioBtn","input","ProposalField","state","functionsUtil","this","setProps","props","FunctionsUtil","loadUtils","prevProps","prevState","icon","color","output","fieldInfo","proposal","Object","assign","fieldProps","fontWeight","fontSize","style","maxWidth","overflow","whiteSpace","textOverflow","flexProps","justifyContent","keys","length","forEach","p","name","formattedDate","strToMoment","timestamp","format","react_default","a","createElement","index_es","alignItems","align","size","isMobile","id","title","forVotes","BNify","div","againstVotes","totalVotes","plus","formatMoney","toFixed","support","delegate","toLowerCase","vote","votes","find","v","voter","SmartNumber","number","Component","ProposalListFilters","minWidth","maxHeight","isOpened","activeFilters","status","assets","actions","setFilter","filter","value","_this","setState","objectSpread","defineProperty","applyFilters","toggle","arguments","undefined","toggleOpened","resetFilter","resetFilters","_this2","mb","top","width","zIndex","flexDirection","position","DashboardCard","cardProps","py","px","transition","isInteractive","handleClick","cursor","onClick","mt","borderTop","concat","theme","colors","divider","filters","map","filterCategory","filterValues","key","flexBasis","flex","TableCellHeader","pb","toUpperCase","filterValue","filterLabel","isChecked","my","label","checked","className","styles","onChange","e","Text","mainColor","ml","values","filterName","mr","textTransform","hoverColor","textAlign","ProposalsList","page","loading","rowsPerPage","totalRows","totalPages","pending","active","canceled","defeated","succeeded","queued","expired","executed","processedRows","lastBlockNumber","processList","proposals","sort","b","Math","ceil","i","push","preventDefault","max","min","pageChanged","proposalsChanged","filtersEnabled","hasActiveFilters","hasRows","m","FlexLoader","minHeight","loaderProps","textProps","text","pt","Governance_ProposalListFilters_ProposalListFilters","bind","TableHeader","cols","index","proposalId","TableRow","rowProps","goToSection","fieldComponent","rowId","cardId","height","prevPage","nextPage","h3","fontFamily","DelegateField","loadData","JSON","stringify","delegators","getENSName","ensName","opts","bgcolor","spotcolor","seed","DelegatesList","delegates","maxRows","splice","delegatesChanged","delegateId","Overview","totalSupply","dataLoaded","votesDelegated","governanceUtil","GovernanceUtil","Promise","getDelegates","getProposals","getTotalSupply","all","reduce","d","parseFloat","Title","pr","StatsCard","labelTooltip","titleMinHeight","pl","Governance_ProposalsList_ProposalsList","fields","mobile","parentProps","Governance_DelegatesList_DelegatesList","DelegateVote","newDelegate","processing","txHash","checkNewDelegate","checkAddress","currentDelegate","changeDelegate","target","address","setDelegate","tx","error","eventData","eventCategory","eventAction","eventLabel","getTransactionError","sendGoogleAnalyticsEvent","loadUserData","transactionHash","_this3","isUndelegated","parseInt","account","canClose","right","icononly","closeFunc","themeMode","ethInput","ethInputDark","TxProgressBar","waitText","hash","endMessage","cancelTransaction","type","required","borderRadius","borderColor","backgroundColor","boxShadow","placeholder","border","RoundButton","buttonProps","mx","disabled","redeem","ConnectBox","Delegate","Breadcrumb","path","Governance_DelegateVote_DelegateVote","NewProposal","txError","actionValue","customABI","description","validated","newAction","editAction","actionInputs","actionValid","customAddress","contractOptions","proposalCreated","functionsOptions","selectedContract","selectedFunction","selectedSignature","availableFunctions","availableContracts","validateForm","checkInputs","loadFunctionsOptions","getGlobalConfig","contractName","field","contractABI","parse","err","getContractABI","f","constant","inputs","includes","stateMutability","unshift","newState","Array","valid","isValidJSON","fieldPattern","getPatternByFieldType","toString","match","returnString","RegExp","inputValue","inputIndex","inputInfo","inputValid","validateField","split","n","toBN","substr","contract","getContractByName","_address","inputTypes","calldata","web3","eth","abi","encodeParameters","signature","join","action","params","function","_this4","targets","signatures","calldatas","propose","_this5","transactions","completed","gte","proposalThreshold","onSubmit","handleSubmit","borderBottom","h4","handleInput","rows","actionIndex","titleParentProps","titleProps","setEditAction","display","counter","cardBg","options","changeContract","pattern","changeFunction","payable","valueChange","fieldType","inputChange","addAction","deleteAction","actionBg","proposalMaxOperations","setNewAction","balance","fixTokenDecimals","CastVote","loaded","userVote","voteSucceed","showDelegateBox","setVote","castVote","callback","Governance_ProposalField_ProposalField","lte","toggleDelegateBox","onMouseDown","isActive","gt","ProposalDetails","showActionParams","callbackReceipt","queueProposal","executeProposal","window","creationTime","states","start_time","lastState","pop","hasVotes","forVotesPerc","times","againstVotesPerc","endTime","blocksToSeconds","votingPeriod","forVotesAddrs","lt","againstVotesAddrs","canQueue","canExecute","Date","getTime","timelockDelay","utc","ExtLink","href","getEtherscanAddressUrl","proposer","ShortHash","lineHeight","Governance_CastVote_CastVote","data","decodedParams","attrs","decodeParameters","toggleShowParams","param","paramIndex","stateInfo","stateIndex","rel","getEtherscanTransactionUrl","trx_hash","wordBreak","dangerouslySetInnerHTML","__html","background","voteInfo","voteIndex","delegateInfo","borderLeft","cardBorder","delegatorInfo","delegatorIndex","delegator","Proposals","addProposal","selectedProposal","contractsInitialized","item_id","foundProposal","pathLink","CardIconButton","Governance_ProposalDetails_ProposalDetails","Governance_NewProposal_NewProposal","DelegateDetails","loadProposals","rank","Leaderboard","selectedDelegate","Governance_DelegateDetails_DelegateDetails","DelegateVesting","delegatee","vestedAmount","vestingAmount","delegateAddressValid","delegateDifferentWallet","vestingContractDelegated","idleGovToken","getIdleGovToken","getDelegatesChanges","getCurrentDelegate","getVestingContract","delegatesChanges","vestingContract","getVestedAmount","getVestingAmount","lastDelegateTx","returnValues","toDelegate","revoke","repeat","delegateVesting","claimVestedTokens","setDelegateDifferentWallet","Dashboard","menu","baseRoute","modalTitle","clickEvent","activeModal","menuOpened","blockNumber","currentRoute","modalContent","pageComponent","currentSection","selectedSection","governanceEnabled","selectedSubsection","timeoutId","resetModal","openTooltipModal","setActiveModal","logout","_callee","regenerator_default","wrap","_context","prev","next","setConnector","initWeb3","stop","extraicons","submenu","selected","route","component","image","bgColor","primary","imageDark","iconDark","imageInactive","iconInactive","imageInactiveDark","iconInactiveDark","isExternalLink","networkInitialized","location","sectionRoute","section","subm","sendGoogleAnalyticsPageview","clearTimeout","setCurrentSection","loadMenu","setTimeout","accountInizialized","showResetButton","initAccount","initializeContracts","checkEnabled","currentNetworkId","getRequiredNetworkId","governanceConfig","enabled","availableNetworks","loadParams","nextProps","nextState","accountChanged","stateChanged","paramsChanged","requiredNetworkChanged","network","networkChanged","contractsChanged","contracts","c","prevParams","componentDidMount","isGovernance","replace","newRoute","scrollTo","getBlockNumber","getVotingPeriod","getTimelockDelay","getProposalParams","getCurrentVotes","getTokensBalance","setMenu","dir","PageComponent","current","availableStrategies","Swipeable","swipeCallback","bottom","menuRightBorder","borderRight","DashboardMenu","closeMenu","DashboardHeader","toggleMenu","overflowY","overflowX","src_DelegateVesting_DelegateVesting","urlParams","isCorrectNetwork","capitalize","addEthereumChain","setRequiredNetwork","textSize","TooltipModal","closeModal","content","isOpen"],"mappings":"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","file":"static/js/7.25f8954a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"radioBtn\":\"ProposalListFilters_radioBtn__2_8YL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"NewProposal_input__KvbCb\"};","import React, { Component } from 'react';\nimport { Flex, Text, Icon } from \"rimble-ui\";\nimport SmartNumber from '../../SmartNumber/SmartNumber';\nimport FunctionsUtil from '../../utilities/FunctionsUtil';\n\nclass ProposalField extends Component {\n\n  state = {};\n\n  // Utils\n  functionsUtil = null;\n\n  loadUtils(){\n    if (this.functionsUtil){\n      this.functionsUtil.setProps(this.props);\n    } else {\n      this.functionsUtil = new FunctionsUtil(this.props);\n    }\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    this.loadUtils();\n  }\n\n  render(){\n    let icon = null;\n    let color = null;\n    let output = null;\n    const fieldInfo = this.props.fieldInfo;\n    const proposal = Object.assign({},this.props.proposal);\n\n    const fieldProps = {\n      fontWeight:3,\n      fontSize:[0,2],\n      color:'cellText',\n      style:{\n        maxWidth:'100%',\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis'\n      },\n      flexProps:{\n        justifyContent:'flex-start'\n      }\n    };\n\n    // Replace props\n    if (fieldInfo.props && Object.keys(fieldInfo.props).length){\n      Object.keys(fieldInfo.props).forEach(p => {\n        fieldProps[p] = fieldInfo.props[p];\n      });\n    }\n\n\n    switch (fieldInfo.name){\n      case 'date':\n        const formattedDate = this.functionsUtil.strToMoment(proposal.timestamp*1000).format('DD MMM, YYYY');\n        output = (\n          <Text {...fieldProps}>{formattedDate}</Text>\n        );\n      break;\n      case 'statusIcon':\n        const state = fieldInfo.state ? fieldInfo.state : proposal.state;\n        switch (state) {\n          case 'Pending':\n            icon = \"HourglassEmpty\";\n            color = '#a5a5a5';\n          break;\n          case 'Active':\n            icon = \"Adjust\";\n            color = '#a5a5a5';\n          break;\n          case 'Canceled':\n            icon = \"Cancel\";\n            color = '#fa0000';\n          break;\n          case 'Defeated':\n            icon = \"Block\";\n            color = '#fa0000';\n          break;\n          case 'Succeeded':\n            icon = \"Done\";\n            color = '#00b84a';\n          break;\n          case 'Queued':\n            icon = \"Timelapse\";\n            color = '#ff9900';\n          break;\n          case 'Expired':\n            icon = \"ErrorOutline\";\n            color = '#a5a5a5';\n          break;\n          case 'Executed':\n            icon = \"CheckCircle\";\n            color = '#00b84a';\n          break;\n          default:\n          break;\n        }\n        output = (\n          <Flex\n            {...fieldProps}\n            alignItems={'center'}\n            justifyContent={'center'}\n          >\n            <Icon\n              name={icon}\n              color={color}\n              align={'center'}\n              size={ fieldProps.size ? fieldProps.size : (this.props.isMobile ? '1em' : '1.8em') }\n            />\n          </Flex>\n        );\n      break;\n      case 'id':\n        output = (\n          <Text {...fieldProps}>{proposal.id}</Text>\n        );\n      break;\n      case 'title':\n        output = (\n          <Text {...fieldProps}>{proposal.title}</Text>\n        );\n      break;\n      case 'votes':\n        const forVotes = this.functionsUtil.BNify(proposal.forVotes).div(1e18);\n        const againstVotes = this.functionsUtil.BNify(proposal.againstVotes).div(1e18);\n        const totalVotes = forVotes.plus(againstVotes);\n        output = (\n          <Text {...fieldProps}>{this.functionsUtil.formatMoney(totalVotes.toFixed(0,1),0)}</Text>\n        );\n      break;\n      case 'status':\n        output = (\n          <Text {...fieldProps}>{proposal.state}</Text>\n        );\n      break;\n      case 'support':\n        let support = null;\n        if (this.props.delegate){\n          const delegate = this.props.delegate.delegate.toLowerCase();\n          const vote = proposal.votes.find( v => (v.voter.toLowerCase() === delegate) );\n          if (vote){\n            support = vote.support;\n          }\n        }\n        output = (\n          <Text {...fieldProps}>{ support === null ? 'NONE' : (support ? 'FOR' : 'AGAINST') }</Text>\n        );\n      break;\n      case 'forVotes':\n        output = (\n          <SmartNumber {...fieldProps} number={proposal.forVotes} />\n        );\n      break;\n      case 'againstVotes':\n        output = (\n          <SmartNumber {...fieldProps} number={proposal.againstVotes} />\n        );\n      break;\n      default:\n      break;\n    }\n    return output;\n  }\n}\n\nexport default ProposalField;\n","import React, { Component } from 'react';\nimport styles from './ProposalListFilters.module.scss';\nimport DashboardCard from '../../DashboardCard/DashboardCard';\nimport { Flex, Text, Icon, Radio, Button, Link } from \"rimble-ui\";\nimport TableCellHeader from '../../TableCellHeader/TableCellHeader';\n\nclass ProposalListFilters extends Component {\n\n  state = {\n    maxWidth:0.4,\n    minWidth:0.18,\n    maxHeight:425,\n    isOpened:false,\n    activeFilters:{\n      status:null,\n      assets:null,\n      actions:null\n    }\n  }\n\n  setFilter = (filter,value) => {\n    this.setState((prevState) => ({\n      activeFilters:{\n        ...prevState.activeFilters,\n        [filter]:value\n      }\n    }));\n  }\n\n  applyFilters = (toggle=true) => {\n    if (typeof this.props.applyFilters === 'function'){\n      this.props.applyFilters(this.state.activeFilters);\n    }\n    if (toggle){\n      this.toggleOpened();\n    }\n  }\n\n  resetFilter = (filter) => {\n    this.setState((prevState) => ({\n      activeFilters:{\n        ...prevState.activeFilters,\n        [filter]:null\n      }\n    }),() => {\n      this.applyFilters(false);\n    });\n  }\n\n  resetFilters = (toggle=true) => {\n    this.setState({\n      activeFilters:{\n        status:null,\n        assets:null,\n        actions:null\n      }\n    },() => {\n      if (typeof this.props.resetFilters === 'function'){\n        this.props.resetFilters();\n      }\n      if (toggle){\n        this.toggleOpened();\n      }\n    })\n  }\n\n  toggleOpened = () => {\n    this.setState((prevState) => ({\n      isOpened: !prevState.isOpened\n    }));\n  }\n\n  render() {\n    return (\n      <Flex\n        mb={3}\n        top={0}\n        width={1}\n        zIndex={1}\n        flexDirection={'column'}\n        alignItems={'flex-start'}\n        justifyContent={'center'}\n        position={['relative','absolute']}\n      >\n        <DashboardCard\n          cardProps={{\n            py:2,\n            px:3,\n            width:[1, this.state.isOpened ? this.state.maxWidth : this.state.minWidth ],\n            style:{\n              transition:'width 0.3s ease-in-out'\n            }\n          }}\n          isInteractive={ !this.state.isOpened }\n          handleClick={ !this.state.isOpened ? this.toggleOpened : null }\n        >\n          <Flex\n            width={1}\n            style={{\n              cursor:'pointer'\n            }}\n            alignItems={'center'}\n            flexDirection={'row'}\n            justifyContent={'space-between'}\n            onClick={ this.state.isOpened ? this.toggleOpened : null }\n          >\n            <Text\n              fontSize={2}\n              fontWeight={500}\n              color={'copyColor'}\n            >\n              Filters\n            </Text>\n            <Icon\n              color={'copyColor'}\n              size={ this.props.isMobile ? '1.3em' : '1.5em'}\n              name={ this.state.isOpened ? 'Close' : 'Tune' }\n            />\n          </Flex>\n          <Flex\n            flexDirection={'column'}\n            style={{\n              overflow:'hidden',\n              transition:'max-height 0.3s ease-in-out',\n              maxHeight:this.state.isOpened ? this.state.maxHeight : 0\n            }}\n          >\n            <Flex\n              mt={2}\n              py={2}\n              width={1}\n              flexDirection={'row'}\n              borderTop={`1px solid ${this.props.theme.colors.divider}`}\n            >\n              {\n                Object.keys(this.props.filters).map((filterCategory) => {\n                  const filterValues = this.props.filters[filterCategory];\n                  return (\n                    <Flex\n                      flexDirection={'column'}\n                      key={`filter_${filterCategory}`}\n                      style={{\n                        flexBasis:'0',\n                        flex:'1 1 0px'\n                      }}\n                    >\n                      <TableCellHeader\n                        pb={2}\n                        fontWeight={3}\n                        fontSize={[0,2]}\n                        color={'cellText'}\n                      >\n                        {filterCategory.toUpperCase()}\n                      </TableCellHeader>\n                      {\n                        Object.keys(filterValues).map((filterValue) => {\n                          const filterLabel = filterValues[filterValue];\n                          const isChecked = this.state.activeFilters[filterCategory]===filterValue;\n                          return (\n                            <Radio\n                              my={2}\n                              fontSize={[0,2]}\n                              label={filterLabel}\n                              checked={isChecked}\n                              className={styles.radioBtn}\n                              key={`filter_${filterCategory}_${filterValue}`}\n                              onChange={ e => this.setFilter(filterCategory,filterValue) }\n                            />\n                          );\n                        })\n                      }\n                    </Flex>\n                  );\n                })\n              }\n            </Flex>\n            <Flex\n              flexDirection={'row'}\n            >\n              <Button.Text\n                fontWeight={4}\n                fontSize={[2,3]}\n                mainColor={'copyColor'}\n                onClick={this.applyFilters}\n              >\n                Apply filters\n              </Button.Text>\n              <Button.Text\n                ml={3}\n                fontWeight={4}\n                fontSize={[2,3]}\n                mainColor={'copyColor'}\n                onClick={this.resetFilters}\n              >\n                Reset\n              </Button.Text>\n            </Flex>\n          </Flex>\n        </DashboardCard>\n        {\n          !this.state.isOpened && this.props.activeFilters && Object.values(this.props.activeFilters).filter( v => (v !== null) ).length>0 &&\n            <Flex\n              mt={3}\n              width={1}\n              flexDirection={['column','row']}\n              alignItems={['flex-start','flex-end']}\n              justifyContent={['flex-end','flex-start']}\n            >\n              {\n                Object.keys(this.props.activeFilters).map((filterName) => {\n                  const filterValue = this.props.activeFilters[filterName];\n                  if (filterValue !== null){\n                    const filterLabel = this.props.filters[filterName][filterValue];\n                    return (\n                      <DashboardCard\n                        cardProps={{\n                          py:2,\n                          px:3,\n                          mb:[2,0],\n                          mr:[0,3],\n                          width:[1,this.state.minWidth]\n                        }}\n                        isInteractive={true}\n                        key={`filter_${filterName}`}\n                      >\n                        <Flex\n                          width={1}\n                          style={{\n                            cursor:'pointer'\n                          }}\n                          alignItems={'center'}\n                          flexDirection={'row'}\n                          justifyContent={'space-between'}\n                          onClick={e => this.resetFilter(filterName)}\n                        >\n                          <Text\n                            fontSize={2}\n                            fontWeight={500}\n                            color={'cellText'}\n                            style={{\n                              textTransform:'capitalize'\n                            }}\n                          >\n                            {filterLabel}\n                          </Text>\n                          <Icon\n                            name={'Close'}\n                            color={'cellText'}\n                            size={ this.props.isMobile ? '1.3em' : '1.5em'}\n                          />\n                        </Flex>\n                      </DashboardCard>\n                    );\n                  }\n                  return null;\n                })\n              }\n              <Link\n                mt={[2,0]}\n                fontSize={[3,2]}\n                fontWeight={[3]}\n                color={'dark-gray'}\n                hoverColor={'copyColor'}\n                textAlign={['center','left']}\n                onClick={ e => this.resetFilters(false) }\n              >\n                Clear all filters\n              </Link>\n            </Flex>\n        }\n      </Flex>\n    );\n  }\n}\n\nexport default ProposalListFilters;","import React, { Component } from 'react';\nimport TableRow from '../../TableRow/TableRow';\nimport FlexLoader from '../../FlexLoader/FlexLoader';\nimport TableHeader from '../../TableHeader/TableHeader';\nimport FunctionsUtil from '../../utilities/FunctionsUtil';\nimport ProposalField from '../ProposalField/ProposalField';\nimport { Flex, Heading, Text, Link, Icon } from \"rimble-ui\";\nimport ProposalListFilters from '../ProposalListFilters/ProposalListFilters';\n\nclass ProposalsList extends Component {\n\n  state = {\n    page:1,\n    loading:true,\n    rowsPerPage:10,\n    totalRows:null,\n    totalPages:null,\n    activeFilters:{\n      status:null,\n    },\n    filters:{\n      status:{\n        pending:'Pending',\n        active:'Active',\n        canceled:'Canceled',\n        defeated:'Defeated',\n        succeeded:'Succeeded',\n        queued:'Queued',\n        expired:'Expired',\n        executed:'Executed'\n      },\n    },\n    processedRows:null,\n    lastBlockNumber:null\n  };\n\n  // Utils\n  functionsUtil = null;\n\n  loadUtils(){\n    if (this.functionsUtil){\n      this.functionsUtil.setProps(this.props);\n    } else {\n      this.functionsUtil = new FunctionsUtil(this.props);\n    }\n  }\n\n  prevPage(e){\n    if (e){\n      e.preventDefault();\n    }\n    const page = Math.max(1,this.state.page-1);\n    this.setState({\n      page\n    });\n  }\n\n  nextPage(e){\n    if (e){\n      e.preventDefault();\n    }\n    const page = Math.min(this.state.totalPages,this.state.page+1);\n    this.processList(page);\n    this.setState({\n      page\n    });\n  }\n\n  async componentDidMount(){\n    await this.loadUtils();\n    this.processList();\n  }\n\n  applyFilters = activeFilters => {\n    this.setState({\n      activeFilters\n    },() => {\n      this.processList();\n    });\n  }\n\n  resetFilters = () => {\n    this.setState({\n      activeFilters:{\n        status:null,\n      }\n    },() => {\n      this.processList();\n    });\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    await this.loadUtils();\n    const pageChanged = prevState.page !== this.state.page;\n    const proposalsChanged = prevProps.proposals !== this.props.proposals;\n    if (pageChanged || proposalsChanged){\n      \n      this.processList();\n    }\n  }\n\n  processList = (page=null) => {\n\n    if (!this.props.proposals){\n      return false;\n    }\n\n    page = page ? page : this.state.page;\n\n    const rowsPerPage = this.props.rowsPerPage ? this.props.rowsPerPage : this.state.rowsPerPage;\n\n    // Sort Proposals by timeStamp\n    const proposals = Object.values(this.props.proposals)\n                        .filter(p => (\n                          (this.state.activeFilters.status === null || p.state.toLowerCase() === this.state.activeFilters.status.toLowerCase())\n                        )) // Filter by activeFilters\n                        .sort((a,b) => (a.timestamp > b.timestamp) ? -1 : 1 );\n\n    // Calculate max number of pages\n    const totalRows = proposals.length;\n    const totalPages = Math.ceil(totalRows/rowsPerPage);\n    const processedRows = [];\n\n    proposals.forEach((p, i) => {\n      if (i>=((page-1)*rowsPerPage) && i<((page-1)*rowsPerPage)+rowsPerPage) {\n        processedRows.push(p);\n      }\n    });\n\n    const loading = false;\n  \n    this.setState({\n      loading,\n      totalRows,\n      totalPages,\n      processedRows\n    });\n  }\n\n  render() {\n\n    const filtersEnabled = typeof this.props.filtersEnabled === 'undefined' || this.props.filtersEnabled;\n    const hasActiveFilters = filtersEnabled && Object.values(this.state.activeFilters).filter( v => (v !== null) ).length>0;\n    const processedRows = this.state.processedRows ? Object.values(this.state.processedRows) : null;\n    const hasRows = processedRows && processedRows.length>0;\n\n    return (\n      <Flex flexDirection={'column'} width={1} m={'0 auto'}>\n        {\n          (this.state.loading || !this.state.processedRows === null) ? (\n            <FlexLoader\n              flexProps={{\n                minHeight:'50vh',\n                flexDirection:'row'\n              }}\n              loaderProps={{\n                size:'30px'\n              }}\n              textProps={{\n                ml:2\n              }}\n              text={'Loading Proposals...'}\n            />\n          ) : (\n            <Flex\n              width={1}\n              position={'relative'}\n              flexDirection={'column'}\n              id={'proposals-list-container'}\n              pt={[0, (!filtersEnabled || !hasRows ? 0 : hasActiveFilters ? '116px' : 5) ] }\n            >\n              {\n                hasRows ? (\n                  <Flex\n                    width={1}\n                    flexDirection={'column'}\n                  >\n                    {\n                      filtersEnabled &&\n                        <ProposalListFilters\n                          {...this.props}\n                          filters={this.state.filters}\n                          activeFilters={this.state.activeFilters}\n                          resetFilters={this.resetFilters.bind(this)}\n                          applyFilters={this.applyFilters.bind(this)}\n                        />\n                    }\n                    <TableHeader\n                      cols={this.props.cols}\n                      isMobile={this.props.isMobile}\n                    />\n                    <Flex\n                      id={'proposals-list'}\n                      flexDirection={'column'}\n                    >\n                      {\n                        processedRows.map( (proposal,index) => {\n                          const proposalId = proposal.id;\n                          const handleClick = (e) => {\n                            return (proposalId ? this.props.goToSection(`proposals/${proposalId}`) : null);\n                          };\n                          return (\n                            <TableRow\n                              {...this.props}\n                              rowProps={{\n                                isInteractive:true\n                              }}\n                              id={proposalId}\n                              proposal={proposal}\n                              handleClick={handleClick}\n                              key={`proposal-${proposalId}`}\n                              fieldComponent={ProposalField}\n                              rowId={`proposal-col-${proposalId}`}\n                              cardId={`proposal-card-${proposalId}`}\n                            />\n                          );\n                        })\n                      }\n                    </Flex>\n                    <Flex\n                      height={'50px'}\n                      alignItems={'center'}\n                      flexDirection={'row'}\n                      justifyContent={'flex-end'}\n                      id={'proposals-list-pagination'}\n                    >\n                      <Flex mr={3}>\n                        <Link mr={1} onClick={ e => this.prevPage(e) }>\n                          <Icon\n                            name={'KeyboardArrowLeft'}\n                            size={'2em'}\n                            color={ this.state.page>1 ? 'pageActive' : 'pageInactive' }\n                          />\n                        </Link>\n                        <Link onClick={ e => this.nextPage(e) }>\n                          <Icon\n                            name={'KeyboardArrowRight'}\n                            size={'2em'}\n                            color={ this.state.page<this.state.totalPages ? 'pageActive' : 'pageInactive' }\n                          />\n                        </Link>\n                      </Flex>\n                      <Flex alignItems={'center'}>\n                        <Text \n                          fontSize={1}\n                          fontWeight={3}\n                          color={'cellText'}\n                        >\n                          Page {this.state.page} of {this.state.totalPages}\n                        </Text>\n                      </Flex>\n                    </Flex>\n                  </Flex>\n                ) : (\n                  <Heading.h3\n                    fontWeight={2}\n                    fontSize={[2,3]}\n                    color={'dark-gray'}\n                    textAlign={'center'}\n                    fontFamily={'sansSerif'}\n                  >\n                    There are no proposals\n                  </Heading.h3>\n                )\n              }\n            </Flex>\n          )\n        }\n      </Flex>\n    );\n  }\n}\n\nexport default ProposalsList;\n","import React, { Component } from 'react';\nimport { Flex, Text, Blockie, Loader } from \"rimble-ui\";\nimport FunctionsUtil from '../../utilities/FunctionsUtil';\n\nclass DelegateField extends Component {\n\n  state = {\n    value:null\n  };\n\n  // Utils\n  functionsUtil = null;\n\n  loadUtils(){\n    if (this.functionsUtil){\n      this.functionsUtil.setProps(this.props);\n    } else {\n      this.functionsUtil = new FunctionsUtil(this.props);\n    }\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    this.loadUtils();\n    const delegateChanged = JSON.stringify(prevProps.delegate) !== JSON.stringify(this.props.delegate);\n    if (delegateChanged){\n      this.loadData();\n    }\n  }\n\n  async loadData(){\n    const fieldInfo = this.props.fieldInfo;\n    const delegate = Object.assign({},this.props.delegate);\n\n    let value = delegate[fieldInfo.name];\n    switch (fieldInfo.name){\n      case 'votes':\n        value = this.functionsUtil.formatMoney(this.functionsUtil.BNify(value).toFixed(2,1),2);\n      break;\n      case 'delegators':\n        value = delegate.delegators.length;\n      break;\n      case 'delegate':\n        const ensName = await this.functionsUtil.getENSName(value);\n        value = ensName || value;\n      break;\n      default:\n      break;\n    }\n\n    this.setState({\n      value\n    });\n  }\n\n  render(){\n    let output = null;\n    const fieldInfo = this.props.fieldInfo;\n    const delegate = Object.assign({},this.props.delegate);\n\n    const fieldProps = {\n      fontWeight:3,\n      fontSize:[0,2],\n      color:'cellText',\n      style:{\n        maxWidth:'100%',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis'\n      },\n      flexProps:{\n        justifyContent:'flex-start'\n      }\n    };\n\n    // Replace props\n    if (fieldInfo.props && Object.keys(fieldInfo.props).length){\n      Object.keys(fieldInfo.props).forEach(p => {\n        fieldProps[p] = fieldInfo.props[p];\n      });\n    }\n\n    switch (fieldInfo.name){\n      case 'avatar':\n        output = (\n          <Flex\n            {...fieldProps}\n            alignItems={'center'}\n            justifyContent={'center'}\n          >\n            <Blockie\n              opts={{\n                size: 7,\n                color: \"#dfe\",\n                bgcolor: \"#a71\",\n                spotcolor: \"#000\",\n                seed: delegate.delegate,\n              }}\n            />\n          </Flex>\n        );\n      break;\n      default:\n        output = this.state.value !== null ? (\n          <Text\n            {...fieldProps}\n          >\n            {this.state.value}\n          </Text>\n        ) : (<Loader size={\"20px\"} />);\n      break;\n    }\n    return output;\n  }\n}\n\nexport default DelegateField;\n","import React, { Component } from 'react';\nimport TableRow from '../../TableRow/TableRow';\nimport FlexLoader from '../../FlexLoader/FlexLoader';\nimport TableHeader from '../../TableHeader/TableHeader';\nimport FunctionsUtil from '../../utilities/FunctionsUtil';\nimport DelegateField from '../DelegateField/DelegateField';\nimport { Flex, Heading, Text, Link, Icon } from \"rimble-ui\";\n\nclass DelegatesList extends Component {\n\n  state = {\n    page:1,\n    filters:{},\n    loading:true,\n    rowsPerPage:10,\n    totalRows:null,\n    totalPages:null,\n    activeFilters:{},\n    processedRows:null,\n    lastBlockNumber:null\n  };\n\n  // Utils\n  functionsUtil = null;\n\n  loadUtils(){\n    if (this.functionsUtil){\n      this.functionsUtil.setProps(this.props);\n    } else {\n      this.functionsUtil = new FunctionsUtil(this.props);\n    }\n  }\n\n  prevPage(e){\n    if (e){\n      e.preventDefault();\n    }\n    const page = Math.max(1,this.state.page-1);\n    this.setState({\n      page\n    });\n  }\n\n  nextPage(e){\n    if (e){\n      e.preventDefault();\n    }\n    const page = Math.min(this.state.totalPages,this.state.page+1);\n    this.processList(page);\n    this.setState({\n      page\n    });\n  }\n\n  async componentDidMount(){\n    this.loadUtils();\n    this.processList();\n  }\n\n  applyFilters = activeFilters => {\n    this.setState({\n      activeFilters\n    },() => {\n      this.processList();\n    });\n  }\n\n  resetFilters = () => {\n    this.setState({\n      activeFilters:{\n        status:null,\n      }\n    },() => {\n      this.processList();\n    });\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    this.loadUtils();\n    const pageChanged = prevState.page !== this.state.page;\n    const delegatesChanged = JSON.stringify(prevProps.delegates) !== JSON.stringify(this.props.delegates);\n    if (pageChanged || delegatesChanged){\n      this.processList();\n    }\n  }\n\n  processList = (page=null) => {\n\n    if (!this.props.delegates){\n      return false;\n    }\n\n    page = page ? page : this.state.page;\n\n    const rowsPerPage = this.props.rowsPerPage ? this.props.rowsPerPage : this.state.rowsPerPage;\n\n    // Sort Proposals by timeStamp\n    let delegates = Object.values(this.props.delegates)\n                        .sort((a,b) => (a.timestamp > b.timestamp) ? -1 : 1 );\n\n    if (this.props.maxRows !== null && this.props.maxRows>0){\n      delegates = delegates.splice(0,this.props.maxRows);\n    }\n\n    // Calculate max number of pages\n    const totalRows = delegates.length;\n    const totalPages = Math.ceil(totalRows/rowsPerPage);\n\n    const processedRows = [];\n\n    delegates.forEach((p, i) => {\n      if (i>=((page-1)*rowsPerPage) && i<((page-1)*rowsPerPage)+rowsPerPage) {\n        processedRows.push(p);\n      }\n    });\n\n    const loading = false;\n  \n    this.setState({\n      loading,\n      totalRows,\n      totalPages,\n      processedRows\n    });\n  }\n\n  render() {\n\n    const processedRows = this.state.processedRows ? Object.values(this.state.processedRows) : null;\n\n    return (\n      <Flex flexDirection={'column'} width={1} m={'0 auto'}>\n        {\n          (this.state.loading || !this.state.processedRows === null) ? (\n            <FlexLoader\n              flexProps={{\n                minHeight:'50vh',\n                flexDirection:'row'\n              }}\n              loaderProps={{\n                size:'30px'\n              }}\n              textProps={{\n                ml:2\n              }}\n              text={'Loading Leaderboard...'}\n            />\n          ) : (\n            <Flex\n              width={1}\n              position={'relative'}\n              flexDirection={'column'}\n              id={'delegates-list-container'}\n            >\n              {\n                processedRows && processedRows.length>0 ? (\n                  <Flex\n                    width={1}\n                    flexDirection={'column'}\n                  >\n                    <TableHeader\n                      cols={this.props.cols}\n                      isMobile={this.props.isMobile}\n                    />\n                    <Flex\n                      id={'delegates-list'}\n                      flexDirection={'column'}\n                    >\n                      {\n                        processedRows.map( (delegate,index) => {\n                          const delegateId = delegate.delegate;\n                          const handleClick = (e) => {\n                            return (delegateId ? this.props.goToSection(`leaderboard/${delegateId}`) : null);\n                          };\n                          return (\n                            <TableRow\n                              {...this.props}\n                              rowProps={{\n                                isInteractive:true\n                              }}\n                              id={delegateId}\n                              delegate={delegate}\n                              key={`delegate-${index}`}\n                              handleClick={handleClick}\n                              fieldComponent={DelegateField}\n                              rowId={`delegate-col-${index}`}\n                              cardId={`delegate-card-${index}`}\n                            />\n                          );\n                        })\n                      }\n                    </Flex>\n                    <Flex\n                      height={'50px'}\n                      alignItems={'center'}\n                      flexDirection={'row'}\n                      justifyContent={'flex-end'}\n                      id={'delegates-list-pagination'}\n                    >\n                      <Flex mr={3}>\n                        <Link\n                          mr={1}\n                          onClick={ e => this.prevPage(e) }\n                        >\n                          <Icon\n                            size={'2em'}\n                            name={'KeyboardArrowLeft'}\n                            color={ this.state.page>1 ? 'pageActive' : 'pageInactive' }\n                          />\n                        </Link>\n                        <Link\n                          onClick={ e => this.nextPage(e) }\n                        >\n                          <Icon\n                            size={'2em'}\n                            name={'KeyboardArrowRight'}\n                            color={ this.state.page<this.state.totalPages ? 'pageActive' : 'pageInactive' }\n                          />\n                        </Link>\n                      </Flex>\n                      <Flex alignItems={'center'}>\n                        <Text \n                          fontSize={1}\n                          fontWeight={3}\n                          color={'cellText'}\n                        >\n                          Page {this.state.page} of {this.state.totalPages}\n                        </Text>\n                      </Flex>\n                    </Flex>\n                  </Flex>\n                ) : (\n                  <Heading.h3\n                    fontWeight={2}\n                    fontSize={[2,3]}\n                    color={'dark-gray'}\n                    textAlign={'center'}\n                    fontFamily={'sansSerif'}\n                  >\n                    There are no delegates\n                  </Heading.h3>\n                )\n              }\n            </Flex>\n          )\n        }\n      </Flex>\n    );\n  }\n}\n\nexport default DelegatesList;\n","import Title from '../Title/Title';\nimport { Box, Flex } from \"rimble-ui\";\nimport React, { Component } from 'react';\nimport StatsCard from '../StatsCard/StatsCard';\nimport FlexLoader from '../FlexLoader/FlexLoader';\nimport GovernanceUtil from '../utilities/GovernanceUtil';\nimport ProposalsList from './ProposalsList/ProposalsList';\nimport DelegatesList from './DelegatesList/DelegatesList';\n\nclass Overview extends Component {\n\n  state = {\n    delegates:[],\n    proposals:[],\n    totalSupply:0,\n    dataLoaded:false,\n    votesDelegated:0,\n  };\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    await this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n  }\n\n  async loadData(){\n    const [\n      delegates,\n      proposals,\n      totalSupply\n    ] = await Promise.all([\n      this.governanceUtil.getDelegates(),\n      await this.governanceUtil.getProposals(),\n      this.governanceUtil.getTotalSupply()\n    ]);\n\n    const votesDelegated = delegates.reduce( (votesDelegated,d) => {\n      votesDelegated = votesDelegated+parseFloat(d.votes);\n      return votesDelegated;\n    },0);\n\n    const dataLoaded = true;\n\n    this.setState({\n      delegates,\n      proposals,\n      dataLoaded,\n      totalSupply,\n      votesDelegated\n    });\n  }\n\n  render() {\n    return (\n      <Box\n        width={1}\n      >\n        <Title\n          mb={[3,4]}\n        >\n          Governance Overview\n        </Title>\n        {\n          !this.state.dataLoaded ? (\n            <FlexLoader\n              flexProps={{\n                minHeight:'50vh',\n                flexDirection:'row'\n              }}\n              loaderProps={{\n                size:'30px'\n              }}\n              textProps={{\n                ml:2\n              }}\n              text={'Loading Data...'}\n            />\n          ) : (\n            <Box\n              width={1}\n            >\n              <Flex\n                width={1}\n                mb={[3,4]}\n                alignItems={'center'}\n                justifyContent={'center'}\n                flexDirection={['column','row']}\n              >\n                <Flex\n                  mb={[2,0]}\n                  pr={[0,1]}\n                  width={[1,1/4]}\n                  flexDirection={'column'}\n                >\n                  <StatsCard\n                    label={null}\n                    labelTooltip={null}\n                    title={'Votes Delegated'}\n                    minHeight={['130px','143px']}\n                    titleMinHeight={['auto','50px']}\n                    value={this.functionsUtil.formatMoney(this.state.votesDelegated.toFixed(2,1),2)}\n                  />\n                </Flex>\n                <Flex\n                  mb={[2,0]}\n                  pl={[0,1]}\n                  pr={[0,1]}\n                  width={[1,1/4]}\n                  flexDirection={'column'}\n                >\n                  <StatsCard\n                    label={null}\n                    labelTooltip={null}\n                    title={'Voting Addresses'}\n                    minHeight={['130px','143px']}\n                    titleMinHeight={['auto','50px']}\n                    value={this.state.delegates.length}\n                  />\n                </Flex>\n                <Flex\n                  mb={[2,0]}\n                  pl={[0,1]}\n                  pr={[0,1]}\n                  width={[1,1/4]}\n                  flexDirection={'column'}\n                >\n                  <StatsCard\n                    label={null}\n                    labelTooltip={null}\n                    title={'Proposals'}\n                    minHeight={['130px','143px']}\n                    titleMinHeight={['auto','50px']}\n                    value={this.state.proposals.length}\n                  />\n                </Flex>\n                <Flex\n                  pl={[0,1]}\n                  mb={[2,0]}\n                  width={[1,1/4]}\n                  flexDirection={'column'}\n                >\n                  <StatsCard\n                    label={null}\n                    labelTooltip={null}\n                    title={'IDLE Circulating'}\n                    minHeight={['130px','143px']}\n                    titleMinHeight={['auto','50px']}\n                    value={this.functionsUtil.formatMoney(this.state.totalSupply,0)}\n                  />\n                </Flex>\n              </Flex>\n              <Box\n                width={1}\n                mt={[4,5]}\n              >\n                <Title\n                  mb={[3,4]}\n                >\n                  Recent Proposals\n                </Title>\n                <Flex\n                  mb={[3,4]}\n                  width={1}\n                  id={'transactions'}\n                  flexDirection={'column'}\n                >\n                  <ProposalsList\n                    {...this.props}\n                    rowsPerPage={5}\n                    filtersEnabled={false}\n                    proposals={this.state.proposals}\n                    cols={[\n                      {\n                        title: '#',\n                        props:{\n                          width:[0.1,0.05]\n                        },\n                        fields:[\n                          {\n                            name:'id',\n                            props:{\n                            }\n                          },\n                        ]\n                      },\n                      {\n                        title:'DATE',\n                        mobile:false,\n                        props:{\n                          width:[0.15,0.12],\n                        },\n                        fields:[\n                          {\n                            name:'date'\n                          }\n                        ]\n                      },\n                      {\n                        title:'TITLE',\n                        props:{\n                          width:[0.75,0.60],\n                        },\n                        fields:[\n                          {\n                            name:'title'\n                          }\n                        ]\n                      },\n                      {\n                        mobile:false,\n                        title:'VOTES',\n                        props:{\n                          width:[0.11,0.11],\n                        },\n                        fields:[\n                          {\n                            name:'votes'\n                          }\n                        ]\n                      },\n                      {\n                        title:'STATUS',\n                        props:{\n                          width:[0.15,0.12],\n                          alignItems:['center','flex-start'],\n                          justifyContent:['center','flex-start']\n                        },\n                        parentProps:{\n                          justifyContent:['center','flex-start']\n                        },\n                        fields:[\n                          {\n                            name:'statusIcon',\n                            props:{\n                              mr:[0,2],\n                            },\n                          },\n                          {\n                            mobile:false,\n                            name:'status'\n                          }\n                        ]\n                      },\n                    ]}\n                  />\n                </Flex>\n              </Box>\n              <Box\n                width={1}\n              >\n                <Title\n                  mb={[3,4]}\n                >\n                  Leaderboard\n                </Title>\n                <Flex\n                  mb={[3,4]}\n                  width={1}\n                  id={'transactions'}\n                  flexDirection={'column'}\n                >\n                  <DelegatesList\n                    maxRows={100}\n                    {...this.props}\n                    rowsPerPage={5}\n                    delegates={this.state.delegates}\n                    cols={[\n                      {\n                        title: 'RANK',\n                        props:{\n                          width:[0.13,0.08]\n                        },\n                        fields:[\n                          {\n                            name:'rank'\n                          },\n                        ]\n                      },\n                      {\n                        title:'ADDRESS',\n                        props:{\n                          width:[0.60,0.38],\n                        },\n                        fields:[\n                          {\n                            mobile:false,\n                            name:'avatar',\n                            props:{\n                              mr:2\n                            }\n                          },\n                          {\n                            name:'delegate'\n                          }\n                        ]\n                      },\n                      {\n                        mobile:false,\n                        title:'DELEGATORS',\n                        props:{\n                          width:[0.27,0.15],\n                          textAlign:'center',\n                        },\n                        fields:[\n                          {\n                            name:'delegators',\n                            parentProps:{\n                              alignItems:'center'\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        title:'VOTES',\n                        props:{\n                          width:[0.27,0.10],\n                        },\n                        fields:[\n                          {\n                            name:'votes'\n                          }\n                        ]\n                      },\n                      {\n                        mobile:false,\n                        title:'VOTE WEIGHT',\n                        props:{\n                          width:[0.15,0.13],\n                          textAlign:'center',\n                        },\n                        fields:[\n                          {\n                            name:'vote_weight',\n                            parentProps:{\n                              alignItems:'center'\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        mobile:false,\n                        title:'PROPOSALS VOTED',\n                        props:{\n                          width:[0.15,0.14],\n                          textAlign:'center',\n                        },\n                        fields:[\n                          {\n                            name:'proposals',\n                            parentProps:{\n                              alignItems:'center'\n                            }\n                          }\n                        ]\n                      },\n                    ]}\n                  />\n                </Flex>\n              </Box>\n            </Box>\n          )\n        }\n      </Box>\n    );\n  }\n}\n\nexport default Overview;\n","import React, { Component } from 'react';\nimport ConnectBox from '../../ConnectBox/ConnectBox';\nimport FlexLoader from '../../FlexLoader/FlexLoader';\nimport RoundButton from '../../RoundButton/RoundButton';\nimport GovernanceUtil from '../../utilities/GovernanceUtil';\nimport DashboardCard from '../../DashboardCard/DashboardCard';\nimport TxProgressBar from '../../TxProgressBar/TxProgressBar';\nimport styles from '../../CryptoInput/CryptoInput.module.scss';\nimport { Flex, Text, Input, Button, Box, EthAddress } from \"rimble-ui\";\n\nclass DelegateVote extends Component {\n\n  state = {\n    newDelegate:'',\n    processing:{\n      txHash:null,\n      loading:false\n    }\n  }\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n  }\n\n  checkNewDelegate = () => {\n    return this.functionsUtil.checkAddress(this.state.newDelegate) && this.state.newDelegate.toLowerCase() !== this.props.currentDelegate.toLowerCase();\n  }\n\n  async cancelTransaction(){\n    this.setState({\n      processing: {\n        txHash:null,\n        loading:false\n      }\n    });\n  }\n\n  setDelegate(address){\n    const addressOk = this.functionsUtil.checkAddress(address);\n\n    if (addressOk){\n\n      const callback = (tx,error) => {\n        // Send Google Analytics event\n        const eventData = {\n          eventCategory: 'Delegate',\n          eventAction: address,\n          eventLabel: tx.status\n        };\n\n        if (error){\n          eventData.eventLabel = this.functionsUtil.getTransactionError(error);\n        }\n\n        // Send Google Analytics event\n        if (error || eventData.status !== 'error'){\n          this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n        }\n\n        if (typeof this.props.loadUserData === 'function' && tx.status === 'success'){\n          this.props.loadUserData();\n        }\n\n        this.setState({\n          processing: {\n            txHash:null,\n            loading:false\n          }\n        });\n      };\n\n      const callbackReceipt = (tx) => {\n        const txHash = tx.transactionHash;\n        this.setState((prevState) => ({\n          processing: {\n            ...prevState.processing,\n            txHash\n          }\n        }));\n      };\n\n      this.governanceUtil.setDelegate(address,callback,callbackReceipt);\n\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          loading:true\n        }\n      }));\n    }\n    return null;\n  }\n\n  changeDelegate = (e) => {\n    const newDelegate = e.target.value;\n    this.setState({\n      newDelegate\n    });\n  }\n\n  render() {\n    const isUndelegated = parseInt(this.props.currentDelegate) === 0;\n    return (\n      <Flex\n        width={1}\n        alignItems={'center'}\n        flexDirection={'column'}\n        justifyContent={'center'}\n      >\n        {\n        !this.props.account ? (\n          <Flex\n            width={[1,0.36]}\n            alignItems={'stretch'}\n            flexDirection={'column'}\n            justifyContent={'center'}\n          >\n            <ConnectBox\n              {...this.props}\n            />\n          </Flex>\n        ) : this.props.currentDelegate ? (\n          <DashboardCard\n            cardProps={{\n              mb:2,\n              py:[2,3],\n              px:[3,4],\n              width:[1,0.5],\n              position:'relative',\n            }}\n            isInteractive={false}\n          >\n            {\n              this.props.canClose &&\n                <Box\n                  top={'0'}\n                  zIndex={1}\n                  right={'0'}\n                  position={'absolute'}\n                >\n                  <Button.Text\n                    icononly\n                    icon={'Close'}\n                    size={'2.5em'}\n                    mainColor={'statValue'}\n                    onClick={this.props.closeFunc}\n                  />\n                </Box>\n            }\n            <Flex\n              width={1}\n              alignItems={'center'}\n              flexDirection={'column'}\n              justifyContent={'center'}\n            >\n              {\n                /*\n                <Text\n                  mb={2}\n                  fontWeight={3}\n                  fontSize={[2,3]}\n                  color={'dark-gray'}\n                  textAlign={'center'}\n                >\n                  You have {this.functionsUtil.fixTokenDecimals(this.props.balance,18).toFixed(4)} {this.functionsUtil.getGlobalConfig(['governance','props','tokenName'])} available.\n                </Text>\n                */\n              }\n              <Text\n                mb={1}\n                fontWeight={3}\n                color={'statValue'}\n                textAlign={'center'}\n              >\n                Current Delegate:\n              </Text>\n              <Flex\n                mb={3}\n                width={1}\n                alignItems={'center'}\n                justifyContent={isUndelegated ? 'center' : 'stretch'}\n              >\n                {\n                  isUndelegated ? (\n                    <Text\n                      fontWeight={3}\n                      fontSize={[1,2]}\n                      color={'dark-gray'}\n                      textAlign={'center'}\n                    >\n                      Undelegated\n                    </Text>\n                  ) : (\n                    <EthAddress\n                      width={1}\n                      address={this.props.currentDelegate}\n                      className={ this.props.themeMode === 'light' ? styles.ethInput : styles.ethInputDark }\n                    />\n                  )\n                }\n              </Flex>\n              {\n                this.state.processing && this.state.processing.loading ? (\n                  <Flex\n                    width={1}\n                    flexDirection={'column'}\n                  >\n                    <TxProgressBar\n                      {...this.props}\n                      waitText={`Delegate estimated in`}\n                      hash={this.state.processing.txHash}\n                      endMessage={`Finalizing delegate request...`}\n                      cancelTransaction={this.cancelTransaction.bind(this)}\n                    />\n                  </Flex>\n                ) : (\n                  <Flex\n                    width={1}\n                    alignItems={'center'}\n                    flexDirection={'column'}\n                    justifyContent={'center'}\n                  >\n                    <Text\n                      mb={1}\n                      fontWeight={3}\n                      color={'statValue'}\n                      textAlign={'center'}\n                    >\n                      Set New Delegate:\n                    </Text>\n                    <Input\n                      min={0}\n                      type={'text'}\n                      width={'100%'}\n                      required={true}\n                      height={'3.4em'}\n                      borderRadius={2}\n                      fontWeight={500}\n                      textAlign={'center'}\n                      borderColor={'cardBorder'}\n                      backgroundColor={'cardBg'}\n                      boxShadow={'none !important'}\n                      value={this.state.newDelegate}\n                      placeholder={`Insert delegate address`}\n                      onChange={this.changeDelegate.bind(this)}\n                      border={`1px solid ${this.props.theme.colors.divider}`}\n                    />\n                    <Flex\n                      mt={3}\n                      width={1}\n                      alignItems={'center'}\n                      flexDirection={'row'}\n                      justifyContent={'center'}\n                    >\n                      <RoundButton\n                        buttonProps={{\n                          mx:1,\n                          fontSize:[1,2],\n                          width:['auto','10em'],\n                          disabled:!this.checkNewDelegate()\n                        }}\n                        handleClick={ e => this.setDelegate(this.state.newDelegate) }\n                      >\n                        Delegate\n                      </RoundButton>\n                      <RoundButton\n                        buttonProps={{\n                          mx:1,\n                          fontSize:[1,2],\n                          width:['auto','10em'],\n                          mainColor:this.props.theme.colors.redeem,\n                          disabled:this.props.currentDelegate.toLowerCase() === this.props.account.toLowerCase()\n                        }}\n                        handleClick={ e => this.setDelegate(this.props.account) }\n                      >\n                        Self-delegate\n                      </RoundButton>\n                    </Flex>\n                  </Flex>\n                )\n              }\n            </Flex>\n          </DashboardCard>\n        ) : (\n          <FlexLoader\n            flexProps={{\n              minHeight:'50vh',\n              flexDirection:'row'\n            }}\n            loaderProps={{\n              size:'30px'\n            }}\n            textProps={{\n              ml:2\n            }}\n            text={'Loading Delegate...'}\n          />\n        )\n       } \n      </Flex>\n    );\n  }\n}\n\nexport default DelegateVote;","import Title from '../Title/Title';\nimport { Box, Flex } from \"rimble-ui\";\nimport React, { Component } from 'react';\nimport Breadcrumb from '../Breadcrumb/Breadcrumb';\nimport DelegateVote from './DelegateVote/DelegateVote';\n\nclass Delegate extends Component {\n\n  render() {\n    return (\n      <Box\n        width={1}\n      >\n        <Flex\n          mb={3}\n          width={1}\n          alignItems={'center'}\n          flexDirection={'row'}\n          justifyContent={'flex-start'}\n        >\n          <Breadcrumb\n            {...this.props}\n            text={'Governance'}\n            path={['Delegate votes']}\n            isMobile={this.props.isMobile}\n            handleClick={ e => this.props.goToSection('') }\n          />\n        </Flex>\n        <Box\n          width={1}\n        >\n          <Title\n            mb={[3,4]}\n          >\n            Delegate Votes\n          </Title>\n          <Flex\n            px={[0,3]}\n            mb={[3,4]}\n            width={1}\n            flexDirection={'column'}\n            id={'delegate-container'}\n          >\n            <DelegateVote\n              {...this.props}\n            />\n          </Flex>\n        </Box>\n      </Box>\n    );\n  }\n}\n\nexport default Delegate;\n","import Title from '../../Title/Title';\nimport React, { Component } from 'react';\nimport styles from './NewProposal.module.scss';\nimport DelegateVote from '../DelegateVote/DelegateVote';\nimport RoundButton from '../../RoundButton/RoundButton';\nimport GovernanceUtil from '../../utilities/GovernanceUtil';\nimport DashboardCard from '../../DashboardCard/DashboardCard';\nimport TxProgressBar from '../../TxProgressBar/TxProgressBar';\nimport { Flex, Text, Heading, Input, Form, Field, Textarea, Icon, Select, Link } from \"rimble-ui\";\n\nclass NewProposal extends Component {\n\n  state = {\n    title:'',\n    actions:[],\n    txError:false,\n    actionValue:0,\n    customABI:null,\n    description:'',\n    processing: {\n      txHash:null,\n      loading:false\n    },\n    validated:false,\n    newAction:false,\n    editAction:null,\n    actionInputs:null,\n    actionValid:false,\n    customAddress:null,\n    contractOptions:[],\n    proposalCreated:false,\n    functionsOptions:null,\n    selectedContract:null,\n    selectedFunction:null,\n    selectedSignature:null,\n    availableFunctions:null,\n    availableContracts:null\n  }\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n    this.validateForm();\n    this.checkInputs();\n\n    const customABIChanged = prevState.customABI !== this.state.customABI;\n    // console.log('customABIChanged',customABIChanged,this.state.selectedContract);\n    if (customABIChanged && this.state.selectedContract === 'custom'){\n      this.loadFunctionsOptions();\n    }\n  }\n\n  loadData(){\n    const availableContracts = this.functionsUtil.getGlobalConfig(['governance','props','availableContracts']);\n    const contractOptions = [\n      {label:'Select a Contract',value:null}\n    ];\n\n    Object.keys(availableContracts).forEach( contractName => {\n      contractOptions.push({label:contractName,value:contractName});\n    });\n\n    contractOptions.push({label:'Custom',value:'custom'});\n\n    this.setState({\n      contractOptions,\n      availableContracts\n    });\n  }\n\n  handleInput(field,e,type=null){\n    let value = e.target.value;\n    this.setState({\n      [field]:value\n    });\n  }\n\n  validateForm(){\n    const validated = this.state.title.length>0 && this.state.description.length>0 && Object.values(this.state.actions).length>0;\n    if (validated !== this.state.validated){\n      this.setState({\n        validated\n      });\n    }\n  }\n\n  getContractABI(selectedContract=null){\n    selectedContract = selectedContract ? selectedContract : this.state.selectedContract;\n\n    let contractABI = null;\n    try {\n      contractABI = selectedContract === 'custom' ? JSON.parse(this.state.customABI) : this.state.availableContracts[selectedContract];\n    } catch (err) {\n      \n    }\n    return contractABI;\n  }\n\n  loadFunctionsOptions(selectedContract=null){\n    let actionInputs = null;\n    let functionsOptions = null;\n    let selectedFunction = null;\n    let selectedSignature = null;\n    let availableFunctions = null;\n\n    const contractABI = this.getContractABI(selectedContract);\n    if (contractABI){\n      availableFunctions = contractABI.filter( f => (!f.constant && f.type === 'function' && f.inputs.length>0 && ['nonpayable','payable'].includes(f.stateMutability)) )\n      functionsOptions = availableFunctions.map( (f,index) => ({\n                          label:f.name,\n                          value:index\n                        }));\n\n      // Add default option\n      functionsOptions.unshift({label:'Select a Function',value:null});\n    }\n\n    // console.log('loadFunctionsOptions',contractABI,functionsOptions);\n\n    this.setState({\n      actionInputs,\n      functionsOptions,\n      selectedFunction,\n      selectedSignature,\n      availableFunctions\n    });\n  }\n\n  changeContract(e){\n    const selectedContract = e.target.value;\n    const selectedContractChanged = selectedContract !== this.state.selectedContract;\n\n    if (selectedContractChanged){\n\n      // Reset function\n      let selectedFunction = null;\n      let selectedSignature = null;\n\n      const newState = {\n        selectedContract,\n        selectedFunction,\n        selectedSignature\n      };\n\n      // Load contract functions\n      if (selectedContract !== null){\n        const contractABI = this.getContractABI(selectedContract);\n        if (contractABI){\n          this.loadFunctionsOptions(selectedContract);\n        } else {\n          newState.functionsOptions = null;\n        }\n      }\n\n      // console.log('changeContract',newState);\n\n      this.setState(newState);\n    }\n  }\n\n  changeFunction(e){\n    const actionValue = 0;\n    let actionInputs = null;\n    const selectedSignature = e.target.value;\n    let selectedFunction = this.state.availableFunctions.find( (f,index) => (index === parseInt(selectedSignature)) );\n\n    if (selectedFunction){\n      actionInputs = new Array(selectedFunction.inputs.length);\n    } else {\n      selectedFunction  = null;\n    }\n\n    this.setState({\n      actionValue,\n      actionInputs,\n      selectedFunction,\n      selectedSignature\n    })\n  }\n  validateField(value,type){\n    if (value===null){\n      return false;\n    }\n    let valid = true;\n    if (type === 'json'){\n      valid = this.functionsUtil.isValidJSON(value);\n    } else {\n      const fieldPattern = this.getPatternByFieldType(type);\n      if (fieldPattern){\n        valid = value.toString().match(fieldPattern) !== null;\n      }\n    }\n    return valid;\n  }\n  getPatternByFieldType(type,returnString=false){\n    let fieldPattern = null;\n    switch (type){\n      case 'address':\n        fieldPattern = '^0x[a-fA-F0-9]{40}$';\n      break;\n      case 'address[]':\n        fieldPattern = '^((0x[a-fA-F0-9]{40})[,]?)+$';\n      break;\n      case 'string':\n        fieldPattern = '[\\\\w]+';\n      break;\n      case 'bool':\n        fieldPattern = '(0|1)';\n      break;\n      case 'uint256':\n      case 'uint8':\n        fieldPattern = '[\\\\d]+';\n      break;\n      default:\n        fieldPattern = null;\n      break;\n    }\n\n    if (!returnString && fieldPattern){\n      fieldPattern = new RegExp(fieldPattern);\n    }\n\n    return fieldPattern;\n  }\n\n  checkInputs(){\n\n    if (!this.state.actionInputs || !this.state.selectedFunction){\n      return false;\n    }\n\n    const inputs = this.state.selectedFunction.inputs;\n    let actionValid = Object.values(this.state.actionInputs).length === inputs.length;\n\n    if (actionValid){\n      Object.values(this.state.actionInputs).forEach( (inputValue,inputIndex) => {\n        const inputInfo = inputs[inputIndex];\n        const fieldPattern = this.getPatternByFieldType(inputInfo.type);\n        const inputValid = fieldPattern ? inputValue.match(fieldPattern) !== null : true;\n        actionValid = actionValid && inputValid;\n        // console.log('checkInputs',inputInfo.name,inputInfo.type,inputValue,inputValid,actionValid);\n      });\n    }\n\n    // Check custom token\n    if (actionValid && this.state.selectedContract === 'custom'){\n      actionValid = actionValid && this.validateField(this.state.customABI,'json') && this.validateField(this.state.customAddress,'address');\n    }\n\n    // console.log('actionValid',this.state.selectedContract,this.validateField(this.state.customABI,'json'),this.state.customAddress,this.validateField(this.state.customAddress,'address'),actionValid);\n\n    if (actionValid !== this.state.actionValid){\n      this.setState({\n        actionValid\n      });\n    }\n  }\n\n  valueChange(e,inputIndex){\n    let actionValue = e.target.value;\n    this.setState({\n      actionValue\n    });\n  }\n\n  inputChange(e,inputIndex){\n    let inputValue = e.target.value;\n\n    this.setState((prevState) => ({\n      actionInputs:{\n        ...prevState.actionInputs,\n        [inputIndex]:inputValue\n      }\n    }));\n  }\n\n  deleteAction(){\n    if (this.state.editAction !== null){\n      let actions = this.state.actions;\n      if (actions[this.state.editAction]){\n        delete actions[this.state.editAction];\n        actions = Object.values(actions);\n        const editAction = null;\n        const actionInputs = null;\n        const selectedContract = null;\n        const selectedFunction = null;\n        const selectedSignature = null;\n\n        this.setState({\n          actions,\n          editAction,\n          actionInputs,\n          selectedContract,\n          selectedFunction,\n          selectedSignature\n        });\n      }\n    }\n  }\n\n  addAction(){\n\n    // Check inputs number\n    const inputs = Object\n                    .values(this.state.actionInputs).filter( v => v.length>0 )\n                    .map( (inputValue,inputIndex) => {\n                      const inputInfo = this.state.selectedFunction.inputs[inputIndex];\n                      switch (inputInfo.type){\n                        case 'address[]':\n                          inputValue = inputValue.split(',');\n                        break;\n                        case 'uint256[]':\n                          inputValue = inputValue.split(',').map( n => this.functionsUtil.toBN(n) );\n                        break;\n                        case 'uint256':\n                          inputValue = this.functionsUtil.toBN(inputValue);\n                        break;\n                        default:\n                          if (inputInfo.type.substr(-2) === '[]'){\n                            inputValue = inputValue.split(',');\n                          }\n                        break;\n                      }\n\n                      return inputValue;\n                    });\n\n    if (inputs.length<this.state.selectedFunction.inputs.length){\n      return false;\n    }\n\n    // Check contract\n    let target = null;\n    if (this.state.selectedContract !== 'custom'){\n      const contract = this.functionsUtil.getContractByName(this.state.selectedContract);\n      if (!contract){\n        return false;\n      } else {\n        target = contract._address;\n      }\n    } else {\n      const contractABIValid = this.functionsUtil.isValidJSON(this.state.customABI);\n      if (!contractABIValid){\n        return false;\n      } else {\n        target = this.state.customAddress;\n      }\n    }\n    \n    const customABI = this.state.customABI;\n    const customAddress = this.state.customAddress;\n    const inputTypes = this.state.selectedFunction.inputs.map( i => (i.type) );\n    const calldata = this.props.web3.eth.abi.encodeParameters(inputTypes,inputs);\n    const signature = this.state.selectedFunction.name+'('+inputTypes.join(',')+')';\n    const value = this.state.actionValue ? this.functionsUtil.BNify(this.state.actionValue).toFixed(0) : this.functionsUtil.BNify(0).toFixed(0);\n\n    const action = {\n      params:{\n        value,\n        target,\n        calldata,\n        signature\n      },\n      customABI,\n      customAddress,\n      inputs:this.state.actionInputs,\n      function:this.state.selectedFunction,\n      contract:this.state.selectedContract,\n      signature:this.state.selectedSignature\n    };\n\n    const newAction = false;\n    const actions = Object.values(this.state.actions);\n\n    if (this.state.editAction === null){\n      actions.push(action);\n    } else {\n      actions[this.state.editAction] = action;\n    }\n\n    const editAction = null;\n\n    this.setState({\n      actions,\n      newAction,\n      editAction\n    });\n  }\n\n  setEditAction(editAction){\n\n    if (!this.state.actions[editAction]){\n      return false;\n    }\n\n    if (editAction === this.state.editAction){\n      return false;\n    }\n\n    const action = this.state.actions[editAction];\n\n    const newAction = false;\n    const actionInputs = action.inputs;\n    const customABI = action.customABI;\n    const actionValue = action.params.value;\n    const selectedContract = action.contract;\n    const selectedFunction = action.function;\n    const customAddress = action.customAddress;\n    const selectedSignature = action.signature;\n\n    this.setState({\n      customABI,\n      newAction,\n      editAction,\n      actionValue,\n      actionInputs,\n      customAddress,\n      selectedContract,\n      selectedFunction,\n      selectedSignature\n    });\n  }\n\n  setNewAction(newAction){\n    if (newAction === this.state.newAction){\n      return false;\n    }\n\n    const editAction = null;\n    const selectedContract = null;\n    const selectedFunction = null;\n\n    this.setState({\n      newAction,\n      editAction,\n      selectedContract,\n      selectedFunction\n    });\n  }\n\n  async cancelTransaction(){\n    this.setState({\n      processing: {\n        txHash:null,\n        loading:false\n      }\n    });\n  }\n\n  handleSubmit(e){\n    e.preventDefault();\n\n    const callback = (tx,error) => {\n      // Send Google Analytics event\n      const eventData = {\n        eventLabel: tx.status,\n        eventAction: 'propose',\n        eventCategory: 'Proposal',\n      };\n\n      if (error){\n        eventData.eventLabel = this.functionsUtil.getTransactionError(error);\n      }\n\n      // Send Google Analytics event\n      if (error || eventData.status !== 'error'){\n        this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n      }\n\n      const txSucceeded = tx.status === 'success';\n\n      const newState = {\n        processing: {\n          txHash:null,\n          loading:false\n        }\n      };\n      \n      if (txSucceeded){\n        newState.actionValue = 0;\n        newState.customABI = null;\n        newState.newAction = null;\n        newState.editAction = null;\n        newState.actionInputs = null;\n        newState.customAddress = null;\n        newState.proposalCreated = true;\n        newState.selectedContract = null;\n        newState.functionsOptions = null;\n        newState.selectedFunction = null;\n        newState.selectedSignature = null;\n      } else {\n        newState.txError = true;\n      }\n\n      this.setState(newState);\n    };\n\n    const callbackReceipt = (tx) => {\n      const txHash = tx.transactionHash;\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          txHash\n        }\n      }));\n    };\n\n    const targets = [];\n    const values = [];\n    const signatures = [];\n    const calldatas = [];\n    const description = '#'+this.state.title+\"\\n\"+this.state.description;\n\n    Object.values(this.state.actions).forEach( action => {\n      values.push(action.params.value);\n      targets.push(action.params.target);\n      calldatas.push(action.params.calldata);\n      signatures.push(action.params.signature);\n    });\n\n    this.governanceUtil.propose(targets, values, signatures, calldatas, description, callback, callbackReceipt);\n    // this.governanceUtil.proposeAndVoteFor(targets, values, signatures, calldatas, description, callback, callbackReceipt);\n\n    this.setState((prevState) => ({\n      processing: {\n        ...prevState.processing,\n        loading:true\n      }\n    }));\n\n    return false;\n  }\n\n  formValidated(){\n\n  }\n\n  render() {\n\n    return (\n      <Flex\n        width={1}\n        alignItems={'center'}\n        flexDirection={'column'}\n        justifyContent={'center'}\n      >\n        <Title\n          mb={[3,4]}\n        >\n          Create Proposal\n        </Title>\n        {\n        this.state.proposalCreated ? (\n          <DashboardCard\n            cardProps={{\n              py:3,\n              px:4,\n              width:[1,'auto']\n            }}\n          >\n            <Flex\n              alignItems={'center'}\n              flexDirection={'column'}\n              justifyContent={'center'}\n            >\n              <Icon\n                name={'Done'}\n                align={'center'}\n                size={ this.props.isMobile ? '1.4em' : '2.2em' }\n                color={this.props.theme.colors.transactions.status.completed}\n              />\n              <Text\n                mt={1}\n                fontWeight={3}\n                fontSize={[2,3]}\n                color={'dark-gray'}\n                textAlign={'center'}\n              >\n                The proposal has been successfully created\n              </Text>\n            </Flex>\n          </DashboardCard>\n        ) : \n        // Has balance\n        this.props.votes && this.functionsUtil.BNify(this.props.votes).gte(this.props.proposalThreshold) ? (\n          <Form\n            width={1}\n            validated={this.state.validated}\n            onSubmit={this.handleSubmit.bind(this)}\n          >\n            <Flex\n              mb={2}\n              width={1}\n              flexDirection={['column','row']}\n              justifyContent={['center','space-between']}\n            >\n              <Flex\n                width={[1,0.48]}\n                flexDirection={'column'}\n              >\n                <Flex\n                  pb={2}\n                  width={1}\n                  mb={[2,3]}\n                  borderColor={'divider'}\n                  borderBottom={'1px solid transparent'}\n                >\n                  <Heading.h4\n                    fontSize={[2,3]}\n                    fontWeight={[2,3]}\n                  >\n                    Proposal Description\n                  </Heading.h4>\n                </Flex>\n                <Flex\n                  flexDirection={'column'}\n                >\n                  <Field\n                    width={1}\n                    label={\"Title\"}\n                    validated={this.state.validated}\n                  >\n                    <Input\n                      required\n                      width={1}\n                      type={'text'}\n                      className={styles.input}\n                      value={this.state.title}\n                      borderColor={'cardBorder'}\n                      backgroundColor={'cardBg'}\n                      placeholder={'Title of your proposal'}\n                      onChange={ e => this.handleInput('title',e) }\n                    />\n                  </Field>\n                </Flex>\n                <Flex\n                  flexDirection={'column'}\n                >\n                  <Field\n                    width={1}\n                    label={'Description'}\n                    validated={this.state.validated}\n                  >\n                    <Textarea\n                      required\n                      rows={8}\n                      width={1}\n                      className={styles.input}\n                      borderColor={'cardBorder'}\n                      backgroundColor={'cardBg'}\n                      value={this.state.description}\n                      placeholder={'Description of your proposal'}\n                      onChange={ e => this.handleInput('description',e) }\n                    />\n                  </Field>\n                </Flex>\n              </Flex>\n\n              <Flex\n                width={[1,0.48]}\n                flexDirection={'column'}\n              >\n                <Flex\n                  pb={2}\n                  width={1}\n                  mb={[2,3]}\n                  borderColor={'divider'}\n                  borderBottom={'1px solid transparent'}\n                >\n                  <Heading.h4\n                    fontSize={[2,3]}\n                    fontWeight={[2,3]}\n                  >\n                    Actions\n                  </Heading.h4>\n                </Flex>\n                <Flex\n                  flexDirection={'column'}\n                >\n                  {\n                    Object.values(this.state.actions).map( (action,actionIndex) => {\n                      return (\n                        <DashboardCard\n                          cardProps={{\n                            py:2,\n                            px:3,\n                            mb:3,\n                            width:1\n                          }}\n                          titleParentProps={{\n                            ml:0,\n                            my:1,\n                            justifyContent:'center'\n                          }}\n                          titleProps={{\n                            fontSize:2,\n                            fontWeight:3\n                          }}\n                          isInteractive={true}\n                          key={`action_${actionIndex}`}\n                          handleClick={ e => this.setEditAction(actionIndex) }\n                          title={ this.state.editAction === actionIndex ? 'Edit Action' : null }\n                        >\n                          {\n                            this.state.editAction === actionIndex ? (\n                              <Flex\n                                width={1}\n                                alignItems={'center'}\n                                flexDirection={'column'}\n                                justifyContent={'center'}\n                              >\n                                <Field\n                                  style={{\n                                    width:'100%',\n                                    display:'flex',\n                                    alignItems:'stretch',\n                                    flexDirection:'column'\n                                  }}\n                                  label={\"Select Contract\"}\n                                >\n                                  <Select\n                                    style={{\n                                      width:'100%',\n                                      color:this.props.theme.colors.counter,\n                                      backgroundColor:this.props.theme.colors.cardBg\n                                    }}\n                                    required={true}\n                                    value={this.state.selectedContract}\n                                    options={this.state.contractOptions}\n                                    onChange={this.changeContract.bind(this)}\n                                  />\n                                </Field>\n                                {\n                                  this.state.selectedContract && this.state.selectedContract === 'custom' &&\n                                  (\n                                    <Flex\n                                      width={1}\n                                      flexDirection={'column'}\n                                    >\n                                      <Field\n                                        width={1}\n                                        label={\"Contract Address\"}\n                                        validated={this.state.validated}\n                                      >\n                                        <Input\n                                          required\n                                          width={1}\n                                          type={'text'}\n                                          className={styles.input}\n                                          borderColor={'cardBorder'}\n                                          backgroundColor={'cardBg'}\n                                          placeholder={'Custom contract address'}\n                                          pattern={this.getPatternByFieldType('address',true)}\n                                          onChange={ e => this.handleInput('customAddress',e,'address') }\n                                          value={this.state.customAddress ? this.state.customAddress : ''}\n                                        />\n                                      </Field>\n                                      <Field\n                                        width={1}\n                                        label={'Custom ABI'}\n                                        validated={this.state.validated}\n                                      >\n                                        <Textarea\n                                          required\n                                          rows={8}\n                                          width={1}\n                                          className={styles.input}\n                                          placeholder={'Insert the ABI of your contract'}\n                                          onChange={ e => this.handleInput('customABI',e,'json') }\n                                          value={this.state.customABI ? this.state.customABI : ''}\n                                        />\n                                      </Field>\n                                    </Flex>\n                                  )\n                                }\n                                {\n                                  this.state.selectedContract && this.state.functionsOptions &&\n                                    <Field\n                                      style={{\n                                        width:'100%',\n                                        display:'flex',\n                                        alignItems:'stretch',\n                                        flexDirection:'column'\n                                      }}\n                                      label={\"Select Function\"}\n                                    >\n                                      <Select\n                                        style={{\n                                          width:'100%',\n                                          color:this.props.theme.colors.counter,\n                                          backgroundColor:this.props.theme.colors.cardBg\n                                        }}\n                                        required={true}\n                                        options={this.state.functionsOptions}\n                                        onChange={this.changeFunction.bind(this)}\n                                        value={this.state.selectedSignature ? this.state.selectedSignature : ''}\n                                      />\n                                    </Field>\n                                }\n                                {\n                                  this.state.selectedFunction && this.state.selectedFunction.payable && (\n                                    <Field\n                                      label={`Value`}\n                                      style={{\n                                        width:'100%',\n                                        display:'flex',\n                                        alignItems:'stretch',\n                                        flexDirection:'column'\n                                      }}\n                                    >\n                                      <Input\n                                        required\n                                        width={1}\n                                        type={'number'}\n                                        className={styles.input}\n                                        borderColor={'cardBorder'}\n                                        backgroundColor={'cardBg'}\n                                        placeholder={`Enter ETH value`}\n                                        onChange={ e => this.valueChange(e) }\n                                        value={this.state.actionValue ? this.state.actionValue : 0}\n                                      />\n                                    </Field>\n                                  )\n                                }\n                                {\n                                  this.state.selectedFunction &&\n                                    this.state.selectedFunction.inputs.map( (input,inputIndex) => {\n                                      const fieldType = ['uint256','bool'].includes(input.type) ? 'number' : 'text';\n                                      const fieldPattern = this.getPatternByFieldType(input.type,true);\n                                      return (\n                                        <Field\n                                          style={{\n                                            width:'100%',\n                                            display:'flex',\n                                            alignItems:'stretch',\n                                            flexDirection:'column'\n                                          }}\n                                          key={`input_${inputIndex}`}\n                                          label={`${input.name} (${input.type})`}\n                                        >\n                                          <Input\n                                            required\n                                            width={1}\n                                            type={fieldType}\n                                            pattern={fieldPattern}\n                                            className={styles.input}\n                                            borderColor={'cardBorder'}\n                                            backgroundColor={'cardBg'}\n                                            placeholder={`${input.name} (${input.type})`}\n                                            onChange={ e => this.inputChange(e,inputIndex) }\n                                            value={this.state.actionInputs[inputIndex] ? this.state.actionInputs[inputIndex] : ''}\n                                          />\n                                        </Field>\n                                      )\n                                    })\n                                }\n                                {\n                                  this.state.selectedContract && this.state.selectedFunction &&\n                                    <Flex\n                                      mb={2}\n                                      width={1}\n                                      alignItems={'center'}\n                                      flexDirection={'column'}\n                                      justifyContent={'center'}\n                                    >\n                                      <RoundButton\n                                        buttonProps={{\n                                          px:[0,4],\n                                          width:[1,'auto'],\n                                          type:'button',\n                                          disabled:!this.state.actionValid\n                                        }}\n                                        handleClick={this.addAction.bind(this)}\n                                      >\n                                        Save Action\n                                      </RoundButton>\n                                      <Link\n                                        mt={2}\n                                        color={'red'}\n                                        hoverColor={'red'}\n                                        onClick={this.deleteAction.bind(this)}\n                                      >\n                                        Delete Action\n                                      </Link>\n                                    </Flex>\n                                }\n                              </Flex>\n                            ) : (\n                              <Flex\n                                width={1}\n                                alignItems={'center'}\n                                flexDirection={'row'}\n                                justifyContent={'space-between'}\n                              >\n                                <Text>\n                                  {action.contract} - {action.params.signature}\n                                </Text>\n                                <Flex\n                                  p={['4px','7px']}\n                                  borderRadius={'50%'}\n                                  alignItems={'center'}\n                                  justifyContent={'center'}\n                                  backgroundColor={ this.props.theme.colors.transactions.actionBg.redeem }\n                                >\n                                  <Icon\n                                    name={'Edit'}\n                                    align={'center'}\n                                    color={'redeem'}\n                                    size={ this.props.isMobile ? '1.2em' : '1.4em' }\n                                  />\n                                </Flex>\n                              </Flex>\n                            )\n                          }\n                        </DashboardCard>\n                      );\n                    })\n                  }\n                  {\n                    (!this.state.actions || Object.values(this.state.actions).length<this.props.proposalMaxOperations) && (\n                      <DashboardCard\n                        cardProps={{\n                          py:2,\n                          px:3,\n                          mb:3,\n                          width:1\n                        }}\n                        titleParentProps={{\n                          ml:0,\n                          my:1,\n                          justifyContent:'center'\n                        }}\n                        titleProps={{\n                          fontSize:2,\n                          fontWeight:3\n                        }}\n                        isInteractive={true}\n                        handleClick={ e => this.setNewAction(true) }\n                        title={ this.state.newAction ? 'Add Action' : null }\n                      >\n                        {\n                          this.state.newAction ? (\n                            <Flex\n                              width={1}\n                              alignItems={'center'}\n                              flexDirection={'column'}\n                              justifyContent={'center'}\n                            >\n                              <Field\n                                style={{\n                                  width:'100%',\n                                  display:'flex',\n                                  alignItems:'stretch',\n                                  flexDirection:'column'\n                                }}\n                                label={\"Select Contract\"}\n                              >\n                                <Select\n                                  style={{\n                                    width:'100%',\n                                    color:this.props.theme.colors.counter,\n                                    backgroundColor:this.props.theme.colors.cardBg\n                                  }}\n                                  required={true}\n                                  options={this.state.contractOptions}\n                                  onChange={this.changeContract.bind(this)}\n                                />\n                              </Field>\n                              {\n                                this.state.selectedContract && this.state.selectedContract === 'custom' &&\n                                (\n                                  <Flex\n                                    width={1}\n                                    flexDirection={'column'}\n                                  >\n                                    <Field\n                                      width={1}\n                                      label={\"Contract Address\"}\n                                      validated={this.state.validated}\n                                    >\n                                      <Input\n                                        required\n                                        width={1}\n                                        type={'text'}\n                                        className={styles.input}\n                                        borderColor={'cardBorder'}\n                                        backgroundColor={'cardBg'}\n                                        placeholder={'Custom contract address'}\n                                        pattern={this.getPatternByFieldType('address',true)}\n                                        onChange={ e => this.handleInput('customAddress',e,'address') }\n                                        value={this.state.customAddress ? this.state.customAddress : ''}\n                                      />\n                                    </Field>\n                                    <Field\n                                      width={1}\n                                      label={'Custom ABI'}\n                                      validated={this.state.validated}\n                                    >\n                                      <Textarea\n                                        required\n                                        rows={8}\n                                        width={1}\n                                        className={styles.input}\n                                        placeholder={'Insert the ABI of your contract'}\n                                        onChange={ e => this.handleInput('customABI',e,'json') }\n                                        value={this.state.customABI ? this.state.customABI : ''}\n                                      />\n                                    </Field>\n                                  </Flex>\n                                )\n                              }\n                              {\n                                this.state.selectedContract && this.state.functionsOptions && \n                                  <Field\n                                    style={{\n                                      width:'100%',\n                                      display:'flex',\n                                      alignItems:'stretch',\n                                      flexDirection:'column'\n                                    }}\n                                    label={\"Select Function\"}\n                                  >\n                                    <Select\n                                      style={{\n                                        width:'100%',\n                                        color:this.props.theme.colors.counter,\n                                        backgroundColor:this.props.theme.colors.cardBg\n                                      }}\n                                      required={true}\n                                      options={this.state.functionsOptions}\n                                      onChange={this.changeFunction.bind(this)}\n                                      value={this.state.selectedSignature ? this.state.selectedSignature : ''}\n                                    />\n                                  </Field>\n                              }\n                              {\n                                this.state.selectedFunction && this.state.selectedFunction.payable && (\n                                  <Field\n                                    label={`Value`}\n                                    style={{\n                                      width:'100%',\n                                      display:'flex',\n                                      alignItems:'stretch',\n                                      flexDirection:'column'\n                                    }}\n                                  >\n                                    <Input\n                                      required\n                                      width={1}\n                                      type={'number'}\n                                      className={styles.input}\n                                      borderColor={'cardBorder'}\n                                      backgroundColor={'cardBg'}\n                                      placeholder={`Enter ETH value`}\n                                      onChange={ e => this.valueChange(e) }\n                                      value={this.state.actionValue ? this.state.actionValue : 0}\n                                    />\n                                  </Field>\n                                )\n                              }\n                              {\n                                this.state.selectedFunction &&\n                                  this.state.selectedFunction.inputs.map( (input,inputIndex) => {\n                                    const fieldType = ['uint256','bool'].includes(input.type) ? 'number' : 'text';\n                                    const fieldPattern = this.getPatternByFieldType(input.type,true);\n                                    return (\n                                      <Field\n                                        style={{\n                                          width:'100%',\n                                          display:'flex',\n                                          alignItems:'stretch',\n                                          flexDirection:'column'\n                                        }}\n                                        key={`input_${inputIndex}`}\n                                        label={`${input.name} (${input.type})`}\n                                      >\n                                        <Input\n                                          required\n                                          width={1}\n                                          type={fieldType}\n                                          pattern={fieldPattern}\n                                          className={styles.input}\n                                          borderColor={'cardBorder'}\n                                          backgroundColor={'cardBg'}\n                                          placeholder={`${input.name} (${input.type})`}\n                                          onChange={ e => this.inputChange(e,inputIndex) }\n                                          value={this.state.actionInputs[inputIndex] ? this.state.actionInputs[inputIndex] : ''}\n                                        />\n                                      </Field>\n                                    )\n                                  })\n                              }\n                              {\n                                this.state.selectedContract && this.state.selectedFunction &&\n                                  <Flex\n                                    width={1}\n                                    alignItems={'center'}\n                                    justifyContent={'center'}\n                                  >\n                                    <RoundButton\n                                      buttonProps={{\n                                        px:[0,4],\n                                        type:'button',\n                                        width:[1,'auto'],\n                                        disabled:!this.state.actionValid\n                                      }}\n                                      handleClick={this.addAction.bind(this)}\n                                    >\n                                      Add Action\n                                    </RoundButton>\n                                  </Flex>\n                              }\n                            </Flex>\n                          ) : (\n                            <Flex\n                              width={1}\n                              alignItems={'center'}\n                              flexDirection={'row'}\n                              justifyContent={'space-between'}\n                            >\n                              <Text>\n                                Add Action\n                              </Text>\n                              <Flex\n                                p={['4px','7px']}\n                                borderRadius={'50%'}\n                                alignItems={'center'}\n                                justifyContent={'center'}\n                                backgroundColor={ this.props.theme.colors.transactions.actionBg.redeem }\n                              >\n                                <Icon\n                                  name={'Add'}\n                                  align={'center'}\n                                  color={'redeem'}\n                                  size={ this.props.isMobile ? '1.2em' : '1.4em' }\n                                />\n                              </Flex>\n                            </Flex>\n                          )\n                        }\n                      </DashboardCard>\n                    )\n                  }\n\n                </Flex>\n              </Flex>\n            </Flex>\n            <Flex\n              mb={3}\n              width={1}\n              alignItems={'center'}\n              justifyContent={'center'}\n            >\n              {\n                // Sending transaction\n                this.state.processing && this.state.processing.loading ? (\n                  <TxProgressBar\n                    {...this.props}\n                    hash={this.state.processing.txHash}\n                    waitText={`Proposal creation estimated in`}\n                    endMessage={`Finalizing proposal creation request...`}\n                    cancelTransaction={this.cancelTransaction.bind(this)}\n                  />\n                ) : (\n                  <RoundButton\n                    buttonProps={{\n                      type:'submit',\n                      width:[1,'15em'],\n                      disabled:!this.state.validated\n                    }}\n                  >\n                    Submit Proposal\n                  </RoundButton>\n                )\n              }\n            </Flex>\n          </Form>\n        ) : this.props.balance && this.functionsUtil.BNify(this.props.balance).gte(this.props.proposalThreshold) ? (\n          <Flex\n            width={1}\n            alignItems={'center'}\n            flexDirection={'column'}\n            justifyContent={'center'}\n          >\n            <Text\n              mb={3}\n              fontWeight={2}\n              fontSize={[2,3]}\n              color={'dark-gray'}\n              textAlign={'center'}\n            >\n              Please delegate your votes to yourself to create a new proposal.\n            </Text>\n            <DelegateVote\n              {...this.props}\n            />\n          </Flex>\n        ) : (\n          <Text\n            fontWeight={2}\n            fontSize={[2,3]}\n            color={'dark-gray'}\n            textAlign={'center'}\n          >\n            You need at least {this.functionsUtil.formatMoney(this.functionsUtil.fixTokenDecimals(this.props.proposalThreshold,18),0)} delegated votes to send a new proposal.\n          </Text>\n        )\n       }\n      </Flex>\n    );\n  }\n}\n\nexport default NewProposal;","import React, { Component } from 'react';\nimport { Flex, Text, Box, Link } from \"rimble-ui\";\nimport FlexLoader from '../../FlexLoader/FlexLoader';\nimport RoundButton from '../../RoundButton/RoundButton';\nimport DelegateVote from '../DelegateVote/DelegateVote';\nimport ProposalField from '../ProposalField/ProposalField';\nimport GovernanceUtil from '../../utilities/GovernanceUtil';\nimport DashboardCard from '../../DashboardCard/DashboardCard';\nimport TxProgressBar from '../../TxProgressBar/TxProgressBar';\n\nclass CastVote extends Component {\n\n  state = {\n    vote:null,\n    loaded:false,\n    userVote:null,\n    processing:{\n      txHash:null,\n      loading:false\n    },\n    voteSucceed:false,\n    showDelegateBox:false\n  };\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n    const accountChanged = prevProps.account !== this.props.account;\n    if (accountChanged){\n      this.loadData();\n    }\n  }\n\n  async loadData(){\n    if (this.props.account){\n      const userVote = this.props.proposal.votes.find( v => (v.voter.toLowerCase() === this.props.account.toLowerCase()) );\n      this.setState({\n        userVote,\n        loaded:true\n      });\n    }\n  }\n\n  async cancelTransaction(){\n    this.setState({\n      processing: {\n        txHash:null,\n        loading:false\n      }\n    });\n  }\n\n  toggleDelegateBox(showDelegateBox){\n    this.setState({\n      showDelegateBox\n    });\n  }\n\n  castVote(){\n\n    if (this.state.vote === null){\n      return false;\n    }\n\n    const callback = (tx,error) => {\n      // Send Google Analytics event\n      const eventData = {\n        eventCategory: 'Proposal',\n        eventAction: 'CastVote',\n        eventLabel: this.state.vote\n      };\n\n      if (error){\n        eventData.eventLabel = this.functionsUtil.getTransactionError(error);\n      }\n\n      // Send Google Analytics event\n      if (error || eventData.status !== 'error'){\n        this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n      }\n\n      let userVote = null;\n      const txSucceeded = tx.status === 'success';\n      if (txSucceeded){\n        userVote = {\n          voter:this.props.account,\n          votes:this.props.votes.toString(),\n          support:this.state.vote === 'for',\n          proposalId:this.props.proposal.id,\n        };\n\n        if (typeof this.props.callback === 'function'){\n          this.props.callback();\n        }\n      }\n\n\n      this.setState({\n        userVote,\n        processing: {\n          txHash:null,\n          loading:false\n        }\n      });\n    };\n\n    const callbackReceipt = (tx) => {\n      const txHash = tx.transactionHash;\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          txHash\n        }\n      }));\n    };\n\n    const vote = this.state.vote === 'for' ? parseInt(1) : parseInt(0);\n    const proposalId = parseInt(this.props.proposal.id);\n\n    this.governanceUtil.castVote(proposalId,vote,callback,callbackReceipt);\n\n    this.setState((prevState) => ({\n      processing: {\n        ...prevState.processing,\n        loading:true\n      }\n    }));\n  }\n\n  setVote = (vote) => {\n    this.setState({\n      vote\n    });\n  }\n\n  render() {\n    return this.state.userVote ? (\n        <Flex\n          p={3}\n          width={1}\n          mb={[2,3]}\n          alignItems={'center'}\n          flexDirection={'column'}\n          justifyContent={'center'}\n        >\n          <Text\n            mb={2}\n            fontWeight={4}\n            fontSize={[2,3]}\n            color={'dark-gray'}\n            textAlign={'center'}\n          >\n            You have voted for the proposal #{this.props.proposal.id}:\n          </Text>\n          <DashboardCard\n            cardProps={{\n              mb:2,\n              py:[2,3],\n              px:[3,4],\n              width:'auto'\n            }}\n            isInteractive={false}\n          >\n            <Flex\n              my={1}\n              alignItems={'center'}\n              flexDirection={'row'}\n              justifyContent={'center'}\n            >\n              <ProposalField\n                fieldInfo={{\n                  name:'statusIcon',\n                  state: this.state.userVote.support ? 'Executed' : 'Canceled',\n                  props:{\n                    mr:2\n                  }\n                }}\n              />\n              <Text\n                fontWeight={3}\n                fontSize={[2,3]}\n              >\n                {this.state.userVote.support ? 'For' : 'Against'}\n              </Text>\n            </Flex>\n          </DashboardCard>\n          <Text\n            fontSize={1}\n            fontWeight={500}\n            color={'statValue'}\n            textAlign={'center'}\n          >\n            voted with {this.functionsUtil.formatMoney(this.functionsUtil.fixTokenDecimals(this.state.userVote.votes,18).toFixed(0,1),0)} votes\n          </Text>\n        </Flex>\n      ) : this.props.proposal.state === 'Active' && (\n        <Box\n          p={3}\n          width={1}\n          mb={[2,3]}\n        >\n          {\n            // Data not loaded yet\n            !this.state.loaded ? (\n              <FlexLoader\n                flexProps={{\n                  flexDirection:'row',\n                }}\n                loaderProps={{\n                  size:'30px'\n                }}\n                textProps={{\n                  ml:2\n                }}\n                text={'Loading data...'}\n              />\n            ) :\n            // No votes delegated\n            (!this.props.votes || this.functionsUtil.BNify(this.props.votes).lte(0) || this.state.showDelegateBox) ? (\n              <DelegateVote\n                {...this.props}\n                canClose={this.state.showDelegateBox}\n                closeFunc={ e => this.toggleDelegateBox(false) }\n              />\n            ) : (\n              <Flex\n                width={1}\n                alignItems={'center'}\n                flexDirection={'column'}\n                justifyContent={'center'}\n              >\n                <Text\n                  mb={1}\n                  fontWeight={4}\n                  fontSize={[2,3]}\n                  color={'dark-gray'}\n                  textAlign={'center'}\n                >\n                  Cast your vote for the proposal #{this.props.proposal.id}:\n                </Text>\n                <Text\n                  mb={2}\n                  fontSize={1}\n                  color={'red'}\n                  fontWeight={500}\n                  textAlign={'center'}\n                >\n                  Make sure you have been delegated before this proposal has been submitted\n                </Text>\n                {\n                  this.state.processing && this.state.processing.loading ? (\n                    <Flex\n                      width={1}\n                      flexDirection={'column'}\n                    >\n                      <TxProgressBar\n                        {...this.props}\n                        waitText={`Vote estimated in`}\n                        hash={this.state.processing.txHash}\n                        endMessage={`Finalizing vote request...`}\n                        cancelTransaction={this.cancelTransaction.bind(this)}\n                      />\n                    </Flex>\n                  ) : (\n                    <Flex\n                      width={1}\n                      alignItems={'center'}\n                      flexDirection={'column'}\n                      justifyContent={'center'}\n                    >\n                      <Flex\n                        mb={2}\n                        width={[1,0.4]}\n                        alignItems={'center'}\n                        flexDirection={'row'}\n                        justifyContent={'space-between'}\n                      >\n                        <DashboardCard\n                          cardProps={{\n                            p:[2,3],\n                            width:0.48,\n                            onMouseDown:() => {\n                              this.setVote('for');\n                            }\n                          }}\n                          isInteractive={true}\n                          isActive={ this.state.vote === 'for' }\n                        >\n                          <Flex\n                            my={1}\n                            alignItems={'center'}\n                            flexDirection={'row'}\n                            justifyContent={'center'}\n                          >\n                            <ProposalField\n                              fieldInfo={{\n                                name:'statusIcon',\n                                state:'Executed',\n                                props:{\n                                  mr:2\n                                }\n                              }}\n                            />\n                            <Text\n                              fontWeight={3}\n                              fontSize={[2,3]}\n                            >\n                              For\n                            </Text>\n                          </Flex>\n                        </DashboardCard>\n                        <DashboardCard\n                          cardProps={{\n                            p:[2,3],\n                            width:0.48,\n                            onMouseDown:() => {\n                              this.setVote('against');\n                            }\n                          }}\n                          isInteractive={true}\n                          isActive={ this.state.vote === 'against' }\n                        >\n                          <Flex\n                            my={1}\n                            alignItems={'center'}\n                            flexDirection={'row'}\n                            justifyContent={'center'}\n                          >\n                            <ProposalField\n                              fieldInfo={{\n                                name:'statusIcon',\n                                state:'Canceled',\n                                props:{\n                                  mr:2\n                                }\n                              }}\n                            />\n                            <Text\n                              fontWeight={3}\n                              fontSize={[2,3]}\n                            >\n                              Against\n                            </Text>\n                          </Flex>\n                        </DashboardCard>\n                      </Flex>\n                      <Text\n                        mb={0}\n                        fontSize={1}\n                        fontWeight={500}\n                        color={'statValue'}\n                        textAlign={'center'}\n                      >\n                        You have {this.functionsUtil.formatMoney(this.functionsUtil.fixTokenDecimals(this.props.votes,18).toFixed(0,1),0)} votes delegated\n                      </Text>\n                      {\n                        this.props.balance && this.functionsUtil.BNify(this.props.balance).gt(0) &&\n                          <Link\n                            mt={0}\n                            mainColor={'primary'}\n                            hoverColor={'primary'}\n                            onClick={ e => this.toggleDelegateBox(true) }\n                          >\n                            change delegate\n                          </Link>\n                      }\n                      <RoundButton\n                        buttonProps={{\n                          mt:2,\n                          width:[1,0.2],\n                          disabled:this.state.vote === null\n                        }}\n                        handleClick={this.castVote.bind(this)}\n                      >\n                        Vote\n                      </RoundButton>\n                    </Flex>\n                  )\n                }\n              </Flex>\n            )\n          }\n        </Box>\n      );\n  }\n}\n\nexport default CastVote;","import Title from '../../Title/Title';\nimport React, { Component } from 'react';\nimport ExtLink from '../../ExtLink/ExtLink';\nimport CastVote from '../CastVote/CastVote';\nimport StatsCard from '../../StatsCard/StatsCard';\nimport RoundButton from '../../RoundButton/RoundButton';\nimport ProposalField from '../ProposalField/ProposalField';\nimport GovernanceUtil from '../../utilities/GovernanceUtil';\nimport ShortHash from \"../../utilities/components/ShortHash\";\nimport TxProgressBar from '../../TxProgressBar/TxProgressBar';\nimport DashboardCard from '../../DashboardCard/DashboardCard';\nimport { Box, Flex, Blockie, Text, Link, Icon } from \"rimble-ui\";\n\nclass ProposalDetails extends Component {\n\n  state = {\n    showActionParams:null,\n    processing:{\n      action:null,\n      txHash:null,\n      loading:false\n    },\n  };\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  toggleShowParams(showActionParams){\n    // Reset show action params\n    if (this.state.showActionParams === showActionParams){\n      showActionParams = null;\n    }\n    this.setState({\n      showActionParams\n    });\n  }\n\n  async cancelTransaction(){\n    this.setState({\n      processing: {\n        action:null,\n        txHash:null,\n        loading:false\n      }\n    });\n  }\n\n  async queueProposal(){\n\n    const callback = (tx,error) => {\n      // Send Google Analytics event\n      const eventData = {\n        eventAction: 'queue',\n        eventCategory: 'Governance',\n        eventLabel: this.props.proposal.id\n      };\n\n      // Send Google Analytics event\n      if (error || eventData.status !== 'error'){\n        this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n      }\n\n      if (typeof this.props.loadData === 'function' && tx.status === 'success'){\n        this.props.loadData();\n      }\n\n      this.setState({\n        processing: {\n          action:null,\n          txHash:null,\n          loading:false\n        }\n      });\n    };\n\n    const callbackReceipt = (tx) => {\n      const txHash = tx.transactionHash;\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          txHash\n        }\n      }));\n    };\n\n    this.governanceUtil.queueProposal(this.props.proposal.id,callback,callbackReceipt);\n\n    this.setState((prevState) => ({\n      processing: {\n        ...prevState.processing,\n        loading:true,\n        action:'Queue'\n      }\n    }));\n  }\n\n  async executeProposal(){\n    const callback = (tx,error) => {\n      // Send Google Analytics event\n      const eventData = {\n        eventAction: 'execute',\n        eventCategory: 'Governance',\n        eventLabel: this.props.proposal.id\n      };\n\n      // Send Google Analytics event\n      if (error || eventData.status !== 'error'){\n        this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n      }\n\n      if (typeof this.props.loadData === 'function' && tx.status === 'success'){\n        this.props.loadData();\n      }\n\n      this.setState({\n        processing: {\n          action:null,\n          txHash:null,\n          loading:false\n        }\n      });\n    };\n\n    const callbackReceipt = (tx) => {\n      const txHash = tx.transactionHash;\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          txHash\n        }\n      }));\n    };\n\n    this.governanceUtil.executeProposal(this.props.proposal.id,callback,callbackReceipt);\n\n    this.setState((prevState) => ({\n      processing: {\n        ...prevState.processing,\n        loading:true,\n        action:'Execute'\n      }\n    }));\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n\n    window.loadData = this.props.loadData;\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n  }\n\n  render() {\n    let proposal = this.props.proposal;\n    const creationTime = proposal.states[0].start_time*1000;\n    const lastState = Object.values(proposal.states).pop();\n    const hasVotes = proposal.votes && proposal.votes.length>0;\n    const forVotes = this.functionsUtil.BNify(proposal.forVotes).div(1e18);\n    const againstVotes = this.functionsUtil.BNify(proposal.againstVotes).div(1e18);\n    const totalVotes = forVotes.plus(againstVotes);\n    const forVotesPerc = forVotes.div(totalVotes).times(100).toFixed(2);\n    const againstVotesPerc = againstVotes.div(totalVotes).times(100).toFixed(2);\n    const endTime = (proposal.states[0].start_time+parseInt(this.functionsUtil.blocksToSeconds(this.props.votingPeriod)))*1000;\n    const forVotesAddrs = proposal.votes.filter( v => (v.support) ).sort( (a,b) => (this.functionsUtil.BNify(a.votes).lt(this.functionsUtil.BNify(b.votes)) ? 1 : -1) );\n    const againstVotesAddrs = proposal.votes.filter( v => (!v.support) ).sort( (a,b) => (this.functionsUtil.BNify(a.votes).lt(this.functionsUtil.BNify(b.votes)) ? 1 : -1) );\n\n    const canQueue = proposal.state.toLowerCase() === 'succeeded'; \n    const canExecute = proposal.state.toLowerCase() === 'queued' && parseInt(new Date().getTime()/1000)-parseInt(proposal.states[proposal.states.length-1].start_time)>=parseInt(this.props.timelockDelay);\n\n    return (\n      <Box\n        width={1}\n      >\n        <Title\n          mb={[3,4]}\n        >\n          {proposal.title}\n        </Title>\n        <Flex\n          mb={3}\n          width={1}\n          alignItems={'center'}\n          justifyContent={'center'}\n          flexDirection={['column','row']}\n        >\n          <Flex\n            mb={[2,0]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              labelTooltip={null}\n              title={'Proposal ID'}\n              value={`#${proposal.id}`}\n              minHeight={['110px','143px']}\n              titleMinHeight={['auto','50px']}\n              label={`Created on ${this.functionsUtil.strToMoment(creationTime).utc().format('DD MMM, YYYY @ HH:mm')} UTC`}\n            />\n          </Flex>\n          <Flex\n            mb={[2,0]}\n            pl={[0,1]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              titleMinHeight={['auto','50px']}\n              minHeight={['110px','143px']}\n              labelTooltip={ null }\n              title={'Proposer'}\n              label={null}\n            >\n              <Flex\n                alignItems={'center'}\n                flexDirection={'row'}\n                justifyContent={'center'}\n              >\n                <Blockie\n                  opts={{\n                    size: 12,\n                    color: \"#dfe\",\n                    bgcolor: \"#a71\",\n                    spotcolor: \"#000\",\n                    seed: proposal.address,\n                  }}\n                />\n                <ExtLink\n                  href={this.functionsUtil.getEtherscanAddressUrl(proposal.proposer)}\n                >\n                  <Flex\n                    flexDirection={'row'}\n                    alignItems={'flex-end'}\n                    justifyContent={'flex-start'}\n                  >\n                    <ShortHash\n                      ml={2}\n                      lineHeight={1}\n                      {...this.props}\n                      fontSize={[3,4]}\n                      fontWeight={[3,4]}\n                      color={'statValue'}\n                      hash={proposal.proposer}\n                    />\n                    <Icon\n                      ml={1}\n                      size={'1.2em'}\n                      name={'OpenInNew'}\n                      color={'statValue'}\n                    />\n                  </Flex>\n                </ExtLink>\n              </Flex>\n            </StatsCard>\n          </Flex>\n          <Flex\n            mb={[2,0]}\n            pl={[0,1]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              title={'Status'}\n              labelTooltip={ null }\n              minHeight={['110px','143px']}\n              titleMinHeight={['auto','50px']}\n              label={proposal.state==='Active' ? `Ending on ${this.functionsUtil.strToMoment(endTime).utc().format('DD MMM, YYYY @ HH:mm')} UTC` : `Updated on ${this.functionsUtil.strToMoment(lastState.start_time*1000).utc().format('DD MMM, YYYY @ HH:mm')} UTC`}\n            >\n              <Flex\n                alignItems={'center'}\n                flexDirection={'row'}\n                justifyContent={'center'}\n              >\n                <ProposalField\n                  {...this.props}\n                  proposal={proposal}\n                  fieldInfo={{\n                    name:'statusIcon',\n                    props:{\n                      size: this.props.isMobile ? '1.7em' : '2em'\n                    }\n                  }}\n                />\n                <Text\n                  ml={2}\n                  lineHeight={1}\n                  fontSize={[4,5]}\n                  fontWeight={[3,4]}\n                  color={'statValue'}\n                >\n                  {proposal.state}\n                </Text>\n              </Flex>\n            </StatsCard>\n          </Flex>\n          <Flex\n            pl={[0,1]}\n            mb={[2,0]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              label={null}\n              title={'Total Votes'}\n              labelTooltip={ null }\n              minHeight={['110px','143px']}\n              titleMinHeight={['auto','50px']}\n              value={this.functionsUtil.formatMoney(totalVotes.toFixed(0,1),0)}\n            />\n          </Flex>\n        </Flex>\n        {\n          this.props.account && \n            <CastVote\n              {...this.props}\n              callback={this.props.loadData}\n            />\n        }\n        <Flex\n          width={1}\n          mb={[2,3]}\n          id={'details-container'}\n          justifyContent={'space-between'}\n          flexDirection={['column','row']}\n        >\n          <DashboardCard\n            cardProps={{\n              p:3,\n              mb:[2,0],\n              mr:[0,1],\n              width:[1,1/2]\n            }}\n            title={'Actions'}\n            titleParentProps={{\n              mt:0,\n              ml:0\n            }}\n          >\n            <Flex\n              pt={2}\n              width={1}\n              alignItems={'center'}\n              flexDirection={'column'}\n              justifyContent={'center'}\n            >\n              {\n                proposal.actions.signatures.map( (action,actionIndex) => {\n                  const data = proposal.actions.calldatas[actionIndex];\n                  // const targetAddr = proposal.actions.targets[actionIndex];\n\n                  let decodedParams = null;\n                  let attrs = action.match(/\\(([a-z0-9,]+(\\[\\])?)\\)/i);\n                  attrs = attrs ? attrs[1].split(',') : null;\n\n                  if (attrs){\n                    decodedParams = this.props.web3.eth.abi.decodeParameters(attrs,data);\n                    if (decodedParams){\n                      decodedParams = Object.values(decodedParams).splice(0,attrs.length);\n                    }\n                  }\n\n                  return (\n                    <Flex\n                      py={1}\n                      width={1}\n                      flexDirection={'column'}\n                      alignItems={'flex-start'}\n                      key={`action_${actionIndex}`}\n                      justifyContent={'flex-start'}\n                      borderBottom={`1px solid ${this.props.theme.colors['near-white']}`}\n                    >\n                      <Flex\n                        mb={1}\n                        width={1}\n                        flexDirection={['column','row']}\n                        alignItems={['flex-start','center']}\n                      >\n                        <Flex\n                          flexDirection={'row'}\n                        >\n                          <Text\n                            fontSize={1}\n                            fontWeight={3}\n                            color={'dark-gray'}\n                          >\n                            {parseInt(actionIndex)+1}\n                          </Text>\n                          <Text\n                            ml={2}\n                            fontSize={1}\n                            fontWeight={2}\n                            color={'dark-gray'}\n                          >\n                            {action}\n                          </Text>\n                        </Flex>\n                        {\n                          decodedParams &&\n                            <Link\n                              mt={[1,0]}\n                              ml={[0,1]}\n                              fontSize={1}\n                              fontWeight={2}\n                              textAlign={'left'}\n                              lineHeight={'initial'}\n                              hoverColor={'primary'}\n                              onClick={ e => this.toggleShowParams(actionIndex) }\n                            >\n                              {\n                                this.state.showActionParams === actionIndex ? '(hide params)' : '(show params)'\n                              }\n                            </Link>\n                        }\n                      </Flex>\n                      {\n                        decodedParams && this.state.showActionParams === actionIndex &&\n                          <Flex\n                            pl={[0,3]}\n                            width={1}\n                            flexDirection={'column'}\n                          >\n                            {\n                              decodedParams.map( (param,paramIndex) => (\n                                <Text\n                                  fontSize={0}\n                                  color={'statValue'}\n                                  key={`param_${paramIndex}`}\n                                >\n                                  {param}\n                                </Text>\n                              ))\n                            }\n                          </Flex>\n                      }\n                    </Flex>\n                  );\n                })\n              }\n            </Flex>\n          </DashboardCard>\n          <DashboardCard\n            cardProps={{\n              p:3,\n              ml:[0,1],\n              width:[1,1/2]\n            }}\n          >\n            <Flex\n              mb={2}\n              width={1}\n              alignItems={'center'}\n              flexDirection={'row'}\n              justifyContent={'space-between'}\n            >\n              <Text\n                fontWeight={4}\n                fontSize={[2,3]}\n                textAlign={'left'}\n                color={'dark-gray'}\n                lineHeight={'initial'}\n              >\n                Proposal History\n              </Text>\n              <Text\n                fontWeight={4}\n                fontSize={[2,3]}\n                textAlign={'left'}\n                color={'dark-gray'}\n                lineHeight={'initial'}\n              >\n                Date\n              </Text>\n            </Flex>\n            <Flex\n              width={1}\n              alignItems={'center'}\n              flexDirection={'column'}\n              justifyContent={'center'}\n            >\n              {\n                proposal.states.map( (stateInfo,stateIndex) => {\n                  return (\n                    <Flex\n                      py={2}\n                      width={1}\n                      alignItems={'center'}\n                      key={`state_${stateIndex}`}\n                      justifyContent={'space-between'}\n                      borderBottom={`1px solid ${this.props.theme.colors['near-white']}`}\n                    >\n                      <Flex\n                        alignItems={'center'}\n                        flexDirection={'row'}\n                      >\n                        <ProposalField\n                          {...this.props}\n                          proposal={proposal}\n                          fieldInfo={{\n                            name:'statusIcon',\n                            state:stateInfo.state,\n                            props:{\n                              size: this.props.isMobile ? '1.3em' : '1.5em'\n                            }\n                          }}\n                        />\n                        <Link\n                          ml={2}\n                          fontSize={1}\n                          fontWeight={2}\n                          target={'_blank'}\n                          textAlign={'left'}\n                          color={'dark-gray'}\n                          lineHeight={'initial'}\n                          hoverColor={'primary'}\n                          rel={'nofollow noopener noreferrer'}\n                          href={this.functionsUtil.getEtherscanTransactionUrl(stateInfo.trx_hash)}\n                        >\n                          {stateInfo.state}\n                        </Link>\n                      </Flex>\n                      <Text\n                        fontSize={1}\n                        fontWeight={2}\n                        textAlign={'left'}\n                        color={'dark-gray'}\n                        lineHeight={'initial'}\n                      >\n                        {this.functionsUtil.strToMoment(stateInfo.start_time*1000).utc().format('DD MMM, YYYY @ HH:mm')} UTC\n                      </Text>\n                    </Flex>\n                  );\n                })\n              }\n              {\n                this.state.processing && this.state.processing.loading ? (\n                  <Flex\n                    mt={3}\n                    width={1}\n                    flexDirection={'column'}\n                  >\n                    <TxProgressBar\n                      {...this.props}\n                      hash={this.state.processing.txHash}\n                      cancelTransaction={this.cancelTransaction.bind(this)}\n                      waitText={`${this.state.processing.action} estimated in`}\n                      endMessage={`Finalizing ${this.state.processing.action.toLowerCase()} request...`}\n                    />\n                  </Flex>\n                ) : canQueue ? (\n                  <RoundButton\n                    buttonProps={{\n                      mt:3,\n                      width:[1,'auto'],\n                    }}\n                    handleClick={this.queueProposal.bind(this)}\n                  >\n                    Queue Proposal\n                  </RoundButton>\n                ) : canExecute && (\n                  <RoundButton\n                    buttonProps={{\n                      mt:3,\n                      width:[1,'auto'],\n                    }}\n                    handleClick={this.executeProposal.bind(this)}\n                  >\n                    Execute Proposal\n                  </RoundButton>\n                )\n              }\n            </Flex>\n          </DashboardCard>\n        </Flex>\n        <DashboardCard\n          cardProps={{\n            p:3,\n            mb:[2,3]\n          }}\n          title={'Details'}\n          titleParentProps={{\n            mt:0,\n            ml:0\n          }}\n        >\n          <Text\n            mt={2}\n            fontSize={[1,2]}\n            style={{\n              wordBreak:'break-word'\n            }}\n            dangerouslySetInnerHTML={{\n              __html:proposal.description\n            }}\n          >\n          </Text>\n        </DashboardCard>\n        {\n          hasVotes && \n            <DashboardCard\n              cardProps={{\n                p:3,\n                mb:[2,3]\n              }}\n            >\n              <Flex\n                width={1}\n                alignItems={'center'}\n                flexDirection={'column'}\n                justifyContent={'center'}\n              >\n                <Flex\n                  mb={2}\n                  width={1}\n                  alignItems={'center'}\n                  flexDirection={'row'}\n                  justifyContent={'space-between'}\n                >\n                  <Text\n                    fontWeight={4}\n                    fontSize={[2,3]}\n                    textAlign={'left'}\n                    color={'dark-gray'}\n                    lineHeight={'initial'}\n                  >\n                    For ({forVotesPerc}%)\n                  </Text>\n                  <Text\n                    fontWeight={4}\n                    fontSize={[2,3]}\n                    textAlign={'left'}\n                    color={'dark-gray'}\n                    lineHeight={'initial'}\n                  >\n                    Against ({againstVotesPerc}%)\n                  </Text>\n                </Flex>\n                <Flex\n                  mb={2}\n                  width={1}\n                  height={'20px'}\n                  alignItems={'center'}\n                  flexDirection={'row'}\n                  id={'votes-cursor-container'}\n                >\n                  <Flex\n                    height={'100%'}\n                    width={`${forVotesPerc}%`}\n                    style={{background:'rgba(0, 211, 149, 1)'}}\n                    borderRadius={ parseFloat(forVotesPerc)===100 ? '20px' : '20px 0 0 20px' }\n                  >\n                  </Flex>\n                  <Flex\n                    height={'100%'}\n                    width={`${againstVotesPerc}%`}\n                    style={{background:'rgba(211, 0, 0, 1)'}}\n                    borderRadius={ parseFloat(againstVotesPerc)===100 ? '20px' : '0 20px 20px 0' }\n                  >\n                  </Flex>\n                </Flex>\n                <Flex\n                  width={1}\n                  height={'20px'}\n                  alignItems={'center'}\n                  flexDirection={'row'}\n                  id={'votes-number-container'}\n                >\n                  <Flex\n                    width={1/2}\n                    height={'100%'}\n                    justifyContent={'flex-end'}\n                  >\n                    <Flex\n                      width={1}\n                      height={'100%'}\n                      justifyContent={'flex-start'}\n                    >\n                      <Text\n                        fontWeight={3}\n                        fontSize={[1,2]}\n                        textAlign={'left'}\n                        color={'statValue'}\n                        lineHeight={'initial'}\n                      >\n                        {this.functionsUtil.formatMoney(forVotes.toFixed(0,1),0)}\n                      </Text>\n                    </Flex>\n                  </Flex>\n                  <Flex\n                    width={1/2}\n                    height={'100%'}\n                    justifyContent={'flex-start'}\n                  >\n                    <Flex\n                      width={1}\n                      height={'100%'}\n                      minWidth={'10%'}\n                      justifyContent={'flex-end'}\n                    >\n                      <Text\n                        fontWeight={3}\n                        fontSize={[1,2]}\n                        textAlign={'right'}\n                        color={'statValue'}\n                        lineHeight={'initial'}\n                      >\n                        {this.functionsUtil.formatMoney(againstVotes.toFixed(0,1),0)}\n                      </Text>\n                    </Flex>\n                  </Flex>\n                </Flex>\n              </Flex>\n            </DashboardCard>\n        }\n        {\n          hasVotes && \n            <Flex\n              mb={4}\n              width={1}\n              id={'votes-addresses-container'}\n              justifyContent={'space-between'}\n              flexDirection={['column','row']}\n            >\n              <DashboardCard\n                cardProps={{\n                  p:3,\n                  mb:[2,0],\n                  mr:[0,1],\n                  width:[1,1/2]\n                }}\n                id={'for-votes-addresses-container'}\n              >\n                <Flex\n                  width={1}\n                  alignItems={'center'}\n                  flexDirection={'column'}\n                  justifyContent={'center'}\n                >\n                  <Flex\n                    mb={2}\n                    width={1}\n                    alignItems={'center'}\n                    flexDirection={'row'}\n                    justifyContent={'space-between'}\n                  >\n                    <Text\n                      fontWeight={4}\n                      fontSize={[2,3]}\n                      textAlign={'left'}\n                      color={'dark-gray'}\n                      lineHeight={'initial'}\n                    >\n                      For Addresses ({forVotesAddrs.length})\n                    </Text>\n                    <Text\n                      fontWeight={4}\n                      fontSize={[2,3]}\n                      textAlign={'left'}\n                      color={'dark-gray'}\n                      lineHeight={'initial'}\n                    >\n                      Votes\n                    </Text>\n                  </Flex>\n                  <Flex\n                    width={1}\n                    style={{\n                      overflow:'scroll'\n                    }}\n                    maxHeight={'400px'}\n                    flexDirection={'column'}\n                  >\n                    {\n                      forVotesAddrs.map( (voteInfo,voteIndex) => {\n                        const delegateInfo = this.props.delegates.find( d => d.delegate.toLowerCase() === voteInfo.voter.toLowerCase() );\n                        const votes = this.functionsUtil.formatMoney(this.functionsUtil.BNify(voteInfo.votes).div(1e18).toFixed(4,1),4);\n                        return (\n                          <Flex\n                            py={2}\n                            width={1}\n                            alignItems={'stretch'}\n                            flexDirection={'column'}\n                            key={`vote_for_${voteIndex}`}\n                            borderBottom={`1px solid ${this.props.theme.colors['near-white']}`}\n                          >\n                            <Flex\n                              width={1}\n                              alignItems={'center'}\n                              flexDirection={'row'}\n                              justifyContent={'space-between'}\n                            >\n                              <Flex\n                                alignItems={'center'}\n                                flexDirection={'row'}\n                                justifyContent={'flex-start'}\n                              >\n                                <Blockie\n                                  opts={{\n                                    size: 7,\n                                    color: \"#dfe\",\n                                    bgcolor: \"#a71\",\n                                    spotcolor: \"#000\",\n                                    seed: voteInfo.voter,\n                                  }}\n                                />\n                                <Link\n                                  ml={2}\n                                  fontSize={1}\n                                  fontWeight={2}\n                                  target={'_blank'}\n                                  textAlign={'left'}\n                                  color={'dark-gray'}\n                                  lineHeight={'initial'}\n                                  hoverColor={'primary'}\n                                  rel={'nofollow noopener noreferrer'}\n                                  href={`/#/governance/leaderboard/${voteInfo.voter}`}\n                                >\n                                  {\n                                    this.props.isMobile ? (\n                                      <ShortHash\n                                        fontSize={1}\n                                        fontWeight={2}\n                                        {...this.props}\n                                        textAlign={'left'}\n                                        color={'dark-gray'}\n                                        hash={voteInfo.voter}\n                                        lineHeight={'initial'}\n                                      />\n                                    ) : voteInfo.voter\n                                  }\n                                </Link>\n                              </Flex>\n                              <Text\n                                fontSize={1}\n                                fontWeight={2}\n                                textAlign={'left'}\n                                color={'dark-gray'}\n                                lineHeight={'initial'}\n                              >\n                                {votes}\n                              </Text>\n                            </Flex>\n                            {\n                              delegateInfo && delegateInfo.delegators && delegateInfo.delegators.length>1 && (\n                                <Flex\n                                  mt={1}\n                                  ml={4}\n                                  px={2}\n                                  py={1}\n                                  width={'auto'}\n                                  flexDirection={'column'}\n                                  backgroundColor={'cardBgHover'}\n                                  borderLeft={`1px solid ${this.props.theme.colors.cardBorder}`}\n                                >\n                                  {\n                                    delegateInfo.delegators.map( (delegatorInfo,delegatorIndex) => (\n                                      <Flex\n                                        width={1}\n                                        justifyContent={'space-between'}\n                                        key={`delegator_${delegatorIndex}`}\n                                      >\n                                        <Link\n                                          fontSize={1}\n                                          fontWeight={2}\n                                          target={'_blank'}\n                                          textAlign={'left'}\n                                          color={'statValue'}\n                                          key={delegatorIndex}\n                                          lineHeight={'initial'}\n                                          hoverColor={'primary'}\n                                          rel={'nofollow noopener noreferrer'}\n                                          href={this.functionsUtil.getEtherscanAddressUrl(delegatorInfo.delegator)}\n                                        >\n                                          {\n                                            this.props.isMobile ? (\n                                              <ShortHash\n                                                fontSize={1}\n                                                fontWeight={2}\n                                                {...this.props}\n                                                hash={delegatorInfo.delegator}\n                                                textAlign={'left'}\n                                                color={'statValue'}\n                                                lineHeight={'initial'}\n                                              />\n                                            ) : delegatorInfo.delegator\n                                          }\n                                        </Link>\n                                        <Text\n                                          fontSize={1}\n                                          fontWeight={2}\n                                          textAlign={'left'}\n                                          color={'statValue'}\n                                          lineHeight={'initial'}\n                                        >\n                                          {this.functionsUtil.formatMoney(this.functionsUtil.BNify(delegatorInfo.votes).toFixed(4,1),4)}\n                                        </Text>\n                                      </Flex>\n                                    ))\n                                  }\n                                </Flex>\n                              )\n                            }\n                          </Flex>\n                        )\n                      })\n                    }\n                  </Flex>\n                </Flex>\n              </DashboardCard>\n              <DashboardCard\n                cardProps={{\n                  p:3,\n                  ml:[0,1],\n                  width:[1,1/2]\n                }}\n                id={'against-votes-addresses-container'}\n              >\n                <Flex\n                  mb={2}\n                  width={1}\n                  alignItems={'center'}\n                  flexDirection={'row'}\n                  justifyContent={'space-between'}\n                >\n                  <Text\n                    fontWeight={4}\n                    fontSize={[2,3]}\n                    textAlign={'left'}\n                    color={'dark-gray'}\n                    lineHeight={'initial'}\n                  >\n                    Against Addresses ({againstVotesAddrs.length})\n                  </Text>\n                  <Text\n                    fontWeight={4}\n                    fontSize={[2,3]}\n                    textAlign={'left'}\n                    color={'dark-gray'}\n                    lineHeight={'initial'}\n                  >\n                    Votes\n                  </Text>\n                </Flex>\n                <Flex\n                  width={1}\n                  style={{\n                    overflow:'scroll'\n                  }}\n                  maxHeight={'400px'}\n                  flexDirection={'column'}\n                >\n                  {\n                    againstVotesAddrs.map( (voteInfo,voteIndex) => {\n                      const delegateInfo = this.props.delegates.find( d => d.delegate.toLowerCase() === voteInfo.voter.toLowerCase() );\n                      const votes = this.functionsUtil.formatMoney(this.functionsUtil.BNify(voteInfo.votes).div(1e18).toFixed(4,1),4);\n                      return (\n                        <Flex\n                          py={2}\n                          width={1}\n                          alignItems={'stretch'}\n                          flexDirection={'column'}\n                          justifyContent={'space-between'}\n                          key={`vote_against_${voteIndex}`}\n                          borderBottom={`1px solid ${this.props.theme.colors['near-white']}`}\n                        >\n                          <Flex\n                            width={1}\n                            alignItems={'center'}\n                            flexDirection={'row'}\n                            justifyContent={'space-between'}\n                          >\n                            <Flex\n                              alignItems={'center'}\n                              flexDirection={'row'}\n                              justifyContent={'flex-start'}\n                            >\n                              <Blockie\n                                opts={{\n                                  size: 7,\n                                  color: \"#dfe\",\n                                  bgcolor: \"#a71\",\n                                  spotcolor: \"#000\",\n                                  seed: voteInfo.voter,\n                                }}\n                              />\n                              <Link\n                                ml={2}\n                                fontSize={1}\n                                fontWeight={2}\n                                target={'_blank'}\n                                textAlign={'left'}\n                                color={'dark-gray'}\n                                lineHeight={'initial'}\n                                hoverColor={'primary'}\n                                rel={'nofollow noopener noreferrer'}\n                                href={`/#/governance/leaderboard/${voteInfo.voter}`}\n                              >\n                                {voteInfo.voter}\n                              </Link>\n                            </Flex>\n                            <Text\n                              fontSize={1}\n                              fontWeight={2}\n                              textAlign={'left'}\n                              color={'dark-gray'}\n                              lineHeight={'initial'}\n                            >\n                              {votes}\n                            </Text>\n                          </Flex>\n                          {\n                            delegateInfo && delegateInfo.delegators && delegateInfo.delegators.length>1 && (\n                              <Flex\n                                mt={1}\n                                ml={4}\n                                px={2}\n                                py={1}\n                                width={'auto'}\n                                flexDirection={'column'}\n                                backgroundColor={'cardBgHover'}\n                                borderLeft={`1px solid ${this.props.theme.colors.cardBorder}`}\n                              >\n                                {\n                                  delegateInfo.delegators.map( (delegatorInfo,delegatorIndex) => (\n                                    <Flex\n                                      width={1}\n                                      justifyContent={'space-between'}\n                                      key={`delegator_${delegatorIndex}`}\n                                    >\n                                      <Link\n                                        fontSize={1}\n                                        fontWeight={2}\n                                        target={'_blank'}\n                                        textAlign={'left'}\n                                        color={'statValue'}\n                                        key={delegatorIndex}\n                                        lineHeight={'initial'}\n                                        hoverColor={'primary'}\n                                        rel={'nofollow noopener noreferrer'}\n                                        href={this.functionsUtil.getEtherscanAddressUrl(delegatorInfo.delegator)}\n                                      >\n                                        {\n                                          this.props.isMobile ? (\n                                            <ShortHash\n                                              fontSize={1}\n                                              fontWeight={2}\n                                              {...this.props}\n                                              hash={delegatorInfo.delegator}\n                                              textAlign={'left'}\n                                              color={'statValue'}\n                                              lineHeight={'initial'}\n                                            />\n                                          ) : delegatorInfo.delegator\n                                        }\n                                      </Link>\n                                      <Text\n                                        fontSize={1}\n                                        fontWeight={2}\n                                        textAlign={'left'}\n                                        color={'statValue'}\n                                        lineHeight={'initial'}\n                                      >\n                                        {this.functionsUtil.formatMoney(this.functionsUtil.BNify(delegatorInfo.votes).toFixed(4,1),4)}\n                                      </Text>\n                                    </Flex>\n                                  ))\n                                }\n                              </Flex>\n                            )\n                          }\n                        </Flex>\n                      )\n                    })\n                  }\n                </Flex>\n              </DashboardCard>\n            </Flex>\n        }\n      </Box>\n    );\n  }\n}\n\nexport default ProposalDetails;","import Title from '../Title/Title';\nimport { Box, Flex } from \"rimble-ui\";\nimport React, { Component } from 'react';\nimport Breadcrumb from '../Breadcrumb/Breadcrumb';\nimport NewProposal from './NewProposal/NewProposal';\nimport GovernanceUtil from '../utilities/GovernanceUtil';\nimport ProposalsList from './ProposalsList/ProposalsList';\nimport CardIconButton from '../CardIconButton/CardIconButton';\nimport ProposalDetails from './ProposalDetails/ProposalDetails';\n\nclass Proposals extends Component {\n  state = {\n    proposals:null,\n    delegates:null,\n    addProposal:false,\n    selectedProposal:null\n  };\n\n  // Utils\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    await this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n\n    const contractsInitialized = this.props.contractsInitialized && prevProps.contractsInitialized !== this.props.contractsInitialized;\n    if (contractsInitialized){\n      await this.loadData();\n    }\n  }\n\n  async loadData(){\n\n    if (!this.props.contractsInitialized){\n      return false;\n    }\n\n    const proposals = await this.governanceUtil.getProposals();\n    const delegates = await this.governanceUtil.getDelegates();\n\n    const { match: { params } } = this.props;\n      \n    // Look if proposalId exists\n    let addProposal = false;\n    let selectedProposal = null;\n    if (params.item_id && parseInt(params.item_id)){\n      const proposalId = parseInt(params.item_id);\n      const foundProposal = proposals.find( p => parseInt(p.id) === proposalId );\n      // Set selected proposal\n      if (foundProposal){\n        selectedProposal = foundProposal;\n      }\n    } else if (params.item_id && params.item_id.toLowerCase() === 'new'){\n      addProposal = true;\n    }\n\n    this.setState({\n      proposals,\n      delegates,\n      addProposal,\n      selectedProposal\n    });\n  }\n\n  render() {\n    return (\n      <Box\n        width={1}\n      >\n        <Flex\n          mb={3}\n          width={1}\n          alignItems={'center'}\n          flexDirection={'row'}\n          justifyContent={(this.state.selectedProposal || this.state.addProposal) ? 'space-between' : 'flex-end'}\n        >\n          {\n            this.state.selectedProposal ? (\n              <Flex\n                alignItems={'center'}\n                width={0.5}\n              >\n                <Breadcrumb\n                  {...this.props}\n                  text={'Governance'}\n                  pathLink={['proposals']}\n                  isMobile={this.props.isMobile}\n                  handleClick={ e => this.props.goToSection('/') }\n                  path={['Proposals',this.state.selectedProposal.title]}\n                />\n              </Flex>\n            ) : this.state.addProposal ? (\n              <Flex\n                alignItems={'center'}\n                width={0.5}\n              >\n                <Breadcrumb\n                  {...this.props}\n                  text={'Governance'}\n                  pathLink={['proposals']}\n                  isMobile={this.props.isMobile}\n                  path={['Proposals','Add proposal']}\n                  handleClick={ e => this.props.goToSection('/') }\n                />\n              </Flex>\n            ) : (\n              <Flex\n                alignItems={'center'}\n                width={0.5}\n              >\n                <Breadcrumb\n                  {...this.props}\n                  text={'Governance'}\n                  path={['Proposals']}\n                  isMobile={this.props.isMobile}\n                  handleClick={ e => this.props.goToSection('/') }\n                />\n              </Flex>\n            )\n          }\n          {\n            !this.state.addProposal && \n              <Flex\n                width={0.5}\n                alignItems={'center'}\n                justifyContent={'flex-end'}\n              >\n                <CardIconButton\n                  icon={'Add'}\n                  {...this.props}\n                  text={'New Proposal'}\n                  handleClick={ e => this.props.goToSection(`proposals/new`) }\n                />\n              </Flex>\n          }\n        </Flex>\n        {\n          this.state.selectedProposal ? (\n            <Box\n              width={1}\n            >\n              <ProposalDetails\n                {...this.props}\n                delegates={this.state.delegates}\n                loadData={this.loadData.bind(this)}\n                proposal={this.state.selectedProposal}\n              />\n            </Box>\n          ) : this.state.addProposal ? (\n            <Box\n              width={1}\n            >\n              <NewProposal\n                {...this.props}\n              />\n            </Box>\n          ) : (\n            <Box\n              width={1}\n            >\n              <Title\n                mb={[3,4]}\n              >\n                Governance Proposals\n              </Title>\n              <Flex\n                mb={3}\n                width={1}\n                id={'proposals'}\n                flexDirection={'column'}\n              >\n                <ProposalsList\n                  {...this.props}\n                  proposals={this.state.proposals}\n                  delegates={this.state.delegates}\n                  cols={[\n                    {\n                      title: '#',\n                      props:{\n                        width:[0.1,0.05]\n                      },\n                      fields:[\n                        {\n                          name:'id',\n                          props:{\n                          }\n                        },\n                      ]\n                    },\n                    {\n                      title:'DATE',\n                      mobile:false,\n                      props:{\n                        width:[0.15,0.12],\n                      },\n                      fields:[\n                        {\n                          name:'date'\n                        }\n                      ]\n                    },\n                    {\n                      title:'TITLE',\n                      props:{\n                        width:[0.75,0.60],\n                      },\n                      fields:[\n                        {\n                          name:'title'\n                        }\n                      ]\n                    },\n                    {\n                      mobile:false,\n                      title:'VOTES',\n                      props:{\n                        width:[0.11,0.11],\n                      },\n                      fields:[\n                        {\n                          name:'votes'\n                        }\n                      ]\n                    },\n                    {\n                      title:'STATUS',\n                      props:{\n                        width:[0.15,0.12],\n                        alignItems:['center','flex-start'],\n                        justifyContent:['center','flex-start']\n                      },\n                      parentProps:{\n                        justifyContent:['center','flex-start']\n                      },\n                      fields:[\n                        {\n                          name:'statusIcon',\n                          props:{\n                            mr:[0,2],\n                          },\n                        },\n                        {\n                          mobile:false,\n                          name:'status'\n                        }\n                      ]\n                    },\n                  ]}\n                />\n              </Flex>\n            </Box>\n          )\n        }\n      </Box>\n    );\n  }\n}\n\nexport default Proposals;\n","import Title from '../../Title/Title';\nimport React, { Component } from 'react';\nimport ExtLink from '../../ExtLink/ExtLink';\nimport StatsCard from '../../StatsCard/StatsCard';\nimport { Box, Flex, Blockie, Icon } from \"rimble-ui\";\nimport ProposalsList from '../ProposalsList/ProposalsList';\nimport GovernanceUtil from '../../utilities/GovernanceUtil';\nimport ShortHash from \"../../utilities/components/ShortHash\";\n\nclass DelegateDetails extends Component {\n\n  state = {\n    proposals:null\n  };\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadProposals();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n    const delegateChanged = JSON.stringify(prevProps.delegate) !== JSON.stringify(this.props.delegate);\n    if (delegateChanged){\n      this.loadProposals();\n    }\n  }\n\n  async loadProposals(){\n    const delegate = this.props.delegate;\n    const proposals = await this.governanceUtil.getProposals(delegate.delegate);\n\n    this.setState({\n      proposals\n    });\n  }\n\n  render() {\n\n    const delegate = this.props.delegate;\n\n    // rank\n    // votes\n    // delegate\n    // proposals\n    // vote_weight\n\n    return (\n      <Box\n        width={1}\n      >\n        <Title\n          mb={[3,4]}\n        >\n          Delegate Details\n        </Title>\n        <Flex\n          mb={3}\n          width={1}\n          alignItems={'center'}\n          justifyContent={'center'}\n          flexDirection={['column','row']}\n        >\n          <Flex\n            mb={[2,0]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              label={null}\n              title={'Rank'}\n              value={delegate.rank}\n              labelTooltip={ null }\n              minHeight={['100px','143px']}\n              titleMinHeight={['auto','50px']}\n            />\n          </Flex>\n          <Flex\n            mb={[2,0]}\n            pl={[0,1]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              titleMinHeight={['auto','50px']}\n              minHeight={['100px','143px']}\n              labelTooltip={ null }\n              title={'Address'}\n              label={null}\n            >\n              <Flex\n                alignItems={'center'}\n                flexDirection={'row'}\n                justifyContent={'center'}\n              >\n                <Blockie\n                  opts={{\n                    size: 12,\n                    color: \"#dfe\",\n                    bgcolor: \"#a71\",\n                    spotcolor: \"#000\",\n                    seed: delegate.delegate,\n                  }}\n                />\n                <ExtLink\n                  href={this.functionsUtil.getEtherscanAddressUrl(delegate.delegate)}\n                >\n                  <Flex\n                    flexDirection={'row'}\n                    alignItems={'flex-end'}\n                    justifyContent={'flex-start'}\n                  >\n                    <ShortHash\n                      ml={2}\n                      lineHeight={1}\n                      {...this.props}\n                      fontSize={[3,4]}\n                      fontWeight={[3,4]}\n                      color={'statValue'}\n                      hash={delegate.delegate}\n                    />\n                    <Icon\n                      ml={1}\n                      size={'1.2em'}\n                      name={'OpenInNew'}\n                      color={'statValue'}\n                    />\n                  </Flex>\n                </ExtLink>\n              </Flex>\n            </StatsCard>\n          </Flex>\n          <Flex\n            mb={[2,0]}\n            pl={[0,1]}\n            pr={[0,1]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              label={null}\n              title={'Votes'}\n              labelTooltip={null}\n              minHeight={['100px','143px']}\n              titleMinHeight={['auto','50px']}\n              value={this.functionsUtil.formatMoney(this.functionsUtil.BNify(delegate.votes).toFixed(2,1),2)}\n            />\n          </Flex>\n          <Flex\n            pl={[0,1]}\n            mb={[2,0]}\n            width={[1,1/4]}\n            flexDirection={'column'}\n          >\n            <StatsCard\n              label={null}\n              labelTooltip={ null }\n              title={'Proposals Voted'}\n              value={delegate.proposals}\n              minHeight={['100px','143px']}\n              titleMinHeight={['auto','50px']}\n            />\n          </Flex>\n        </Flex>\n        <Box\n          width={1}\n          mt={[4,5]}\n        >\n          <Title\n            mb={[2,3]}\n          >\n            Voting History\n          </Title>\n          <Flex\n            mb={[3,4]}\n            width={1}\n            id={'transactions'}\n            flexDirection={'column'}\n          >\n            <ProposalsList\n              {...this.props}\n              rowsPerPage={5}\n              delegate={delegate}\n              filtersEnabled={false}\n              proposals={this.state.proposals}\n              cols={[\n                {\n                  title: '#',\n                  props:{\n                    width:[0.08,0.05]\n                  },\n                  fields:[\n                    {\n                      name:'id',\n                      props:{\n                      }\n                    },\n                  ]\n                },\n                {\n                  title:'DATE',\n                  mobile:false,\n                  props:{\n                    width:0.12,\n                  },\n                  fields:[\n                    {\n                      name:'date'\n                    }\n                  ]\n                },\n                {\n                  title:'TITLE',\n                  props:{\n                    width:[0.66,0.57],\n                  },\n                  fields:[\n                    {\n                      name:'title'\n                    }\n                  ]\n                },\n                {\n                  title:'VOTE',\n                  props:{\n                    width:[0.14,0.14],\n                    textAlign:'center'\n                  },\n                  fields:[\n                    {\n                      name:'support',\n                      parentProps:{\n                        alignItems:'center'\n                      }\n                    }\n                  ]\n                },\n                {\n                  title:'STATUS',\n                  props:{\n                    width:[0.12,0.12],\n                    justifyContent:['center','flex-start']\n                  },\n                  parentProps:{\n                    justifyContent:['center','flex-start']\n                  },\n                  fields:[\n                    {\n                      name:'statusIcon',\n                      props:{\n                        mr:[0,2]\n                      }\n                    },\n                    {\n                      mobile:false,\n                      name:'status'\n                    }\n                  ]\n                },\n              ]}\n            />\n          </Flex>\n        </Box>\n      </Box>\n    );\n  }\n}\n\nexport default DelegateDetails;","import Title from '../Title/Title';\nimport { Box, Flex } from \"rimble-ui\";\nimport React, { Component } from 'react';\nimport Breadcrumb from '../Breadcrumb/Breadcrumb';\nimport GovernanceUtil from '../utilities/GovernanceUtil';\nimport DelegatesList from './DelegatesList/DelegatesList';\nimport DelegateDetails from './DelegateDetails/DelegateDetails';\n\nclass Leaderboard extends Component {\n  state = {\n    maxRows:100,\n    delegates:null,\n    selectedDelegate:null\n  };\n\n  // Utils\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n  }\n\n  async componentWillMount(){\n    this.loadUtils();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n  }\n\n  async loadData(){\n    const delegates = await this.governanceUtil.getDelegates();\n\n    const { match: { params } } = this.props;\n\n    // Select delegate\n    let selectedDelegate = null;\n    if (params.item_id){\n      const delegateId = params.item_id.toLowerCase();\n      const foundProposal = delegates.find( d => d.delegate.toLowerCase() === delegateId );\n      if (foundProposal){\n        selectedDelegate = foundProposal;\n      }\n    }\n\n    this.setState({\n      delegates,\n      selectedDelegate\n    });\n  }\n\n  render() {\n\n    return (\n      <Box\n        width={1}\n      >\n        {\n          this.state.selectedDelegate ? (\n            <Box\n              width={1}\n            >\n              <Flex\n                mb={3}\n                width={1}\n                alignItems={'center'}\n                flexDirection={'row'}\n                justifyContent={'flex-start'}\n              >\n                <Flex\n                  width={1}\n                >\n                  <Breadcrumb\n                    {...this.props}\n                    text={'Governance'}\n                    pathLink={['leaderboard']}\n                    isMobile={this.props.isMobile}\n                    handleClick={ e => this.props.goToSection('') }\n                    path={['Leaderboard',this.state.selectedDelegate.delegate]}\n                  />\n                </Flex>\n              </Flex>\n              <DelegateDetails\n                {...this.props}\n                delegate={this.state.selectedDelegate}\n              />\n            </Box>\n          ) : (\n            <Box\n              width={1}\n            >\n              <Flex\n                mb={3}\n                width={1}\n                alignItems={'center'}\n                flexDirection={'row'}\n                justifyContent={'flex-start'}\n              >\n                <Breadcrumb\n                  {...this.props}\n                  text={'Governance'}\n                  path={['Leaderboard']}\n                  isMobile={this.props.isMobile}\n                  handleClick={ e => this.props.goToSection('') }\n                />\n              </Flex>\n              <Title\n                mb={[3,4]}\n              >\n                Governance Leaderboard\n              </Title>\n              <Flex\n                mb={3}\n                width={1}\n                id={'leaderboard'}\n                flexDirection={'column'}\n              >\n                <DelegatesList\n                  {...this.props}\n                  delegates={this.state.delegates}\n                  cols={[\n                    {\n                      title: 'RANK',\n                      props:{\n                        width:[0.13,0.08]\n                      },\n                      fields:[\n                        {\n                          name:'rank'\n                        },\n                      ]\n                    },\n                    {\n                      title:'ADDRESS',\n                      props:{\n                        width:[0.60,0.38],\n                      },\n                      fields:[\n                        {\n                          mobile:false,\n                          name:'avatar',\n                          props:{\n                            mr:2\n                          }\n                        },\n                        {\n                          name:'delegate'\n                        }\n                      ]\n                    },\n                    {\n                      mobile:false,\n                      title:'DELEGATORS',\n                      props:{\n                        width:[0.27,0.15],\n                        textAlign:'center',\n                      },\n                      fields:[\n                        {\n                          name:'delegators',\n                          parentProps:{\n                            alignItems:'center'\n                          }\n                        }\n                      ]\n                    },\n                    {\n                      title:'VOTES',\n                      props:{\n                        width:[0.27,0.10],\n                      },\n                      fields:[\n                        {\n                          name:'votes'\n                        }\n                      ]\n                    },\n                    {\n                      mobile:false,\n                      title:'VOTE WEIGHT',\n                      props:{\n                        width:[0.15,0.13],\n                        textAlign:'center',\n                      },\n                      fields:[\n                        {\n                          name:'vote_weight',\n                          parentProps:{\n                            alignItems:'center'\n                          }\n                        }\n                      ]\n                    },\n                    {\n                      mobile:false,\n                      title:'PROPOSALS VOTED',\n                      props:{\n                        width:[0.15,0.14],\n                        textAlign:'center',\n                      },\n                      fields:[\n                        {\n                          name:'proposals',\n                          parentProps:{\n                            alignItems:'center'\n                          }\n                        }\n                      ]\n                    },\n                  ]}\n                />\n              </Flex>\n            </Box>\n          )\n        }\n      </Box>\n    );\n  }\n}\n\nexport default Leaderboard;","import React, { Component } from 'react';\nimport GovernanceUtil from '../utilities/GovernanceUtil';\nimport TxProgressBar from '../TxProgressBar/TxProgressBar';\nimport { Flex, Text, Button, Icon, Checkbox, Input } from \"rimble-ui\";\n\nclass DelegateVesting extends Component {\n\n  state = {\n    processing:{\n      txHash:null,\n      loading:false\n    },\n    newDelegate:'',\n    delegatee:null,\n    vestedAmount:null,\n    vestingAmount:null,\n    currentDelegate:null,\n    delegateAddressValid:false,\n    delegateDifferentWallet:false,\n    vestingContractDelegated:false\n  };\n\n  // Utils\n  idleGovToken = null;\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils(){\n    if (this.governanceUtil){\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    this.functionsUtil = this.governanceUtil.functionsUtil;\n    this.idleGovToken = this.functionsUtil.getIdleGovToken();\n  }\n\n  async loadData(){\n    const idleGovTokenEnabled = this.functionsUtil.getGlobalConfig(['govTokens','IDLE','enabled']);\n    if (idleGovTokenEnabled && this.props.account){\n      const [\n        delegatesChanges,\n        currentDelegate,\n        vestingContract,\n      ] = await Promise.all([\n        this.governanceUtil.getDelegatesChanges(),\n        this.governanceUtil.getCurrentDelegate(this.props.account),\n        this.governanceUtil.getVestingContract(this.props.account)\n      ]);\n\n      // Init flags\n      let delegatee = null;\n      let vestedAmount = null;\n      let vestingAmount = null;\n      let vestingContractDelegated = false;\n\n      if (vestingContract){\n        // Take vesting and vested amount\n        vestedAmount = await this.governanceUtil.getVestedAmount(this.props.account);\n        vestingAmount = await this.governanceUtil.getVestingAmount(this.props.account);\n\n        // Check Vesting Contract Delegated\n        const lastDelegateTx = delegatesChanges.filter( d => (d.returnValues.delegator.toLowerCase() === vestingContract.toLowerCase() ) ).pop();\n        delegatee = lastDelegateTx ? lastDelegateTx.returnValues.toDelegate : false;\n        vestingContractDelegated = delegatee && delegatee !== '0x0000000000000000000000000000000000000000';\n      }\n\n      return this.setState({\n        delegatee,\n        vestedAmount,\n        vestingAmount,\n        currentDelegate,\n        vestingContractDelegated\n      });\n    }\n    return null;\n  }\n\n  /*\n  async delegateTokens(){\n\n    const callback = (tx,error) => {\n      // Send Google Analytics event\n      const eventData = {\n        eventCategory: 'Governance',\n        eventAction: 'delegateTokens',\n      };\n\n      if (error){\n        eventData.eventLabel = this.functionsUtil.getTransactionError(error);\n      }\n\n      // Send Google Analytics event\n      if (error || eventData.status !== 'error'){\n        this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n      }\n\n\n      const newState = {\n        processing: {\n          txHash:null,\n          loading:false\n        }\n      };\n\n      const txSucceeded = tx.status === 'success';\n      if (txSucceeded){\n        newState.idleTokenDelegated = true;\n        this.loadData();\n      }\n\n      this.setState(newState);\n    };\n\n    const callbackReceipt = (tx) => {\n      const txHash = tx.transactionHash;\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          txHash\n        }\n      }));\n    };\n\n    this.governanceUtil.setDelegate(this.props.account,callback,callbackReceipt);\n\n    this.setState((prevState) => ({\n      processing: {\n        ...prevState.processing,\n        loading:true\n      }\n    }));\n  }\n  */\n\n  async delegateVesting(revoke=false){\n\n    let delegate = this.state.delegateDifferentWallet ? this.state.newDelegate : this.props.account;\n    if (revoke){\n      delegate = '0x'+'0'.repeat(40);\n    }\n\n    const delegateValid = this.functionsUtil.checkAddress(delegate);\n    if (!delegateValid){\n      return false;\n    }\n\n    const callback = (tx,error) => {\n      // Send Google Analytics event\n      const eventData = {\n        eventCategory: 'Governance',\n        eventAction: 'delegateVesting',\n      };\n\n      if (error){\n        eventData.eventLabel = this.functionsUtil.getTransactionError(error);\n      }\n\n      // Send Google Analytics event\n      if (error || eventData.status !== 'error'){\n        this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n      }\n\n      const newState = {\n        processing: {\n          txHash:null,\n          loading:false\n        }\n      };\n\n      const txSucceeded = tx.status === 'success';\n      if (txSucceeded){\n        newState.delegatee=delegate;\n        newState.delegateDifferentWallet=false;\n        newState.vestingContractDelegated=!revoke;\n        this.loadData();\n      }\n\n      this.setState(newState);\n    };\n\n    const callbackReceipt = (tx) => {\n      const txHash = tx.transactionHash;\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          txHash\n        }\n      }));\n    };\n\n    this.governanceUtil.delegateVesting(this.props.account,delegate,callback,callbackReceipt);\n\n    this.setState((prevState) => ({\n      processing: {\n        ...prevState.processing,\n        loading:true\n      }\n    }));\n  }\n\n  async claimVestedTokens(){\n    const callback = (tx,error) => {\n      // Send Google Analytics event\n      const eventData = {\n        eventCategory: 'Governance',\n        eventAction: 'claimVestedTokens',\n      };\n\n      if (error){\n        eventData.eventLabel = this.functionsUtil.getTransactionError(error);\n      }\n\n      // Send Google Analytics event\n      if (error || eventData.status !== 'error'){\n        this.functionsUtil.sendGoogleAnalyticsEvent(eventData);\n      }\n\n      const newState = {\n        processing: {\n          txHash:null,\n          loading:false\n        }\n      };\n\n      const txSucceeded = tx.status === 'success';\n      if (txSucceeded){\n        this.loadData();\n      }\n\n      this.setState(newState);\n    };\n\n    const callbackReceipt = (tx) => {\n      const txHash = tx.transactionHash;\n      this.setState((prevState) => ({\n        processing: {\n          ...prevState.processing,\n          txHash\n        }\n      }));\n    };\n\n    this.governanceUtil.claimVestedTokens(this.props.account,callback,callbackReceipt);\n\n    this.setState((prevState) => ({\n      processing: {\n        ...prevState.processing,\n        loading:true\n      }\n    }));\n  }\n\n  changeDelegate(e){\n    const newDelegate = e.target.value;\n    const delegateAddressValid = this.functionsUtil.checkAddress(newDelegate);\n    this.setState({\n      newDelegate,\n      delegateAddressValid\n    });\n  }\n\n  setDelegateDifferentWallet(delegateDifferentWallet){\n    this.setState({\n      delegateDifferentWallet\n    });\n  }\n\n  async cancelTransaction(){\n    this.setState({\n      processing: {\n        txHash:null,\n        loading:false\n      }\n    });\n  }\n\n  async componentDidMount(){\n    this.loadUtils();\n    this.loadData();\n  }\n\n  async componentDidUpdate(prevProps,prevState){\n    this.loadUtils();\n    const accountChanged = prevProps.account !== this.props.account;\n    if (accountChanged){\n      this.loadData();\n    }\n  }\n\n  render() {\n    return this.state.vestingAmount && this.functionsUtil.BNify(this.state.vestingAmount).gt(0) ? (\n      <Flex\n        p={2}\n        mb={3}\n        width={1}\n        border={2}\n        borderRadius={1}\n        alignItems={'center'}\n        flexDirection={'column'}\n        justifyContent={'center'}\n        backgroundColor={'cardBgHover'}\n      >\n        <Flex\n          width={1}\n          alignItems={'center'}\n          flexDirection={'column'}\n          justifyContent={'center'}\n        >\n          <Text\n            mb={1}\n            fontSize={3}\n            fontWeight={500}\n            color={'flashColor'}\n            textAlign={'center'}\n          >\n            You have {this.state.vestingAmount.div(1e18).toFixed(5)} {this.functionsUtil.getGlobalConfig(['governance','props','tokenName'])} in the Vesting Contract ({this.state.vestedAmount.toFixed(5)} IDLE unlocked).\n          </Text>\n          {\n            (!this.state.processing || !this.state.processing.loading) && (\n              <Button\n                mb={3}\n                size={'small'}\n                mainColor={'blue'}\n                onClick={ e => this.claimVestedTokens() }\n              >\n                CLAIM TOKENS\n              </Button>\n            )\n          }\n          {\n            (this.state.vestingContractDelegated && this.state.delegatee && !this.state.delegateDifferentWallet) ? (\n              <Text\n                mb={1}\n                fontWeight={500}\n                color={'flashColor'}\n                fontSize={'15px'}\n                textAlign={'center'}\n              >\n                Currently your votes are delegated to {this.state.delegatee}\n              </Text>\n            ) : (\n              <Flex\n                width={1}\n                alignItems={'center'}\n                flexDirection={'column'}\n                justifyContent={'center'}\n              >\n                <Text\n                  mb={1}\n                  fontWeight={500}\n                  fontSize={'15px'}\n                  color={'flashColor'}\n                  textAlign={'center'}\n                >\n                  {\n                    this.state.delegateDifferentWallet ? 'Follow the next steps to delegate your tokens:' : 'Press the button below to delegate the votes in the vesting contract to yourself:'\n                  }\n                </Text>\n                {\n                  this.state.delegateDifferentWallet && (\n                    <Flex\n                      mb={2}\n                      alignItems={'center'}\n                      flexDirection={'column'}\n                    > \n                      <Flex\n                        width={1}\n                        alignItems={'center'}\n                        flexDirection={'row'}\n                      >\n                        <Icon\n                          size={'1.5em'}\n                          name={ this.state.delegateAddressValid ? 'CheckBox' : 'LooksOne'}\n                          color={ this.state.delegateAddressValid ? this.props.theme.colors.transactions.status.completed : 'cellText'}\n                        />\n                        <Text\n                          ml={1}\n                          fontWeight={500}\n                          fontSize={'15px'}\n                          textAlign={'left'}\n                          color={'flashColor'}\n                        >\n                          Insert delegate address\n                        </Text>\n                      </Flex>\n                      <Flex\n                        mt={2}\n                        width={1}\n                        alignItems={'center'}\n                        flexDirection={'row'}\n                      >\n                        <Icon\n                          size={'1.5em'}\n                          name={'LooksTwo'}\n                          color={'cellText'}\n                        />\n                        <Text\n                          ml={1}\n                          fontWeight={500}\n                          fontSize={'15px'}\n                          color={'flashColor'}\n                          textAlign={'left'}\n                        >\n                          Delegate Vesting\n                        </Text>\n                      </Flex>\n                    </Flex>\n                  )\n                }\n              </Flex>\n            )\n          }\n        </Flex>\n        {\n          this.state.delegateDifferentWallet && (\n            <Input\n              mb={2}\n              min={0}\n              type={'text'}\n              required={true}\n              borderRadius={2}\n              fontWeight={500}\n              textAlign={'center'}\n              width={['100%','30em']}\n              borderColor={'cardBorder'}\n              backgroundColor={'cardBg'}\n              boxShadow={'none !important'}\n              value={this.state.newDelegate}\n              placeholder={`Insert delegate address`}\n              onChange={this.changeDelegate.bind(this)}\n              border={`1px solid ${this.props.theme.colors.divider}`}\n            />\n          )\n        }\n        {\n          this.state.processing && this.state.processing.loading ? (\n            <Flex\n              width={1}\n              flexDirection={'column'}\n            >\n              <TxProgressBar\n                {...this.props}\n                waitText={`Delegate estimated in`}\n                hash={this.state.processing.txHash}\n                endMessage={`Finalizing delegate request...`}\n                cancelTransaction={this.cancelTransaction.bind(this)}\n              />\n            </Flex>\n          ) : (this.state.vestingContractDelegated && !this.state.delegateDifferentWallet) ? (\n            <Button\n              size={'small'}\n              mainColor={'red'}\n              onClick={ e => this.delegateVesting(true) }\n            >\n              REVOKE DELEGATE\n            </Button>\n          )\n          /*\n          : !this.state.idleTokenDelegated && !this.state.delegateDifferentWallet ? (\n            <Button\n              size={'small'}\n              onClick={ e => this.delegateTokens() }\n            >\n              DELEGATE TOKENS\n            </Button>\n          )*/\n          : (!this.state.vestingContractDelegated || this.state.delegateDifferentWallet) && (\n            <Button\n              size={'small'}\n              mainColor={'blue'}\n              onClick={ e => this.delegateVesting(false) }\n              disabled={ this.state.delegateDifferentWallet && !this.state.delegateAddressValid }\n            >\n              DELEGATE VESTING\n            </Button>\n          )\n        }\n        <Checkbox\n          mt={1}\n          required={false}\n          color={'#f3f6ff'}\n          label={`Delegate to different wallet`}\n          checked={this.state.delegateDifferentWallet}\n          onChange={ e => this.setDelegateDifferentWallet(e.target.checked) }\n        />\n      </Flex>\n    ) : null;\n  }\n}\n\nexport default DelegateVesting;\n","import React, { Component } from \"react\";\nimport FlexLoader from \"../FlexLoader/FlexLoader\";\nimport { Flex, Card, Icon, Text } from \"rimble-ui\";\nimport GovernanceUtil from \"../utilities/GovernanceUtil\";\nimport DashboardMenu from \"../DashboardMenu/DashboardMenu\";\n\n// Import page components\nimport Overview from \"./Overview\";\nimport Delegate from \"./Delegate\";\nimport Proposals from \"./Proposals\";\nimport Leaderboard from \"./Leaderboard\";\nimport RoundButton from \"../RoundButton/RoundButton\";\nimport Swipeable from '../utilities/components/Swipeable';\nimport DashboardCard from \"../DashboardCard/DashboardCard\";\nimport TooltipModal from \"../utilities/components/TooltipModal\";\nimport DashboardHeader from \"../DashboardHeader/DashboardHeader\";\nimport DelegateVesting from \"../DelegateVesting/DelegateVesting\";\n\nclass Dashboard extends Component {\n  state = {\n    menu:[],\n    votes:null,\n    balance:null,\n    baseRoute:null,\n    modalTitle:null,\n    clickEvent:null,\n    activeModal:null,\n    menuOpened:false,\n    blockNumber:null,\n    currentRoute:null,\n    votingPeriod:null,\n    modalContent:null,\n    pageComponent:null,\n    timelockDelay:null,\n    currentSection:null,\n    selectedSection:null,\n    currentDelegate:null,\n    proposalThreshold:null,\n    governanceEnabled:false,\n    selectedSubsection:null,\n    proposalMaxOperations:null\n  };\n\n  timeoutId = null;\n\n  // Utils\n  functionsUtil = null;\n  governanceUtil = null;\n\n  loadUtils() {\n    if (this.governanceUtil) {\n      this.governanceUtil.setProps(this.props);\n    } else {\n      this.governanceUtil = new GovernanceUtil(this.props);\n    }\n\n    window.governanceUtil = this.governanceUtil;\n    window.functionsUtil = this.functionsUtil = this.governanceUtil.functionsUtil;\n  }\n\n  async loadMenu() {\n    const menu = [];\n    const baseRoute = this.functionsUtil.getGlobalConfig([\n      \"governance\",\n      \"baseRoute\"\n    ]);\n    const extraicons = this.functionsUtil.getGlobalConfig([\"extraicons\"]);\n\n    // Add Proposals\n    menu.push({\n      submenu: [],\n      selected: true,\n      route: baseRoute,\n      label: \"Overview\",\n      color: \"dark-gray\",\n      component: Overview,\n      image: extraicons[\"overview\"].icon,\n      bgColor: this.props.theme.colors.primary,\n      imageDark: extraicons[\"overview\"].iconDark,\n      imageInactive: extraicons[\"overview\"].iconInactive,\n      imageInactiveDark: extraicons[\"overview\"].iconInactiveDark\n    });\n\n    // Add Proposals\n    menu.push({\n      submenu: [],\n      selected: false,\n      label: \"Proposals\",\n      bgColor: \"#00acff\",\n      color: \"dark-gray\",\n      component: Proposals,\n      route: `${baseRoute}/proposals`,\n      image: extraicons[\"proposals\"].icon,\n      imageDark: extraicons[\"proposals\"].iconDark,\n      imageInactive: extraicons[\"proposals\"].iconInactive,\n      imageInactiveDark: extraicons[\"proposals\"].iconInactiveDark\n    });\n\n    // Add Leaderboard\n    menu.push({\n      submenu: [],\n      selected: false,\n      bgColor: \"#ff0000\",\n      color: \"dark-gray\",\n      label: \"Leaderboard\",\n      component: Leaderboard,\n\n      route: `${baseRoute}/leaderboard`,\n      image: extraicons[\"leaderboard\"].icon,\n      imageDark: extraicons[\"leaderboard\"].iconDark,\n      imageInactive: extraicons[\"leaderboard\"].iconInactive,\n      imageInactiveDark: extraicons[\"leaderboard\"].iconInactiveDark\n    });\n\n    // Add tools\n    menu.push({\n      submenu: [],\n      selected: false,\n      label: \"Delegate\",\n      color: \"dark-gray\",\n      bgColor: \"#ff0000\",\n      component: Delegate,\n\n      route: `${baseRoute}/delegate`,\n      image: extraicons[\"delegate\"].icon,\n      imageDark: extraicons[\"delegate\"].iconDark,\n      imageInactive: extraicons[\"delegate\"].iconInactive,\n      imageInactiveDark: extraicons[\"delegate\"].iconInactiveDark\n    });\n\n    // Add Forum\n    menu.push({\n      submenu: [],\n\n      mobile: false,\n      label: \"Forum\",\n      selected: false,\n      component: null,\n      color: \"dark-gray\",\n      bgColor: \"#ff0000\",\n      isExternalLink: true,\n      route: this.functionsUtil.getGlobalConfig([\"forumURL\"]),\n      image: extraicons[\"forum\"].icon,\n      imageDark: extraicons[\"forum\"].iconDark,\n      imageInactive: extraicons[\"forum\"].iconInactive,\n      imageInactiveDark: extraicons[\"forum\"].iconInactiveDark\n    });\n\n    await this.setState({\n      menu,\n      baseRoute\n    });\n  }\n\n  resetModal = () => {\n    this.setState({\n      activeModal: null\n    });\n  };\n\n  openTooltipModal = (modalTitle, modalContent) => {\n    this.functionsUtil.sendGoogleAnalyticsEvent({\n      eventCategory: \"UI\",\n      eventAction: modalTitle,\n      eventLabel: \"TooltipModal\"\n    });\n\n    this.setState(\n      {\n        modalTitle,\n        modalContent\n      },\n      () => {\n        this.setActiveModal(\"tooltip\");\n      }\n    );\n  };\n\n  setActiveModal = activeModal => {\n    this.setState({\n      activeModal\n    });\n  };\n\n  async loadParams() {\n\n    if (!this.props.networkInitialized){\n      return;\n    }\n\n    const {\n      match: { params }\n    } = this.props;\n\n    const baseRoute = this.state.baseRoute;\n    const currentRoute = window.location.hash.substr(1);\n\n    let pageComponent = null;\n    let currentSection = null;\n\n    const menu = this.state.menu;\n\n    let selectedSection = null;\n    let selectedSubsection = null;\n\n    menu.forEach(m => {\n      m.selected = false;\n      const sectionRoute = baseRoute + \"/\" + params.section;\n      if (\n        currentRoute.toLowerCase() === m.route.toLowerCase() ||\n        (!m.submenu.length &&\n          m.route.toLowerCase() === sectionRoute.toLowerCase())\n      ) {\n        m.selected = true;\n        if (pageComponent === null) {\n          pageComponent = m.component;\n        }\n      } else if (m.submenu.length) {\n        m.submenu.forEach(subm => {\n          subm.selected = false;\n          const submRoute = m.route + \"/\" + subm.route;\n          if (submRoute.toLowerCase() === currentRoute.toLowerCase()) {\n            m.selected = true;\n            subm.selected = true;\n\n            // Set component, if null use parent\n            if (pageComponent === null) {\n              if (subm.component) {\n                pageComponent = subm.component;\n              } else {\n                pageComponent = m.component;\n              }\n            }\n          }\n\n          // Set selected subsection\n          if (subm.selected) {\n            selectedSubsection = subm;\n          }\n        });\n      }\n\n      // Set selected section\n      if (m.selected) {\n        selectedSection = m;\n      }\n    });\n\n    // Exit if no strategy or token selected\n    if (!pageComponent) {\n      return this.goToSection(\"/\", false);\n    }\n\n    // Send GA pageview\n    this.functionsUtil.sendGoogleAnalyticsPageview(currentRoute);\n\n    await this.setState({\n      menu,\n      params,\n      baseRoute,\n      currentRoute,\n      pageComponent,\n      currentSection,\n      selectedSection,\n      selectedSubsection\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.timeoutId) {\n      window.clearTimeout(this.timeoutId);\n    }\n  }\n\n  async componentWillMount() {\n    this.props.setCurrentSection(\"governance\");\n    this.loadUtils();\n    await this.loadMenu();\n  }\n\n  async componentDidMount() {\n    this.timeoutId = window.setTimeout(() => {\n      if (!this.props.accountInizialized || !this.props.networkInitialized || !this.props.contractsInitialized) {\n        this.setState({\n          showResetButton: true\n        });\n      }\n    }, 60000);\n\n    if (!this.props.web3){\n      return this.props.initWeb3();\n    } else if (!this.props.accountInizialized){\n      return this.props.initAccount();\n    } else if (!this.props.contractsInitialized){\n      return this.props.initializeContracts();\n    }\n\n    this.loadUtils();\n    this.checkEnabled();\n  }\n\n  checkEnabled(){\n    if (!this.props.networkInitialized){\n      return false;\n    }\n\n    const currentNetworkId = this.functionsUtil.getRequiredNetworkId();\n    const governanceConfig = this.functionsUtil.getGlobalConfig(['governance']);\n    const governanceEnabled = governanceConfig.enabled && governanceConfig.availableNetworks.includes(currentNetworkId);\n\n    return this.setState({\n      governanceEnabled\n    },() => {\n      this.loadParams();\n      this.loadData();\n    });\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const accountChanged = nextProps.account !== this.props.account;\n    const stateChanged = JSON.stringify(this.state) !== JSON.stringify(nextState);\n    const paramsChanged = JSON.stringify(this.props.match.params) !== JSON.stringify(nextProps.match.params);\n    const requiredNetworkChanged = JSON.stringify(nextProps.network.required) !== JSON.stringify(this.props.network.required);\n    const networkChanged = (!this.props.networkInitialized && nextProps.networkInitialized) || requiredNetworkChanged;\n    const accountInizialized = nextProps.accountInizialized && nextProps.accountInizialized !== this.props.accountInizialized;\n    const contractsInitialized = nextProps.contractsInitialized && nextProps.contractsInitialized !== this.props.contractsInitialized;\n    const contractsChanged = this.props.contracts.length !== nextProps.contracts.length || this.props.contracts.map( c => c.name ).filter( contractName => !nextProps.contracts.map( c => c.name ).includes(contractName) ).length>0;\n    return stateChanged || contractsChanged || paramsChanged || accountChanged || networkChanged || requiredNetworkChanged || accountInizialized || contractsInitialized;\n  }\n\n  async componentDidUpdate(prevProps,prevState) {\n    this.loadUtils();\n\n    const prevParams = prevProps.match.params;\n    const params = this.props.match.params;\n\n    if (JSON.stringify(prevParams) !== JSON.stringify(params)) {\n      await this.setState(\n        {\n          pageComponent: null\n        },\n        () => {\n          this.loadParams();\n        }\n      );\n    }\n\n    const accountChanged = prevProps.account !== this.props.account;\n    const requiredNetworkChanged = JSON.stringify(prevProps.network.required) !== JSON.stringify(this.props.network.required);\n    const networkChanged = (!prevProps.networkInitialized && this.props.networkInitialized) || requiredNetworkChanged;\n    const accountInizialized = this.props.accountInizialized && prevProps.accountInizialized !== this.props.accountInizialized;\n    const contractsInitialized = this.props.contractsInitialized && prevProps.contractsInitialized !== this.props.contractsInitialized;\n\n    // console.log('networkChanged',requiredNetworkChanged,networkChanged,this.props.networkInitialized)\n\n    if (accountChanged || accountInizialized || contractsInitialized || networkChanged) {\n      this.componentDidMount();\n    }\n  }\n\n  goToSection(section, isGovernance = true) {\n    // Remove dashboard route\n    if (isGovernance) {\n      section = section.replace(this.state.baseRoute + \"/\", \"\");\n    }\n\n    const newRoute = (isGovernance\n      ? this.state.baseRoute + (section.length > 0 ? \"/\" + section : \"\")\n      : section\n    ).replace(/[/]+$/, \"\");\n    window.location.hash = newRoute;\n\n    // Send GA event\n    this.functionsUtil.sendGoogleAnalyticsEvent({\n      eventCategory: \"UI\",\n      eventLabel: newRoute,\n      eventAction: \"goToSection\"\n    });\n\n    window.scrollTo(0, 0);\n  }\n\n  async loadData() {\n    if (!this.props.web3 || !this.props.contractsInitialized || !this.props.networkInitialized || !this.state.governanceEnabled) {\n      return false;\n    }\n\n    const newState = {};\n    const [\n      blockNumber,\n      votingPeriod,\n      timelockDelay,\n      { proposalThreshold, proposalMaxOperations }\n    ] = await Promise.all([\n      this.functionsUtil.getBlockNumber(),\n      this.governanceUtil.getVotingPeriod(),\n      this.governanceUtil.getTimelockDelay(),\n      this.governanceUtil.getProposalParams()\n    ]);\n\n    newState.blockNumber = blockNumber;\n    newState.votingPeriod = votingPeriod;\n    newState.timelockDelay = timelockDelay;\n    newState.proposalThreshold = proposalThreshold;\n    newState.proposalMaxOperations = proposalMaxOperations;\n\n    if (this.props.account) {\n      const [\n        votes,\n        balance,\n        currentDelegate\n      ] = await Promise.all([\n        this.governanceUtil.getCurrentVotes(this.props.account),\n        this.governanceUtil.getTokensBalance(this.props.account),\n        this.governanceUtil.getCurrentDelegate(this.props.account)\n      ]);\n\n      newState.votes = votes;\n      newState.balance = balance;\n      newState.currentDelegate = currentDelegate;\n    }\n\n    this.setState(newState);\n  }\n\n  logout = async () => {\n    this.props.setConnector(\"Infura\", \"Infura\");\n    await this.props.initWeb3(\"Infura\");\n  };\n\n  setMenu(menuOpened){\n    this.setState({\n      menuOpened\n    });\n  }\n\n  toggleMenu(){\n    const menuOpened = !this.state.menuOpened;\n    this.setMenu(menuOpened);\n  }\n\n  swipeCallback(eventData){\n    // console.log('swipeCallback',eventData);\n    if (eventData.dir === 'Right'){\n      this.setMenu(true);\n    } else if (eventData.dir === 'Left'){\n      this.setMenu(false);\n    }\n  }\n\n  render() {\n\n    const PageComponent = this.state.pageComponent ? this.state.pageComponent : null;\n    const availableNetworks = this.functionsUtil.getGlobalConfig(['governance','availableNetworks']);\n    const networkInitialized = this.props.networkInitialized && this.props.network.current.id && this.props.network.required.id;\n\n    // console.log('networkInitialized',networkInitialized,this.props.network.current.id,this.props.network.required.id);\n    if (!this.props.availableStrategies){\n      return (\n        <Flex\n          width={1}\n          minHeight={'100vh'}\n          alignItems={'center'}\n          flexDirection={'column'}\n          justifyContent={'center'}\n          backgroundColor={'selectBg'}\n        >\n          <FlexLoader\n            textProps={{\n              textSize: 4,\n              fontWeight: 2\n            }}\n            loaderProps={{\n              mb: 3,\n              size: '80px',\n              color: 'primary'\n            }}\n            flexProps={{\n              my: 3,\n              flexDirection: 'column'\n            }}\n            text={''}\n          />\n        </Flex>\n      );\n    }\n\n    return (\n      <Swipeable\n        callback={this.swipeCallback.bind(this)}\n      >\n        <Flex\n          height={'100vh'}\n          position={'fixed'}\n          flexDirection={'row'}\n          backgroundColor={'dashboardBg'}\n          className={this.props.themeMode}\n          width={this.props.isMobile && this.state.menuOpened ? '180vw' : '100vw'}\n        >\n          {\n            (!this.props.isMobile || this.state.menuOpened) && (\n              <Flex\n                bottom={0}\n                zIndex={99999}\n                width={['80vw',1/6]}\n                position={'relative'}\n                flexDirection={'column'}\n              >\n                <Card\n                  p={0}\n                  border={0}\n                  width={'auto'}\n                  height={'100vh'}\n                  backgroundColor={'menuBg'}\n                  borderColor={this.props.theme.colors.menuRightBorder}\n                  borderRight={`1px solid ${this.props.theme.colors.menuRightBorder}`}\n                  >\n                  <DashboardMenu\n                    {...this.props}\n                    menu={this.state.menu}\n                    closeMenu={e => this.setMenu(false)}\n                    goToSection={this.goToSection.bind(this)}\n                  />\n                </Card>\n              </Flex>\n            )\n          }\n          <Flex\n            flexDirection={\"column\"}\n            width={['100vw', 5 / 6]}\n          >\n            <DashboardHeader\n              menuOpened={this.state.menuOpened}\n              clickEvent={this.state.clickEvent}\n              toggleMenu={this.toggleMenu.bind(this)}\n              goToSection={this.goToSection.bind(this)}\n              {...this.props}\n            />\n            <Flex\n              py={3}\n              mb={0}\n              width={1}\n              px={[3,5]}\n              style={{\n                overflowY:'scroll',\n                overflowX:'hidden'\n              }}\n              flexDirection={'column'}\n              minHeight={['92vh','auto']}\n              backgroundColor={'dashboardBg'}\n            >\n              {\n                this.state.governanceEnabled && this.props.accountInizialized && this.props.networkInitialized && this.props.web3 && (\n                  <DelegateVesting\n                    {...this.props}\n                  />\n                )\n              }\n              {\n                !networkInitialized || !this.props.accountInizialized || !this.props.contractsInitialized || !this.state.governanceEnabled || !PageComponent ? (\n                  <Flex\n                    width={1}\n                    minHeight={\"55vh\"}\n                    alignItems={\"center\"}\n                    flexDirection={\"column\"}\n                    justifyContent={\"center\"}\n                  >\n                    {\n                      networkInitialized && !this.props.network.isCorrectNetwork ? (\n                        <DashboardCard\n                          cardProps={{\n                            p: 3,\n                            mt: 3,\n                            width: [1, 0.35]\n                          }}\n                        >\n                          <Flex\n                            alignItems={'center'}\n                            flexDirection={'column'}\n                          >\n                            <Icon\n                              size={'2.3em'}\n                              name={'Warning'}\n                              color={'cellText'}\n                            />\n                            <Text\n                              mt={2}\n                              fontSize={2}\n                              color={'cellText'}\n                              textAlign={'center'}\n                            >\n                              You should be on the <strong>{this.functionsUtil.capitalize(this.props.network.required.name)} network</strong>. You are currently connected to the <strong>{this.functionsUtil.capitalize(this.props.network.current.name)} network</strong>, please switch to the correct network.\n                            </Text>\n                            <RoundButton\n                              buttonProps={{\n                                mt:3,\n                                width:[1,1/2]\n                              }}\n                              handleClick={e => this.functionsUtil.addEthereumChain(this.props.network.required.id)}\n                            >\n                              Switch Network\n                            </RoundButton>\n                          </Flex>\n                        </DashboardCard>\n                      ) : networkInitialized && !this.state.governanceEnabled ? (\n                        <DashboardCard\n                          cardProps={{\n                            p: 3,\n                            mt: 3,\n                            width: [1, 0.35]\n                          }}\n                        >\n                          <Flex alignItems={\"center\"} flexDirection={\"column\"}>\n                            <Icon size={\"2.3em\"} name={\"Warning\"} color={\"cellText\"} />\n                            <Text\n                              mt={2}\n                              fontSize={2}\n                              color={\"cellText\"}\n                              textAlign={\"center\"}\n                            >\n                              Governance is not enabled for <strong>{this.functionsUtil.capitalize(this.props.network.required.name)} Network</strong>, please switch to <strong>{this.functionsUtil.getGlobalConfig(['network','availableNetworks',availableNetworks[0],'name'])} Network</strong>.\n                            </Text>\n                            <RoundButton\n                              buttonProps={{\n                                mt:3,\n                                width:[1,1/2]\n                              }}\n                              handleClick={e => this.props.setRequiredNetwork(availableNetworks[0])}\n                            >\n                              Switch Network\n                            </RoundButton>\n                          </Flex>\n                        </DashboardCard>\n                      ) : !this.state.showResetButton ? (\n                        <FlexLoader\n                          textProps={{\n                            textSize: 4,\n                            fontWeight: 2\n                          }}\n                          loaderProps={{\n                            mb: 3,\n                            size: \"40px\"\n                          }}\n                          flexProps={{\n                            my: 3,\n                            flexDirection: \"column\"\n                          }}\n                          text={!this.props.networkInitialized ? 'Loading network...' : !this.props.accountInizialized ? \"Loading account...\" : !this.props.contractsInitialized ? \"Loading contracts...\" : \"Loading governance...\"}\n                        />\n                      ) : (\n                        <DashboardCard\n                          cardProps={{\n                            p: 3,\n                            mt: 3,\n                            width: [1, 0.35]\n                          }}\n                        >\n                          <Flex\n                            alignItems={\"center\"}\n                            flexDirection={\"column\"}\n                          >\n                            <Icon\n                              size={\"2.3em\"}\n                              name={\"Warning\"}\n                              color={\"cellText\"}\n                            />\n                            <Text\n                              mt={2}\n                              fontSize={2}\n                              color={\"cellText\"}\n                              textAlign={\"center\"}\n                            >\n                              Idle can't connect to your wallet!<br />\n                              Make sure that your wallet is unlocked and try again.\n                            </Text>\n                            <RoundButton\n                              buttonProps={{\n                                mt: 3,\n                                width: [1, 1 / 2]\n                              }}\n                              handleClick={this.logout.bind(this)}\n                            >\n                              Logout\n                            </RoundButton>\n                          </Flex>\n                        </DashboardCard>\n                      )\n                    }\n                  </Flex>\n                ) : PageComponent && (\n                  <PageComponent\n                    {...this.props}\n                    votes={this.state.votes}\n                    balance={this.state.balance}\n                    urlParams={this.state.params}\n                    blockNumber={this.state.blockNumber}\n                    votingPeriod={this.state.votingPeriod}\n                    loadUserData={this.loadData.bind(this)}\n                    timelockDelay={this.state.timelockDelay}\n                    goToSection={this.goToSection.bind(this)}\n                    currentDelegate={this.state.currentDelegate}\n                    selectedSection={this.state.selectedSection}\n                    proposalThreshold={this.state.proposalThreshold}\n                    selectedSubsection={this.state.selectedSubsection}\n                    openTooltipModal={this.openTooltipModal.bind(this)}\n                    proposalMaxOperations={this.state.proposalMaxOperations}\n                  />\n                )\n              }\n            </Flex>\n          </Flex>\n          <TooltipModal\n            closeModal={this.resetModal}\n            title={this.state.modalTitle}\n            content={this.state.modalContent}\n            isOpen={this.state.activeModal === 'tooltip'}\n          >\n          </TooltipModal>\n        </Flex>\n      </Swipeable>\n    );\n  }\n}\n\nexport default Dashboard;"],"sourceRoot":""}