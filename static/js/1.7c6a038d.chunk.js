(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{4715:function(t,e,n){"use strict";var a=n(24),o=n(1),r=n.n(o),i=n(6),s=n(5),c=n(4801),l=n.n(c),u=n(28),p=n(4812);e.a=function t(e){var n=this;Object(s.a)(this,t),this.props={},this.functionsUtil=null,this.setProps=function(t){n.props=t,n.functionsUtil?n.functionsUtil.setProps(n.props):n.functionsUtil=new u.a(n.props)},this.getTotalSupply=Object(i.a)(r.a.mark(function t(){var e,a,o,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="getTotalSupply",!(a=n.functionsUtil.getCachedDataWithLocalStorage(e))||n.functionsUtil.BNify(a).isNaN()){t.next=4;break}return t.abrupt("return",a);case 4:return o=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),t.next=7,n.functionsUtil.genericContractCall(o,"totalSupply");case 7:if(!(i=t.sent)){t.next=11;break}return i=n.functionsUtil.fixTokenDecimals(i,18),t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(e,i,null));case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}},t,this)})),this.getTokensBalance=Object(i.a)(r.a.mark(function t(){var e,a,o,i,s,c=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=(e=c.length>0&&void 0!==c[0]?c[0]:null)||n.props.account)){t.next=13;break}if(a="getTokensBalance_".concat(e),!(o=n.functionsUtil.getCachedDataWithLocalStorage(a))||n.functionsUtil.BNify(o).isNaN()){t.next=7;break}return t.abrupt("return",o);case 7:return i=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),t.next=10,n.functionsUtil.getContractBalance(i,e);case 10:if(!(s=t.sent)||n.functionsUtil.BNify(s).isNaN()){t.next=13;break}return t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(a,n.functionsUtil.BNify(s)));case 13:return t.abrupt("return",null);case 14:case"end":return t.stop()}},t,this)})),this.getVestedAmount=Object(i.a)(r.a.mark(function t(){var e,o,i,s,c,l,u,p,f,h,m,d=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=d.length>0&&void 0!==d[0]?d[0]:null,o=n.functionsUtil.BNify(0),e=e||n.props.account,t.next=5,n.getVestingContract(e);case 5:if(!t.sent){t.next=31;break}return i=n.functionsUtil.getGlobalConfig(["governance","props","tokenName"]),s=n.functionsUtil.getGlobalConfig(["stats","tokens",i.toUpperCase()]),t.next=11,Promise.all([n.functionsUtil.genericContractCall("VestingContract","vestingEnd"),n.functionsUtil.genericContractCall("VestingContract","lastUpdate"),n.functionsUtil.genericContractCall("VestingContract","vestingBegin"),n.functionsUtil.genericContractCall("VestingContract","vestingAmount")]);case 11:if(c=t.sent,l=Object(a.a)(c,4),u=l[0],p=l[1],f=l[2],!((h=l[3])&&f&&u&&p)){t.next=31;break}if(u=n.functionsUtil.BNify(u),p=n.functionsUtil.BNify(p),f=n.functionsUtil.BNify(f),h=n.functionsUtil.BNify(h),!(m=n.functionsUtil.BNify(parseInt(Date.now()/1e3))).gt(u)){t.next=29;break}return t.next=26,n.functionsUtil.getContractBalance(i,e);case 26:o=t.sent,t.next=30;break;case 29:o=h.times(m.minus(n.functionsUtil.BNify(p))).div(u.minus(f));case 30:o=n.functionsUtil.fixTokenDecimals(o,s.decimals);case 31:return t.abrupt("return",o);case 32:case"end":return t.stop()}},t,this)})),this.getVestingContract=Object(i.a)(r.a.mark(function t(){var e,a,o=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(e=o.length>0&&void 0!==o[0]?o[0]:null)||n.props.account,t.next=4,n.functionsUtil.genericContractCall("VesterFactory","vestingContracts",[e]);case 4:if(a=t.sent,0!==parseInt(a)){t.next=7;break}return t.abrupt("return",null);case 7:return t.next=9,n.props.initContract("VestingContract",a,p);case 9:return t.abrupt("return",a);case 10:case"end":return t.stop()}},t,this)})),this.claimVestedTokens=Object(i.a)(r.a.mark(function t(){var e,a,o,i=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:null,a=i.length>1&&void 0!==i[1]?i[1]:null,o=i.length>2&&void 0!==i[2]?i[2]:null,e=e||n.props.account,t.next=6,n.getVestingContract(e);case 6:if(!t.sent){t.next=11;break}return t.next=10,n.functionsUtil.contractMethodSendWrapper("VestingContract","claim",[],a,o);case 10:return t.abrupt("return",t.sent);case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}},t,this)})),this.delegateVesting=Object(i.a)(r.a.mark(function t(){var e,a,o,i,s=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:null,a=s.length>1&&void 0!==s[1]?s[1]:null,o=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]?s[3]:null,e=e||n.props.account,t.next=7,n.getVestingContract(e);case 7:if(!t.sent){t.next=12;break}return t.next=11,n.functionsUtil.contractMethodSendWrapper("VestingContract","setDelegate",[a],o,i);case 11:return t.abrupt("return",t.sent);case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}},t,this)})),this.getVestingAmount=Object(i.a)(r.a.mark(function t(){var e,a,o=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(e=o.length>0&&void 0!==o[0]?o[0]:null)||n.props.account,t.next=4,n.getVestingContract(e);case 4:if(!t.sent){t.next=11;break}return t.next=8,n.functionsUtil.genericContractCall("VestingContract","vestingAmount");case 8:if(!(a=t.sent)){t.next=11;break}return t.abrupt("return",n.functionsUtil.BNify(a));case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}},t,this)})),this.getCurrentDelegate=Object(i.a)(r.a.mark(function t(){var e,a,o,i,s,c=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=(e=c.length>0&&void 0!==c[0]?c[0]:null)||n.props.account)){t.next=12;break}if(a="getCurrentDelegate_".concat(e),!(o=n.functionsUtil.getCachedDataWithLocalStorage(a))){t.next=7;break}return t.abrupt("return",o);case 7:return i=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),t.next=10,n.functionsUtil.genericContractCall(i,"delegates",[e]);case 10:return s=t.sent,t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(a,s));case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}},t,this)})),this.getCurrentVotes=Object(i.a)(r.a.mark(function t(){var e,a,o,i,s,c=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=(e=c.length>0&&void 0!==c[0]?c[0]:null)||n.props.account)){t.next=13;break}if(a="getCurrentVotes_".concat(e),!(o=n.functionsUtil.getCachedDataWithLocalStorage(a))){t.next=7;break}return t.abrupt("return",o);case 7:return i=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),t.next=10,n.functionsUtil.genericContractCall(i,"getCurrentVotes",[e]);case 10:if(!(s=t.sent)||n.functionsUtil.BNify(s).isNaN()){t.next=13;break}return t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(a,n.functionsUtil.BNify(s)));case 13:return t.abrupt("return",null);case 14:case"end":return t.stop()}},t,this)})),this.getVotingPeriod=Object(i.a)(r.a.mark(function t(){var e,a,o,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="votingPeriod",!(a=n.functionsUtil.getCachedDataWithLocalStorage(e))||n.functionsUtil.BNify(a).isNaN()){t.next=4;break}return t.abrupt("return",a);case 4:return o=n.functionsUtil.getGlobalConfig(["governance","contracts","governance","v2"]).name,t.next=7,n.functionsUtil.genericContractCall(o,"votingPeriod");case 7:if(!(i=t.sent)){t.next=11;break}return i=n.functionsUtil.BNify(i),t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(e,i,null));case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}},t,this)})),this.getTimelockDelay=Object(i.a)(r.a.mark(function t(){var e,a,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="getTimelockDelay",!(a=n.functionsUtil.getCachedDataWithLocalStorage(e))||n.functionsUtil.BNify(a).isNaN()){t.next=4;break}return t.abrupt("return",a);case 4:return t.next=6,n.functionsUtil.genericContractCall("Timelock","delay");case 6:if(!(o=t.sent)){t.next=10;break}return o=n.functionsUtil.BNify(o),t.abrupt("return",n.functionsUtil.setCachedDataWithLocalStorage(e,o,null));case 10:return t.abrupt("return",null);case 11:case"end":return t.stop()}},t,this)})),this.queueProposal=function(){var t=Object(i.a)(r.a.mark(function t(e){var a,o,i,s=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:null,o=s.length>2&&void 0!==s[2]?s[2]:null,i=n.functionsUtil.getGlobalConfig(["governance","contracts","governance","v2"]).name,t.next=5,n.functionsUtil.contractMethodSendWrapper(i,"queue",[n.functionsUtil.toBN(e)],a,o);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),this.executeProposal=function(){var t=Object(i.a)(r.a.mark(function t(e){var a,o,i,s=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:null,o=s.length>2&&void 0!==s[2]?s[2]:null,i=n.functionsUtil.getGlobalConfig(["governance","contracts","governance","v2"]).name,t.next=5,n.functionsUtil.contractMethodSendWrapper(i,"execute",[n.functionsUtil.toBN(e)],a,o);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),this.proposeAndVoteFor=function(){var t=Object(i.a)(r.a.mark(function t(e,a,o,i,s){var c,u,p,f;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=new l.a(n.props.web3,"0x741A4dCaD4f72B83bE9103a383911d78362611cf"),u=n.functionsUtil.getGlobalConfig(["governance","contracts","governance","v2"]).name,p=n.functionsUtil.getContractByName(u),f=[{to:p._address,method:p.methods.propose,args:[e,a,o,i,s]},{to:p._address,method:p.methods.castVote,args:[n.functionsUtil.BNify(3),!0]}],c(f);case 5:case"end":return t.stop()}},t,this)}));return function(e,n,a,o,r){return t.apply(this,arguments)}}(),this.propose=function(){var t=Object(i.a)(r.a.mark(function t(e,a,o,i,s){var c,l,u,p=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=p.length>5&&void 0!==p[5]?p[5]:null,l=p.length>6&&void 0!==p[6]?p[6]:null,u=n.functionsUtil.getGlobalConfig(["governance","contracts","governance","v2"]).name,t.next=5,n.props.contractMethodSendWrapper(u,"propose",[e,a,o,i,s],null,c,l);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(e,n,a,o,r){return t.apply(this,arguments)}}(),this.castVote=function(){var t=Object(i.a)(r.a.mark(function t(e,a){var o,i,s,c=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>2&&void 0!==c[2]?c[2]:null,i=c.length>3&&void 0!==c[3]?c[3]:null,e=n.functionsUtil.toBN(e),s=n.functionsUtil.getGlobalConfig(["governance","contracts","governance","v2"]).name,t.next=6,n.props.contractMethodSendWrapper(s,"castVote",[e,a],null,o,i);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),this.setDelegate=function(){var t=Object(i.a)(r.a.mark(function t(e){var a,o,i,s=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:null,o=s.length>2&&void 0!==s[2]?s[2]:null,i=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),t.next=5,n.props.contractMethodSendWrapper(i,"delegate",[e],null,a,o);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),this.getDelegatesChanges=Object(i.a)(r.a.mark(function t(){var e,a,o,i,s,c,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.props.web3.eth.getBlockNumber();case 2:for(e=t.sent,a=[],o=n.functionsUtil.getGlobalConfig(["governance","startBlock"]),i=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),s=o;s<e;s+=1e5)c=Math.min(s+1e5,e),a.push(n.functionsUtil.getContractPastEvents(i,"DelegateChanged",{fromBlock:s,toBlock:c}));return t.next=10,Promise.all(a);case 10:return l=t.sent,t.abrupt("return",l.reduce(function(t,e){return t=t.concat(e)},[]));case 12:case"end":return t.stop()}},t,this)})),this.getLatestDelegators=Object(i.a)(r.a.mark(function t(){var e,a,o=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:null,t.t0=e,t.t0){t.next=6;break}return t.next=5,n.getDelegatesChanges();case 5:t.t0=t.sent;case 6:return(e=t.t0).sort(function(t,e){return t.blockNumber<e.blockNumber?1:-1}),a={},t.next=11,n.functionsUtil.asyncForEach(e,function(){var t=Object(i.a)(r.a.mark(function t(e){var o,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((o=e.returnValues).delegator&&!a[o.delegator]){t.next=3;break}return t.abrupt("return");case 3:return a[o.delegator]={votes:0,delegator:o.delegator,toDelegate:o.toDelegate},t.next=6,n.getTokensBalance(o.delegator);case 6:i=t.sent,a[o.delegator].votes=+i/1e18;case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 11:return t.abrupt("return",a);case 12:case"end":return t.stop()}},t,this)})),this.getDelegateDelegators=function(){var t=Object(i.a)(r.a.mark(function t(e){var a,o,i,s=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=s.length>1&&void 0!==s[1]?s[1]:null,o=s.length>2&&void 0!==s[2]?s[2]:null,t.t0=a,t.t0){t.next=7;break}return t.next=6,n.getDelegatesChanges();case 6:t.t0=t.sent;case 7:if(a=t.t0,t.t1=o,t.t1){t.next=13;break}return t.next=12,n.getDelegatesVotesChanges();case 12:t.t1=t.sent;case 13:return o=t.t1,i={},a.reverse().forEach(function(t){var a=t.returnValues;if(a.delegator&&!i[a.delegator]){var r=o.find(function(n){return n.transactionHash.toLowerCase()===t.transactionHash.toLowerCase()&&n.returnValues.delegate.toLowerCase()===e.toLowerCase()}),s=r?n.functionsUtil.BNify(r.returnValues.newBalance).minus(r.returnValues.previousBalance):null,c=s?+s/1e18:0;i[a.delegator]={votes:c,delegator:a.delegator,toDelegate:a.toDelegate}}}),t.abrupt("return",Object.values(i).filter(function(t){return t.toDelegate.toLowerCase()===e.toLowerCase()}));case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),this.getDelegatesVotesChanges=Object(i.a)(r.a.mark(function t(){var e,a,o,i,s,c,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.props.web3.eth.getBlockNumber();case 2:for(e=t.sent,a=[],o=n.functionsUtil.getGlobalConfig(["governance","startBlock"]),i=n.functionsUtil.getGlobalConfig(["governance","contracts","delegates"]),s=o;s<e;s+=1e5)c=Math.min(s+1e5,e),a.push(n.functionsUtil.getContractPastEvents(i,"DelegateVotesChanged",{fromBlock:s,toBlock:c}));return t.next=10,Promise.all(a);case 10:return l=t.sent,t.abrupt("return",l.reduce(function(t,e){return t=t.concat(e)},[]));case 12:case"end":return t.stop()}},t,this)})),this.getDelegates=Object(i.a)(r.a.mark(function t(){var e,o,s,c,l,u,p,f,h,m,d,g,v=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=v.length>0&&void 0!==v[0]?v[0]:null,o="getDelegates",!(s=n.functionsUtil.getCachedDataWithLocalStorage(o))){t.next=5;break}return t.abrupt("return",s);case 5:return t.next=7,Promise.all([n.getVotes(),n.getTotalSupply(),n.getDelegatesChanges(),n.getDelegatesVotesChanges()]);case 7:return c=t.sent,l=Object(a.a)(c,4),u=l[0],p=l[1],f=l[2],h=l[3],t.next=15,n.getLatestDelegators(f);case 15:return m=t.sent,d={},h.forEach(function(t){var e=t.returnValues,n=e.delegate,a=e.newBalance;d[n]=a}),g=[],t.next=21,n.functionsUtil.asyncForEach(Object.keys(d),function(){var t=Object(i.a)(r.a.mark(function t(e){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=Object.values(m).filter(function(t){return t.toDelegate.toLowerCase()===e.toLowerCase()&&parseFloat(t.votes)>0}).sort(function(t,e){return t.votes<e.votes?1:-1}),a=+d[e]/1e18,g.push({votes:a,delegate:e,delegators:n});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 21:return g.sort(function(t,e){return t.votes<e.votes?1:-1}),g.forEach(function(t,e){t.rank=e+1,t.votes=t.votes.toFixed(6),t.vote_weight=(t.votes/parseFloat(p)*100).toFixed(4)+"%",t.proposals=u.filter(function(e){return e.voter&&t.delegate&&e.voter.toLowerCase()===t.delegate.toLowerCase()}).length}),n.functionsUtil.setCachedDataWithLocalStorage(o,g),null!==e&&(g=g.splice(0,e)),t.abrupt("return",g);case 26:case"end":return t.stop()}},t,this)})),this.getProposalParams=Object(i.a)(r.a.mark(function t(){var e,o,i,s,c,l,u,p;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="getProposalParams",!(o=n.functionsUtil.getCachedData(e))){t.next=4;break}return t.abrupt("return",o);case 4:return i=n.functionsUtil.getGlobalConfig(["governance","contracts","governance","v2"]).name,t.next=7,Promise.all([n.functionsUtil.genericContractCall(i,"proposalThreshold"),n.functionsUtil.genericContractCall(i,"proposalMaxOperations")]);case 7:return s=t.sent,c=Object(a.a)(s,2),l=c[0],u=c[1],l&&(l=n.functionsUtil.BNify(l)),p={proposalThreshold:l,proposalMaxOperations:u},t.abrupt("return",n.functionsUtil.setCachedData(e,p));case 14:case"end":return t.stop()}},t,this)})),this.getVotes=Object(i.a)(r.a.mark(function t(){var e,a,o,s,c,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="getVotes",!(a=n.functionsUtil.getCachedData(e))){t.next=4;break}return t.abrupt("return",a);case 4:return o=n.functionsUtil.getGlobalConfig(["governance","contracts","governance"]),s=null,c=null,l=[],Object.values(o).forEach(function(){var t=Object(i.a)(r.a.mark(function t(e,a){var o,i,u;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.name,i=e.toBlock,c=s?s.toBlock:n.functionsUtil.getGlobalConfig(["governance","startBlock"]),s=e,t.next=6,n.functionsUtil.getContractPastEvents(o,"VoteCast",{fromBlock:c,toBlock:i});case 6:(u=t.sent)&&(u=u.map(function(t){var e=t.returnValues,n=e.voter;return{votes:e.votes,voter:n,support:e.support,proposalId:e.proposalId}}),Object.values(u).forEach(function(t){l.push(t)}));case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),t.abrupt("return",n.functionsUtil.setCachedData(e,l));case 10:case"end":return t.stop()}},t,this)})),this.getProposals=Object(i.a)(r.a.mark(function t(){var e,o,s,c,l,u,p,f,h,m,d,g=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=g.length>0&&void 0!==g[0]?g[0]:null,o=g.length>1&&void 0!==g[1]?g[1]:null,s=g.length>2&&void 0!==g[2]?g[2]:null,c="getProposals",!(l=n.functionsUtil.getCachedDataWithLocalStorage(c))){t.next=10;break}return o&&(l=l.filter(function(t){return t&&t.state&&t.state.toLowerCase()===o.toLowerCase()})),e&&(l=l.filter(function(t){return t&&t.votes.find(function(t){return t.voter&&t.voter.toLowerCase()===e.toLowerCase()})})),s&&(l=l.filter(function(t){return parseInt(t.startBlock)>=parseInt(s)})),t.abrupt("return",l);case 10:return u=function(t){return["Pending","Active","Canceled","Defeated","Succeeded","Queued","Expired","Executed"][t]},p=n.functionsUtil.getGlobalConfig(["governance","contracts","governance"]),f=Object.values(p),t.next=15,n.functionsUtil.asyncForEach(f,function(){var t=Object(i.a)(r.a.mark(function t(e){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.functionsUtil.genericContractCall(e.name,"proposalCount");case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 15:return h=t.sent,m=null,d=[],t.next=20,n.functionsUtil.asyncForEach(f,function(){var t=Object(i.a)(r.a.mark(function t(e,o){var s,c,l,p,g,v,b,k,w,y,x,C,U,O,E,j,D,S;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.name,t.t0=parseInt,t.next=4,h[o];case 4:return t.t1=t.sent,c=(0,t.t0)(t.t1),t.t2=parseInt,t.next=9,h[o-1];case 9:if(t.t3=t.sent,l=(0,t.t2)(t.t3),c){t.next=13;break}return t.abrupt("return",[]);case 13:for(m=0===o?n.functionsUtil.getGlobalConfig(["governance","startBlock"]):f[o-1].toBlock,p=[],g=[],v=Array.from(Array(c),function(t,e){return e+1}),b=0;b<v.length;b++)k=v[b],(!o||k>l)&&(p.push(n.functionsUtil.genericContractCall(s,"proposals",[k])),g.push(n.functionsUtil.genericContractCall(s,"state",[k])));if(g&&p){t.next=20;break}return t.abrupt("return",!1);case 20:return w=e.toBlock,t.next=23,Promise.all([n.getVotes(),Promise.all(p),Promise.all(g),n.functionsUtil.getContractPastEvents(s,"ProposalQueued",{fromBlock:m,toBlock:w}),n.functionsUtil.getContractPastEvents(s,"ProposalCreated",{fromBlock:m,toBlock:w}),n.functionsUtil.getContractPastEvents(s,"ProposalCanceled",{fromBlock:m,toBlock:w}),n.functionsUtil.getContractPastEvents(s,"ProposalExecuted",{fromBlock:m,toBlock:w})]);case 23:return y=t.sent,x=Object(a.a)(y,7),C=x[0],U=x[1],O=x[2],E=x[3],j=x[4],D=x[5],S=x[6],U?U.reverse():U=[],O?O.reverse():O=[],E?E.reverse():E=[],j?j.reverse():j=[],D?D.reverse():D=[],S?S.reverse():S=[],t.next=40,n.functionsUtil.asyncForEach(j,function(){var t=Object(i.a)(r.a.mark(function t(e,o){var i,s,c,l,p,f,h,m,d,g,v,b,k,w,y,x,j,M,I,N,B,T,P,_,G,L,W;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=U[o])&&i.id){t.next=3;break}return t.abrupt("return");case 3:return s=parseInt(i.id),c=D.find(function(t){return parseInt(t.returnValues.id)===s}),l=S.find(function(t){return parseInt(t.returnValues.id)===s}),p=E.find(function(t){return parseInt(t.returnValues.id)===s}),t.next=9,Promise.all([i.endBlock?n.functionsUtil.getBlockInfo(i.endBlock):null,p?n.functionsUtil.getBlockInfo(p.blockNumber):null,e?n.functionsUtil.getBlockInfo(e.blockNumber):null,c?n.functionsUtil.getBlockInfo(c.blockNumber):null,l?n.functionsUtil.getBlockInfo(l.blockNumber):null]);case 9:f=t.sent,h=Object(a.a)(f,5),m=h[0],d=h[1],g=h[2],v=h[3],b=h[4],i.states=[],k={state:"Pending",blockNumber:e.blockNumber,end_time:g.timestamp,start_time:g.timestamp,trx_hash:e.transactionHash},i.states.push(k),w={end_time:null,trx_hash:null,state:"Active",blockNumber:e.blockNumber,start_time:k.start_time},i.states.push(w),c?(y={end_time:null,state:"Canceled",blockNumber:c.blockNumber,start_time:v.timestamp,trx_hash:c.transactionHash},i.states[i.states.length-1].end_time=v.timestamp,i.states.push(y)):(p&&(x={end_time:null,trx_hash:null,state:"Succeeded",blockNumber:p.blockNumber,start_time:d.timestamp},j={end_time:null,state:"Queued",blockNumber:p.blockNumber,trx_hash:p.transactionHash,start_time:d.timestamp},i.states[i.states.length-1].end_time=d.timestamp,i.states.push(x),i.states.push(j)),l&&(M={end_time:null,state:"Executed",blockNumber:l.blockNumber,start_time:b.timestamp,trx_hash:l.transactionHash},i.states[i.states.length-1].end_time=b.timestamp,i.states.push(M))),i.state=u(O[o]),i.states.find(function(t){return t.state===i.state})||(I={state:i.state,end_time:null,trx_hash:null,blockNumber:i.endBlock,start_time:m.timestamp},i.states[i.states.length-1].end_time=m.timestamp,i.states.push(I)),i.votes=C.filter(function(t){return parseInt(t.proposalId)===s}),N=e.returnValues,B=N.description,T=N.signatures,P=N.targets,_=N.values,G=N.calldatas,i.timestamp=g?g.timestamp:null,i.title=B.split(/# |\n|\u21b5/g)[0].replace(/^#/,"")||"Untitled",i.description=B.split(/\n|\u21b5/g),i.description.shift(),i.description=i.description.join("\n"),i.description=i.description.replace(/\n/g,"<br />"),(L=n.functionsUtil.getGlobalConfig(["governance","proposals",s]))&&Object.keys(L).forEach(function(t){i[t]=L[t]}),W={eta:i.eta,actions:{values:_,targets:P,calldatas:G,signatures:T},id:s,title:i.title,state:i.state,votes:i.votes,states:i.states,executed:i.executed,endBlock:i.endBlock,canceled:i.canceled,forVotes:i.forVotes,proposer:i.proposer,timestamp:i.timestamp,startBlock:i.startBlock,description:i.description,againstVotes:i.againstVotes},U[o]=W;case 37:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}());case 40:Object.values(U).forEach(function(t){t&&d.push(t)});case 41:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}());case 20:return(d=d.sort(function(t,e){return t.id<e.id?1:-1})).length&&n.functionsUtil.setCachedDataWithLocalStorage(c,d,1800),o&&(d=d.filter(function(t){return t&&t.state&&t.state.toLowerCase()===o.toLowerCase()})),e&&(d=d.filter(function(t){return t&&t.votes.find(function(t){return t.voter&&t.voter.toLowerCase()===e.toLowerCase()})})),s&&(d=d.filter(function(t){return parseInt(t.startBlock)>=parseInt(s)})),t.abrupt("return",d);case 26:case"end":return t.stop()}},t,this)})),this.setProps(e)}},4720:function(t,e,n){"use strict";var a=n(1),o=n.n(a),r=n(6),i=n(5),s=n(7),c=n(10),l=n(8),u=n(9),p=n(0),f=n.n(p),h=n(28),m=n(32),d=n(2),g=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).functionsUtil=null,n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new h.a(this.props)}},{key:"componentWillMount",value:function(){var t=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(r.a)(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils();case 1:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){return f.a.createElement(m.a,{cardProps:{p:3,minHeight:this.props.minHeight?this.props.minHeight:["130px","153px"]}},f.a.createElement(d.h,{width:1,alignItems:"flex-start",flexDirection:"column",justifyContent:"flex-start"},f.a.createElement(d.h,{alignItems:"flex-start",minHeight:this.props.titleMinHeight?this.props.titleMinHeight:["auto","60px"]},f.a.createElement(d.j.h4,{mb:[3,0],fontWeight:4,fontSize:[2,3],textAlign:"left",color:"dark-gray",lineHeight:"initial"},this.props.title)),"undefined"!==typeof this.props.value&&null!==this.props.value&&this.props.value.toString().length>0&&f.a.createElement(d.u,Object.assign({lineHeight:1,fontSize:[4,5],fontWeight:[3,4],color:"statValue"},this.props.valueProps),this.props.value),this.props.children?this.props.children:null,"undefined"!==typeof this.props.label&&null!==this.props.label&&this.props.label.toString().length>0&&f.a.createElement(d.h,{mt:[3,2],alignItems:"center",flexDirection:"row"},f.a.createElement(d.u,{fontSize:1,fontWeight:3,color:"legend"},this.props.label),this.props.labelTooltip&&this.props.labelTooltip.length>0&&f.a.createElement(d.y,{placement:"top",message:this.props.labelTooltip},f.a.createElement(d.k,{ml:2,name:"Info",size:"1em",color:"cellTitle"})))))}}]),e}(p.Component);e.a=g},4724:function(t,e,n){"use strict";var a=n(1),o=n.n(a),r=n(6),i=n(5),s=n(7),c=n(10),l=n(8),u=n(9),p=n(80),f=n(0),h=n.n(f),m=n(4725),d=n(193),g=n(28),v=n(32),b=n(2),k=n(4726),w=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(s)))).state={logout:!1,buyModalOpened:!1,isHover:!1},n.functionsUtil=null,n.setConnector=function(){var t=Object(r.a)(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.functionsUtil.sendGoogleAnalyticsEvent({eventCategory:"Connect",eventAction:"logout"}),"function"===typeof n.props.setConnector&&n.props.setConnector(e),t.next=4,n.props.context.unsetConnector();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"logout",value:function(){var t=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({logout:!0}),this.props.logout(),t.next=4,this.setConnector("Infura");case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new g.a(this.props)}},{key:"setGovModal",value:function(t){this.setState({govModalOpened:t})}},{key:"setBuyModalOpened",value:function(t){this.setState({buyModalOpened:t})}},{key:"componentWillMount",value:function(){var t=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(r.a)(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils();case 1:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;if(!this.props.menu.length)return null;var e=this.functionsUtil.getRequiredNetworkId(),n=this.functionsUtil.getGlobalConfig(["landingStrategies"]),a=Object.keys(n).filter(function(a){return n[a].visible&&(!n[a].availableNetworks.length||n[a].availableNetworks.includes(e))&&(!n[a].enabledEnvs.length||n[a].enabledEnvs.includes(t.props.currentEnv))}),o=this.functionsUtil.getGlobalConfig(["governance"]).baseRoute,r=this.functionsUtil.getGlobalConfig(["dashboard","baseRoute"])+"/"+a[0],i=this.props.menu.filter(function(e){var n=void 0===e.visible||e.visible,a=void 0===e.mobile||e.mobile;return n&&(!t.props.isMobile||a)});if(!i.length)return null;var s="dark"===this.props.themeMode,c=this.functionsUtil.getGlobalConfig(["dashboard","theme","darkModeEnabled"]),l=this.functionsUtil.checkUrlOrigin(),u=this.functionsUtil.checkChristmas(),f=l?s?"images/logo-dark.svg":"images/logo-gradient.svg":s?"images/logo-white-beta.png":"images/logo-gradient-beta.png",g="42px";return u&&l&&(g="62px",f=s?"images/logo-dark-christmas.svg":"images/logo-gradient-christmas.svg"),h.a.createElement(b.h,{p:0,height:"100%",flexDirection:"column"},h.a.createElement(b.h,{p:4,pb:2,mb:3,flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},h.a.createElement(d.b,{to:"/"},h.a.createElement(b.l,{src:f,height:g,position:"relative"}))),h.a.createElement(b.b,{mb:3,pb:3,width:1,justifyContent:"center",borderBottom:"1px solid ".concat(this.props.theme.colors.divider)},h.a.createElement(v.a,Object.assign({},this.props,{isInteractive:!0,cardProps:{py:1,pr:1,mx:"auto",mb:[0,3],width:.8,boxShadow:0,display:"flex",borderRadius:1,justifySelf:"center",justifyContent:"center"},handleClick:function(e){return t.props.isDashboard?t.props.goToSection(o,!1):t.props.goToSection(r,!1)}}),h.a.createElement(b.h,{px:2,py:1,alignItems:"center",flexDirection:"row",onMouseEnter:function(e){return t.setState({isHover:!0})},onMouseLeave:function(e){return t.setState({isHover:!1})}},h.a.createElement(m.a,{hoverOn:this.state.isHover,noHover:"images/sidebar/switch.svg",hover:"images/sidebar/switchHover.svg",imageProps:{mr:2,width:"16px",height:"16px",display:"inline-flex"}}),h.a.createElement(b.u,{fontSize:1,color:"text",fontWeight:500},"Switch to ",this.props.isDashboard?"Governance":"Dashboard")))),this.props.isMobile&&h.a.createElement(b.h,{width:"82%",alignSelf:"center",alignItems:"stretch",flexDirection:"column",justifyContent:"space-between"},h.a.createElement(k.a,this.props)),h.a.createElement(b.h,{px:3,height:"100%",style:{overflowY:"scroll"},flexDirection:"column"},i.map(function(e,n){var a=e.isExternalLink?p.a:d.b,o=s&&e.imageDark?e.imageDark:e.image,r=s&&e.imageInactiveDark?e.imageInactiveDark:e.imageInactive;return h.a.createElement(b.b,{width:"auto",my:[1,"8px"],key:"menu-".concat(n)},h.a.createElement(a,{to:e.route,href:e.route,onClick:t.props.closeMenu,style:{textDecoration:"none"}},h.a.createElement(b.h,{py:2,px:3,borderRadius:2,flexDirection:"row",alignItems:"center",border:e.selected?2:null,backgroundColor:e.selected?"menuHover":"transparent"},h.a.createElement(b.h,{py:1,width:1,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},e.image?h.a.createElement(b.l,{mr:3,ml:2,mb:0,align:"center",height:["1.2em","1.6em"],src:e.selected?o:r}):e.icon&&h.a.createElement(b.k,{name:e.icon,color:e.selected?"menuIconActive":s?"white":"dark-gray",mr:3,ml:2,mb:0,size:t.props.isMobile?"1.2em":"1.6em"}),h.a.createElement(b.u,{fontWeight:3,color:"text",fontSize:[1,2],textAlign:"center",style:{whiteSpace:"nowrap"}},e.label)))))})),c&&h.a.createElement(b.h,{my:2,width:"auto",height:"auto",flexDirection:"column",justifyContent:"flex-end"},h.a.createElement(b.n,{style:{textDecoration:"none"},onClick:function(e){return t.props.setThemeMode("light"===t.props.themeMode?"dark":"light")}},h.a.createElement(b.h,{p:2,alignItems:"center",flexDirection:"row",justifyContent:"flex-end"},h.a.createElement(b.k,{mr:2,ml:2,size:"1.4em",align:"center",color:"copyColor",name:"Brightness2"}),h.a.createElement(b.h,{px:"0.2em",width:"3.4em",height:"1.6em",alignItems:"center",borderRadius:"1.6em",backgroundColor:"cellText",justifyContent:"light"===this.props.themeMode?"flex-end":"flex-start"},h.a.createElement(b.b,{width:"1.3em",height:"1.3em",borderRadius:"1.3em",backgroundColor:"copyColor"})),h.a.createElement(b.k,{ml:2,size:"1.4em",align:"center",name:"WbSunny",color:"copyColor"})))))}}]),e}(f.Component);e.a=w},4725:function(t,e,n){"use strict";var a=n(5),o=n(7),r=n(10),i=n(8),s=n(9),c=n(2),l=n(0),u=n.n(l),p=function(t){function e(){return Object(a.a)(this,e),Object(r.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return u.a.createElement(c.l,Object.assign({src:this.props.hoverOn?this.props.hover:this.props.noHover},this.props.imageProps))}}]),e}(l.Component);e.a=p},4726:function(t,e,n){"use strict";var a=n(1),o=n.n(a),r=n(6),i=n(5),s=n(7),c=n(10),l=n(8),u=n(9),p=n(0),f=n.n(p),h=n(28),m=n(32),d=n(2),g=n(141),v=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).state={activeNetworks:[],defaultNetwork:null},n.functionsUtil=null,n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new h.a(this.props)}},{key:"componentWillMount",value:function(){var t=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),this.loadNetworks();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadNetworks",value:function(){if(!this.props.networkInitialized)return!1;var t=this.functionsUtil.getGlobalConfig(["network","availableNetworks"]),e=this.functionsUtil.getGlobalConfig(["network","enabledNetworks"]).map(function(e){var n=t[e];return{value:e,config:n,label:n.name,network:n.name.toLowerCase()}}),n=this.functionsUtil.getRequiredNetwork(),a=e.find(function(t){return t.value===n.id});this.setState({defaultNetwork:a,activeNetworks:e})}},{key:"selectNetwork",value:function(t){this.props.setRequiredNetwork(t)}},{key:"componentDidUpdate",value:function(){var t=Object(r.a)(o.a.mark(function t(e,n){var a,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),a=!e.networkInitialized&&this.props.networkInitialized,(JSON.stringify(e.network.required)!==JSON.stringify(this.props.network.required)||a)&&this.setState({defaultNetwork:null},function(){r.loadNetworks()});case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return this.state.defaultNetwork?f.a.createElement(g.a,Object.assign({},this.props,{outerColor:"cardBg",name:"network",isDashboard:!0,isSearchable:!1,innerProps:Object.assign({px:1,py:0,height:"42px",boxShadow:0,borderRadius:0,border:0,backgroundColor:"cardBg"},this.props.innerProps),customOptionProps:{px:0,pl:3,pr:0},notInteractive:"true",noShadow:"true",options:this.state.activeNetworks,CustomOptionValue:function(t){var e="images/networks/".concat(t.data.network,".svg");return f.a.createElement(d.h,{width:1,alignItems:"center",flexDirection:"row",justifyContent:"space-between"},f.a.createElement(d.h,{alignItems:"center"},f.a.createElement(d.l,{mr:2,src:e,width:["1.2em","1.3em"],height:["1.2em","1.3em"]}),f.a.createElement(d.u,{fontWeight:3,fontSize:[1,2],color:"copyColor"},t.label)))},defaultValue:this.state.defaultNetwork,onChange:this.selectNetwork.bind(this),CustomValueContainer:function(e){var n=e.selectProps.value||e.data,a=n.label,o="images/networks/".concat(n.network,".svg");return f.a.createElement(d.h,Object.assign({style:{flex:"1"},justifyContent:"space-between"},e.innerProps,{bg:"cardBg",px:0}),f.a.createElement(d.h,Object.assign({},e.innerxProps,{p:0,width:1,alignItems:"center",flexDirection:"row",style:{cursor:"pointer"},justifyContent:"flex-start",bg:"cardBg"}),f.a.createElement(d.l,{mr:2,src:o,width:["1.2em","1.3em"],height:["1.2em","1.3em"]}),f.a.createElement(d.u,{fontWeight:3,fontSize:[1,2],color:"copyColor"},a),f.a.createElement(d.b,{ml:2,width:"8px",height:"8px",borderRadius:"50%",backgroundColor:t.props.network.isCorrectNetwork?"#00b84a":"#fa0000"})))}})):f.a.createElement(m.a,Object.assign({},this.props,{cardProps:{boxShadow:0,borderRadius:0,border:0,px:[2,3],display:"flex",width:[1,"auto"],alignItems:"center",justifyContent:"center",backgroundColor:"cardBg",height:this.props.innerProps&&this.props.innerProps.height||"42px"},isInteractive:!1,isActive:!1}),f.a.createElement(d.o,{size:"20px"}))}}]),e}(p.Component);e.a=v},4735:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var a=n(0),o=n.n(a),r=n(4798);function i(){var t=arguments[0],e=Object(r.useSwipeable)({onSwiped:function(e){return t.callback(e)},delta:10,preventDefaultTouchmoveEvent:!1,trackTouch:!0,trackMouse:!1,rotationAngle:0});return o.a.createElement("div",Object.assign({},e,{style:{touchAction:"pan-x"}}),t.children)}},4736:function(t,e,n){"use strict";var a=n(1),o=n.n(a),r=n(6),i=n(5),s=n(10),c=n(8),l=n(7),u=n(9),p=n(0),f=n.n(p),h=n(57),m=n(2),d=n(28),g=n(77),v=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(s.a)(this,Object(c.a)(e).call(this,t))).state={},n.functionsUtil=null,n.componentDidUpdate=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.loadUtils();case 1:case"end":return t.stop()}},t,this)})),n.closeModal=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.props.closeModal();case 1:case"end":return t.stop()}},t,this)})),n.loadUtils(),n}return Object(u.a)(e,t),Object(l.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new d.a(this.props)}}]),Object(l.a)(e,[{key:"render",value:function(){return f.a.createElement(m.p,{isOpen:this.props.isOpen},f.a.createElement(h.a,{maxWidth:["960px","650px"],closeFunc:this.props.closeModal},f.a.createElement(h.a.Header,{pt:3,title:this.props.title}),f.a.createElement(h.a.Body,null,f.a.createElement(m.h,{width:1,flexDirection:"column"},f.a.createElement(m.u,{fontSize:2,textAlign:"left",color:"dark-gray",dangerouslySetInnerHTML:{__html:this.props.content}})),f.a.createElement(m.h,{my:3,alignItems:"center",flexDirection:"column",justifyContent:"center"},f.a.createElement(g.a,{handleClick:this.closeModal,buttonProps:{width:["100%","40%"]}},"GOT IT")))))}}]),e}(f.a.Component);e.a=v},4740:function(t,e,n){t.exports={newLink:"CryptoInput_newLink__35W_s",newPill:"CryptoInput_newPill__2Q8cA",ethInput:"CryptoInput_ethInput__3j2LJ",ethInputDark:"CryptoInput_ethInputDark__R8OoA",mainInput:"CryptoInput_mainInput__1zffg",button:"CryptoInput_button__1N9EQ",gradientButton:"CryptoInput_gradientButton__2kh5r",input:"CryptoInput_input__3X3pI",newPillContainerAnim:"CryptoInput_newPillContainerAnim__RvOCw"}},4741:function(t,e,n){"use strict";var a=n(1),o=n.n(a),r=n(6),i=n(5),s=n(7),c=n(10),l=n(8),u=n(9),p=n(80),f=n(0),h=n.n(f),m=n(2),d=n(24),g=n(27),v=n(4725),b=n(77),k=n(28),w=n(1208),y=n(4799),x=n.n(y),C=n(4715),U=n(32),O=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).state={tabOpened:!1,notifications:[],mouseOverBell:!1,unreadNotifications:0,lastOpenTimestamp:null,mouseOverNotifications:!1},n.functionsUtil=null,n.governanceUtil=null,n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.governanceUtil?this.governanceUtil.setProps(this.props):this.governanceUtil=new C.a(this.props),this.functionsUtil=this.governanceUtil.functionsUtil}},{key:"componentWillMount",value:function(){var t=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),this.loadNotifications();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(r.a)(o.a.mark(function t(e,n){var a,r,i=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),e.clickEvent!==this.props.clickEvent&&this.props.clickEvent&&!this.state.mouseOverNotifications&&!this.state.mouseOverBell&&this.state.tabOpened&&this.setState({tabOpened:!1}),n.tabOpened!==this.state.tabOpened&&this.state.tabOpened&&this.state.notifications.length>0&&(this.functionsUtil.sendGoogleAnalyticsEvent({eventCategory:"Notifications",eventAction:"open_tab",eventLabel:""}),this.updateLastOpenTimestamp()),a=JSON.stringify(n.notifications)!==JSON.stringify(this.state.notifications),(n.lastOpenTimestamp!==this.state.lastOpenTimestamp||a)&&(r=this.state.lastOpenTimestamp?this.state.notifications.filter(function(t){return t.timestamp>i.state.lastOpenTimestamp}).length:this.state.notifications.length,this.setState({unreadNotifications:r}));case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"updateLastOpenTimestamp",value:function(){var t=Date.now(),e=this.functionsUtil.getStoredItem("notificationsParams",!0,{});e.lastOpenTimestamp=t,this.functionsUtil.setLocalStorage("notificationsParams",e,!0),this.setState({lastOpenTimestamp:t})}},{key:"loadNotifications",value:function(){var t=Object(r.a)(o.a.mark(function t(){var e,n,a,r,i,s,c,l,u,p,f,h,m,g,v,b,k,w,y,x,C,U,O,E,j,D,S,M=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Date.now(),n=this.functionsUtil.getRequiredNetwork(),a=1===n.id,r=this.functionsUtil.getGlobalConfig(["governance"]),i=this.functionsUtil.getGlobalConfig(["tools","batchDeposit"]),s=this.functionsUtil.getGlobalConfig(["tools","polygonBridge"]),c=this.functionsUtil.getStoredItem("notificationsParams",!0,{}),l=c.lastOpenTimestamp||null,t.t0=this.functionsUtil,t.next=11,this.functionsUtil.getBlockNumber();case 11:return t.t1=t.sent,u=t.t0.BNify.call(t.t0,t.t1),p=this.functionsUtil.BNify(this.functionsUtil.getGlobalConfig(["network","blocksPerYear"])).div(52.1429),f=parseInt(u.minus(p)),h=s.enabled&&s.availableNetworks.includes(n.id),m=r.enabled&&r.availableNetworks.includes(n.id)&&a&&!this.props.isMobile,!1,t.next=20,Promise.all([this.functionsUtil.getSubstackLatestFeed(),this.functionsUtil.getSnapshotProposals(!0),h?this.functionsUtil.getPolygonBridgeTxs(this.props.account):null,m?this.governanceUtil.getProposals(null,"Active",f):null,null]);case 20:g=t.sent,v=Object(d.a)(g,5),b=v[0],k=v[1],w=v[2],y=v[3],x=v[4],C=this.functionsUtil.getGlobalConfig(["notifications"]).filter(function(t){return t.enabled&&t.start<=e&&t.end>e}),b&&(U=this.functionsUtil.strToMoment(b.isoDate)).isAfter(this.functionsUtil.strToMoment().subtract(7,"d"))&&C.push({link:b.link,image:"/images/substack.png",timestamp:U._d.getTime(),title:this.functionsUtil.htmlDecode(b.title),text:this.functionsUtil.htmlDecode(b.content),date:U.utc().format("MMM DD, YYYY HH:mm UTC")}),O=this.functionsUtil.getGlobalConfig(["network","providers","snapshot","urls","proposals"]),k&&k.forEach(function(t){var e=t.body.replace(/^[#]*/,"");C.push({text:e,image:"/images/snapshot.png",timestamp:1e3*t.start,link:O+t.id,title:t.title,date:M.functionsUtil.strToMoment(1e3*t.start).utc().format("MMM DD, YYYY HH:mm UTC")})}),y&&(E=this.functionsUtil.getGlobalConfig(["governance","baseRoute"])+"/proposals/",y.forEach(function(t){C.push({text:t.title,iconProps:{color:"#00acff"},icon:"LightbulbOutline",timestamp:1e3*t.timestamp,title:"Governance Proposal",hash:E+t.id,date:M.functionsUtil.strToMoment(1e3*t.timestamp).utc().format("MMM DD, YYYY HH:mm UTC")})})),x&&(j=this.functionsUtil.getGlobalConfig(["dashboard","baseRoute"])+"/tools/".concat(i.route,"/"),Object.keys(x).forEach(function(t){var e=x[t],n=1e3*e.lastExecution.timeStamp,a="You can claim ".concat(e.batchRedeems.toFixed(4)," ").concat(t);C.push({text:a,timestamp:n,icon:"DoneAll",title:"Batch Deposit Executed",hash:j+t,iconProps:{color:M.props.theme.colors.transactions.status.completed},date:M.functionsUtil.strToMoment(n).utc().format("MMM DD, YYYY HH:mm UTC")})})),w&&(D=this.functionsUtil.getGlobalConfig(["dashboard","baseRoute"])+"/tools/".concat(s.route,"/"),w.filter(function(t){return"Withdraw"===t.action&&t.included&&!t.exited}).forEach(function(t){var e=1e3*t.timeStamp;if(M.functionsUtil.strToMoment(e).isAfter(M.functionsUtil.strToMoment().subtract(10,"d"))){var n="You can Exit ".concat(M.functionsUtil.BNify(t.value).toFixed(4)," ").concat(t.token," from Polygon");C.push({text:n,timestamp:e,image:s.image,title:"Polygon Withdraw Completed",hash:D+t.tokenSymbol,date:M.functionsUtil.strToMoment(e).utc().format("MMM DD, YYYY HH:mm UTC")})}}),S=this.functionsUtil.getGlobalConfig(["dashboard","baseRoute"])+"/best/",w.filter(function(t){return"Deposit"===t.action&&t.included}).forEach(function(t){var e=1e3*t.timeStamp;if(M.functionsUtil.strToMoment(e).isAfter(M.functionsUtil.strToMoment().subtract(1,"d"))){var n="Your ".concat(M.functionsUtil.BNify(t.value).toFixed(4)," ").concat(t.tokenSymbol," are now available in Polygon");C.push({text:n,timestamp:e,image:s.image,title:"Polygon Deposit Completed",hash:S+t.tokenSymbol,date:M.functionsUtil.strToMoment(e).utc().format("MMM DD, YYYY HH:mm UTC")})}})),C=C.sort(function(t,e){return t.timestamp<e.timestamp?1:-1}),this.setState({notifications:C,lastOpenTimestamp:l});case 36:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setMouseOverBell",value:function(t){this.setState({mouseOverBell:t})}},{key:"setMouseOverNotifications",value:function(t){this.setState({mouseOverNotifications:t})}},{key:"toggleTab",value:function(){this.setState(function(t){return{tabOpened:!t.tabOpened}})}},{key:"openNotification",value:function(t){return this.functionsUtil.sendGoogleAnalyticsEvent({eventCategory:"Notifications",eventAction:"open_notification",eventLabel:t.link||t.hash}),t.link?this.functionsUtil.openWindow(t.link):!!t.hash&&(window.location.hash=t.hash)}},{key:"render",value:function(){var t=this,e=this.state.unreadNotifications>0,n=e?"#0239FF":"dashboardBg";return h.a.createElement(m.h,Object.assign({zIndex:999,position:"relative"},this.props.flexProps),h.a.createElement(m.b,{width:1,position:"relative",onMouseOut:function(e){return t.setMouseOverBell(!1)},onMouseOver:function(e){return t.setMouseOverBell(!0)}},h.a.createElement(m.k,Object.assign({color:n,name:"Notifications"},this.props.iconProps,{onClick:this.toggleTab.bind(this),className:[x.a.bell,e?x.a.ring:null,this.state.tabOpened||this.state.notifications.length>0?x.a.active:null]})),e&&h.a.createElement(m.b,{className:x.a.counter},this.state.notifications.length)),this.state.tabOpened&&h.a.createElement(U.a,{cardProps:{style:{right:0,maxHeight:"21em",overflow:"scroll",position:"absolute",top:this.props.isMobile?"2.8em":"3em"},minWidth:["91vw","22em"],onMouseOut:function(e){return t.setMouseOverNotifications(!1)},onMouseOver:function(e){return t.setMouseOverNotifications(!0)}}},h.a.createElement(m.h,{width:1,flexDirection:"column"},this.state.notifications.length>0?this.state.notifications.map(function(e,n){return h.a.createElement(p.a,{style:{textDecoration:"none"},key:"notification_".concat(n),onClick:function(n){return t.openNotification(e)}},h.a.createElement(m.h,{py:2,px:1,flexDirection:"row",className:[x.a.notification,"dark"===t.props.themeMode?x.a.dark:null],borderBottom:n<t.state.notifications.length-1?"1px solid ".concat(t.props.theme.colors.divider):null},h.a.createElement(m.h,{minWidth:"2em",alignItems:"center",justifyContent:"center"},e.icon?h.a.createElement(m.k,Object.assign({name:e.icon,size:"1.6em",color:"copyColor"},e.iconProps)):e.image&&h.a.createElement(m.l,{src:e.image,width:"1.6em",height:"1.6em"})),h.a.createElement(m.h,{ml:1,overflow:"hidden",flexDirection:"column"},h.a.createElement(m.u,{fontSize:1,lineHeight:1.3,color:"primary",style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},e.title),h.a.createElement(m.u,{fontSize:1,lineHeight:1.3,color:"copyColor",style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},e.text),h.a.createElement(m.u,{fontSize:0,lineHeight:1.3,color:"cellText"},e.date))))}):h.a.createElement(m.u,{py:2,textAlign:"center"},"There are no notifications."))))}}]),e}(f.Component),E=n(57),j=n(87),D=n(693),S=n(4740),M=n.n(S),I=n(105),N=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(s)))).state={logout:!1,balances:null},n.loadBalances=Object(r.a)(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.props.availableStrategies&&n.props.contractsInitialized&&n.props.account&&null===n.state.balances){t.next=2;break}return t.abrupt("return",!1);case 2:e=[],Object.keys(n.props.availableStrategies.best).forEach(function(t){var a=[];a.push(t),Object.keys(n.props.availableStrategies).forEach(function(e){var o=n.props.availableStrategies[e][t];o&&a.push(o.idle.token)}),e.push(a)}),n.setState({balances:e});case 6:case"end":return t.stop()}},t,this)})),n.functionsUtil=null,n.setConnector=function(){var t=Object(r.a)(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.functionsUtil.sendGoogleAnalyticsEvent({eventCategory:"Connect",eventAction:"logout"}),"function"===typeof n.props.setConnector&&n.props.setConnector(e),t.next=4,n.props.context.setConnector(e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new k.a(this.props)}},{key:"componentWillMount",value:function(){this.loadUtils()}},{key:"componentDidMount",value:function(){this.loadUtils(),this.loadBalances()}},{key:"componentDidUpdate",value:function(t){this.loadUtils();var e=t.acccount!==this.props.account,n=!t.contractsInitialized&&this.props.contractsInitialized;(!t.availableStrategies&&this.props.availableStrategies||e||n)&&this.loadBalances()}},{key:"logout",value:function(){var t=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({logout:!0}),this.props.logout(),t.next=4,this.setConnector("Infura");case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"goToSection",value:function(t){this.props.goToSection(t),this.props.closeModal()}},{key:"render",value:function(){var t=this,e="custom"===this.props.connectorName;if(this.props.account){var n=Object.keys(this.props.availableStrategies).length+1,a=this.state.balances&&this.state.balances.map(function(e,a){return h.a.createElement(m.h,{mt:2,width:1,boxShadow:0,key:"balance_"+a,alignItems:"center",flexDirection:"row"},e.map(function(e,a){return h.a.createElement(m.h,{width:1/n,flexDirection:"row",key:"balance_token_"+e,justifyContent:"flex-start"},h.a.createElement(j.a,{token:e,tokenConfig:Object(g.a)({token:e},t.functionsUtil.getGlobalConfig(["stats","tokens",e.toUpperCase()])),fieldInfo:{name:"icon",props:{mr:[1,2],ml:[1,4],width:["1.4em","2em"],height:["1.4em","2em"]}}}),h.a.createElement(j.a,Object.assign({},t.props,{token:e,tokenConfig:{token:e},fieldInfo:{name:"tokenBalance",props:{fontSize:[0,2],fontWeight:500,color:"cellText"}}})))}))});return h.a.createElement(m.p,{isOpen:this.props.isOpen},h.a.createElement(E.a,{closeFunc:this.props.closeModal},h.a.createElement(E.a.Header,{title:"Account overview"}),h.a.createElement(E.a.Body,null,h.a.createElement(m.h,{alignItems:"center",width:["auto","40em"],flexDirection:"column",justifyContent:"center"},h.a.createElement(m.h,{width:1,mb:[2,3],alignItems:"center",flexDirection:"column",maxWidth:["100%","30em"],justifyContent:"stretch"},h.a.createElement(m.f,{width:1,address:this.props.account,className:"light"===this.props.themeMode?M.a.ethInput:M.a.ethInputDark})),h.a.createElement(m.h,{width:1,mb:[2,3],alignItems:"center",flexDirection:"column",maxWidth:["100%","30em"]},h.a.createElement(m.j.h4,{color:"copyColor",textAlign:"center"},"Balances:"),a),!e&&h.a.createElement(m.h,{width:1,mb:[2,3],alignItems:"center",flexDirection:"column",justifyContent:"center"},h.a.createElement(m.j.h4,{mb:2,color:"copyColor",textAlign:"center"},"Tools:"),h.a.createElement(m.h,{width:1,alignItems:"center",justifyContent:"center",flexDirection:["column","row"]},["addFunds","tokenSwap"].map(function(e){var n=t.functionsUtil.getGlobalConfig(["tools",e]);return h.a.createElement(I.a,Object.assign({},t.props,{key:"tool_".concat(e),cardProps:{mx:[0,2],my:[2,0],width:"auto",minWidth:["50%","auto"]},icon:n.icon,text:n.label,handleClick:function(e){return t.goToSection("tools/".concat(n.route))}}))}))))),h.a.createElement(E.a.Footer,null,h.a.createElement(D.a,{buttonText:"Logout wallet",isLoading:this.state.logout,handleClick:Object(r.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.logout();case 2:case"end":return e.stop()}},e,this)})),buttonProps:{className:M.a.gradientButton,borderRadius:"2rem",mt:[4,8],minWidth:["95px","145px"],size:["auto","medium"]}}))))}return null}}]),e}(h.a.Component),B=n(4726),T=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(s)))).state={isModalOpen:null,idleTokenBalance:null,logout:!1},n.idleGovToken=null,n.functionsUtil=null,n.setConnector=function(){var t=Object(r.a)(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.functionsUtil.sendGoogleAnalyticsEvent({eventCategory:"Connect",eventAction:"logout"}),"function"===typeof n.props.setConnector&&n.props.setConnector(e),t.next=4,n.props.context.unsetConnector();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n.toggleModal=function(t){n.setState(function(e){return Object(g.a)({},e,{isModalOpen:e.isModalOpen===t?null:t})})},n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"logout",value:function(){var t=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({logout:!0}),this.props.logout(),t.next=4,this.setConnector("Infura");case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new k.a(this.props),this.idleGovToken=this.functionsUtil.getIdleGovToken()}},{key:"componentWillMount",value:function(){this.loadUtils()}},{key:"componentDidMount",value:function(){var t=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadIdleTokenBalance();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(r.a)(o.a.mark(function t(e,n){var a,r,i,s=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),a=JSON.stringify(e.network.required)!==JSON.stringify(this.props.network.required),r=this.props.accountInizialized&&e.accountInizialized!==this.props.accountInizialized,i=this.props.contractsInitialized&&e.contractsInitialized!==this.props.contractsInitialized,(a||r||i)&&this.loadIdleTokenBalance(),e.account!==this.props.account&&this.setState({isModalOpen:null},function(){s.loadIdleTokenBalance()});case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"loadIdleTokenBalance",value:function(){var t=Object(r.a)(o.a.mark(function t(){var e,n,a,r,i,s,c,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.props.account&&this.props.contractsInitialized){t.next=2;break}return t.abrupt("return",!1);case 2:if(e=this.functionsUtil.getRequiredNetwork(),n=this.functionsUtil.getGlobalConfig(["govTokens","IDLE"]),a=n.enabled&&n.availableNetworks.includes(e.id),r=null,!a){t.next=15;break}return r=this.functionsUtil.BNify(0),t.next=10,Promise.all([this.idleGovToken.getBalance(this.props.account),this.idleGovToken.getUnclaimedTokens(this.props.account)]);case 10:i=t.sent,s=Object(d.a)(i,2),c=s[0],l=s[1],c&&l&&(r=this.functionsUtil.BNify(c).plus(l));case 15:return t.abrupt("return",this.setState({idleTokenBalance:r}));case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.functionsUtil.getStoredItem("walletProvider",!1,null),n=e?this.functionsUtil.getGlobalConfig(["connectors",e.toLowerCase()]):null,a=n&&n.icon?n.icon:e?"".concat(e.toLowerCase(),".svg"):null;return this.props.account?h.a.createElement(m.h,{width:1,mr:[0,5],bg:"cardBg",flexDirection:["column","row"],alignItems:["flex-start","center"]},h.a.createElement(m.h,{px:[2,0],flexDirection:"row",alignItems:"center",width:[1,"fit-content"],justifyContent:"space-between"},this.props.isMobile&&h.a.createElement(m.h,{ml:1,mr:2,width:"12%"},h.a.createElement(m.k,{size:"2.4em",color:"copyColor",onClick:this.props.toggleMenu,name:this.props.menuOpened?"Close":"Menu"})),!this.props.isMobile&&h.a.createElement(m.h,{mx:2,width:"fit-content",alignItems:"center",flexDirection:"row",justifyContent:"space-between"},h.a.createElement(B.a,this.props)),this.props.isMobile&&h.a.createElement(m.h,{width:"87%",justifyContent:"space-between"},h.a.createElement(m.n,{style:{width:"80%",display:"flex",overflow:"hidden",textDecoration:"none"},onClick:function(e){return t.toggleModal("account")}},h.a.createElement(m.h,{p:0,width:"100%",alignItems:"center",flexDirection:"row",justifyContent:["center","flex-start"]},n?h.a.createElement(m.l,{mr:[1,2],width:"2em",height:"2em",display:"inline-flex",alt:e.toLowerCase(),src:"images/connectors/".concat(a)}):h.a.createElement(m.k,{mr:[1,2],size:"2em",color:"copyColor",name:"AccountCircle"}),this.props.isMobile?h.a.createElement(m.u,{fontSize:2,fontWeight:3,color:"copyColor",style:{flex:"1",overflow:"hidden",textOverflow:"ellipsis"}},this.props.account):h.a.createElement(m.h,{pr:3,borderRight:"1px solid ".concat(this.props.theme.colors.divider)},h.a.createElement(w.a,Object.assign({fontSize:2,fontWeight:3},this.props,{color:"copyColor",hash:this.props.account}))))),h.a.createElement(O,Object.assign({flexProps:{p:2},iconProps:{p:1,size:"2.5em"}},this.props)))),!this.props.isMobile&&h.a.createElement(m.h,{pr:[2,0],style:{flex:"1 1 auto"},width:[1,"auto"],alignItems:"center",flexDirection:"row",justifyContent:"flex-end"},h.a.createElement(m.n,{mr:3,style:{textDecoration:"none"},onClick:function(e){return t.toggleModal("account")}},h.a.createElement(m.h,{p:0,width:1,alignItems:"center",flexDirection:"row",justifyContent:["center","flex-start"]},n?h.a.createElement(m.l,{mr:[1,2],width:"2em",height:"2em",display:"inline-flex",alt:e.toLowerCase(),src:"images/connectors/".concat(a)}):h.a.createElement(m.k,{mr:[1,2],size:"2em",color:"copyColor",name:"AccountCircle"}),this.props.isMobile?h.a.createElement(m.u,{mr:2,fontSize:2,fontWeight:3,color:"copyColor",style:{flex:"1",overflow:"hidden",textOverflow:"ellipsis"}},this.props.account):h.a.createElement(m.h,{pr:3,borderRight:"1px solid ".concat(this.props.theme.colors.divider)},h.a.createElement(w.a,Object.assign({fontSize:2,fontWeight:3},this.props,{color:"copyColor",hash:this.props.account}))))),h.a.createElement(m.n,{style:{textDecoration:"none"},onClick:function(e){return t.props.setGovModal(!0)}},h.a.createElement(m.h,{p:0,width:1,alignItems:"center",flexDirection:"row",justifyContent:["center","flex-start"]},h.a.createElement(m.l,{mr:2,width:"1.7em",height:"1.7em",display:"inline-flex",src:"images/tokens/IDLE.svg"}),this.state.idleTokenBalance?h.a.createElement(m.u,{fontWeight:3,fontSize:[1,2],color:"copyColor"},this.state.idleTokenBalance.toFixed(2)," IDLE"):h.a.createElement(m.o,{size:"20px"}))),h.a.createElement(m.h,{ml:3,alignItems:"center",flexDirection:"row",justifyContent:"flex-end"},h.a.createElement(m.n,{style:{textDecoration:"none"},onClick:this.props.account?function(e){return t.logout()}:this.props.connectAndValidateAccount},h.a.createElement(m.h,{p:0,width:1,alignItems:"center",flexDirection:"row",justifyContent:"flex-start",onMouseEnter:function(e){return t.setState({isHover:!0})},onMouseLeave:function(e){return t.setState({isHover:!1})}},h.a.createElement(v.a,{hoverOn:this.state.isHover,noHover:"images/logout.svg",hover:"images/logoutHover.svg",imageProps:{mx:2,width:"24px",height:"24px",display:"inline-flex"}}))),h.a.createElement(O,Object.assign({},this.props,{iconProps:{size:"2.1em"},flexProps:{ml:2}})))),h.a.createElement(N,Object.assign({},this.props,{isOpen:"account"===this.state.isModalOpen,closeModal:function(e){return t.toggleModal("account")}}))):h.a.createElement(m.h,{px:2,width:1,mr:[0,5]},h.a.createElement(m.h,{width:1,alignItems:"center",style:{justifyContent:"flex-start"},justifyContent:["flex-start","flex-end"]},this.props.isMobile&&h.a.createElement(m.h,{mr:2},h.a.createElement(m.k,{size:"2.4em",color:"copyColor",onClick:this.props.toggleMenu,name:this.props.menuOpened?"Close":"Menu"})),!this.props.isMobile&&h.a.createElement(m.h,{width:1,justifyContent:["space-between","flex-start"]},h.a.createElement(B.a,Object.assign({innerProps:{px:1,py:0,width:["100%","auto"],height:["45px","54px"]}},this.props)))),h.a.createElement(m.h,{width:1,flexDirection:"row",alignItems:["center"],justifyContent:"flex-end"},h.a.createElement(b.a,Object.assign({},this.props,{buttonProps:{width:"auto",boxShadow:"none",style:{display:"flex",justifyContent:"flex-start"}},handleClick:this.props.account?function(e){return t.logout()}:this.props.connectAndValidateAccount}),h.a.createElement(m.h,{mr:2,width:1,alignItems:"center",justifyContent:"flex-start"},h.a.createElement(m.l,{ml:0,pl:0,mr:[2,3],align:"center",height:"1.4em",src:"images/sidebar/plug_white.svg"}),h.a.createElement(m.u,{pr:1,mr:2,fontWeight:3,color:"white",fontSize:[2],alignContent:"center",justifyContent:"center"},"Connect to Idle"))),h.a.createElement(O,Object.assign({},this.props,{iconProps:{size:"2.2em"},flexProps:{ml:2}}))))}}]),e}(f.Component),P=n(173),_=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(s)))).state={total:null,balance:null,txStatus:null,unclaimed:null,processing:{txHash:null,loading:!1}},n.functionsUtil=null,n.idleGovToken=null,n.loadTokenInfo=Object(r.a)(o.a.mark(function t(){var e,a,r,i,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.idleGovToken.getBalance(n.props.account),n.idleGovToken.getUnclaimedTokens(n.props.account)]);case 2:e=t.sent,a=Object(d.a)(e,2),r=a[0],i=a[1],s=n.functionsUtil.BNify(0),r&&i&&(s=n.functionsUtil.BNify(r).plus(i)),n.setState({total:s,balance:r,unclaimed:i});case 9:case"end":return t.stop()}},t,this)})),n.claim=Object(r.a)(o.a.mark(function t(){var e,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=function(t,e){var a={eventAction:"claim",eventCategory:"Governance",eventLabel:t.status?t.status:e};e&&(a.eventLabel=n.functionsUtil.getTransactionError(e)),(e||"error"!==a.status)&&n.functionsUtil.sendGoogleAnalyticsEvent(a);var o={processing:{txHash:null,loading:!1},txStatus:t.status?t.status:"error"};"success"===t.status&&(o.balance=n.state.unclaimed,o.unclaimed=n.functionsUtil.BNify(0),"function"===typeof n.props.claimCallback&&n.props.claimCallback()),n.setState(o)},a=function(t){var e=t.transactionHash;n.setState(function(t){return{processing:Object(g.a)({},t.processing,{txHash:e})}})},n.idleGovToken.claimRewards(e,a),n.setState(function(t){return{processing:Object(g.a)({},t.processing,{loading:!0})}});case 4:case"end":return t.stop()}},t,this)})),n.closeModal=function(){var t=Object(r.a)(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.props.closeModal();case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new k.a(this.props),this.idleGovToken=this.functionsUtil.getIdleGovToken()}},{key:"componentWillMount",value:function(){this.loadUtils(),this.loadTokenInfo()}},{key:"componentDidMount",value:function(){this.loadUtils()}},{key:"componentDidUpdate",value:function(t,e){this.loadUtils();var n=t.account!==this.props.account,a=JSON.stringify(t.network.required)!==JSON.stringify(this.props.network.required),o=this.props.contractsInitialized&&t.contractsInitialized!==this.props.contractsInitialized;(n||a||o)&&this.loadTokenInfo()}},{key:"cancelTransaction",value:function(){var t=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({txStatus:null,processing:{txHash:null,loading:!1}});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.functionsUtil.getRequiredNetworkId(),e=this.functionsUtil.getGlobalConfig(["governance"]),n=e.enabled&&e.availableNetworks.includes(t);return h.a.createElement(m.p,{isOpen:this.props.isOpen},h.a.createElement(E.a,{bgLayer:!0,mainColor:"white",maxWidth:["auto","420px"],closeFunc:this.props.closeModal,background:"radial-gradient(76.02% 75.41% at 1.84% 0%, rgb(162, 196, 246) 0%, rgb(10, 79, 176) 100%)"},h.a.createElement(E.a.Header,{pt:3,titleProps:{color:"white"},title:"Your IDLE balance",borderBottom:"1px solid rgba(255,255,255,0.2)"}),h.a.createElement(E.a.Body,{px:3},h.a.createElement(m.h,{width:1,alignItems:"center",flexDirection:"column",justifyContent:"center"},h.a.createElement(m.l,{mt:2,width:"3em",height:"3em",src:"images/tokens/IDLE.svg"}),h.a.createElement(m.u,{mt:2,fontSize:7,color:"white",fontWeight:500},this.state.total?this.state.total.toFixed(2):"-"),h.a.createElement(m.u,{mb:2,fontSize:3,color:"white",fontWeight:400,textAlign:"center"},this.state.unclaimed&&this.state.unclaimed.gt(0)?"You can now claim your IDLE tokens from the Early LPs Program!":"You don't have any IDLE to claim from the Early LPs Program"),h.a.createElement(m.h,{pb:2,mb:3,width:1,flexDirection:"column",borderBottom:"1px solid rgba(255,255,255,0.2)"},h.a.createElement(m.h,{mb:2,width:1,flexDirection:"row",justifyContent:"space-between"},h.a.createElement(m.u,{color:"white",fontWeight:500},"Balance:"),h.a.createElement(m.u,{color:"white",fontWeight:500},this.state.balance?this.state.balance.toFixed(4):"-")),h.a.createElement(m.h,{width:1,flexDirection:"row",justifyContent:"space-between"},h.a.createElement(m.u,{color:"white",fontWeight:500},"Unclaimed:"),h.a.createElement(m.u,{color:"white",fontWeight:500},this.state.unclaimed?this.state.unclaimed.toFixed(4):"-")),n&&h.a.createElement(m.n,{href:"/#".concat(this.functionsUtil.getGlobalConfig(["governance","baseRoute"]))},h.a.createElement(m.h,{zIndex:10,position:"relative",alignItems:"center",flexDirection:"row",justifyContent:"center"},h.a.createElement(m.u,{fontSize:2,color:"white",fontWeight:400},"Go to governance"),h.a.createElement(m.k,{ml:1,size:"1em",color:"white",name:"OpenInNew"})))),h.a.createElement(m.h,{mb:3,width:1,zIndex:10,position:"relative",alignItems:"center",justifyContent:"center"},this.state.unclaimed&&this.state.unclaimed.gt(0)?this.state.processing&&this.state.processing.loading?h.a.createElement(P.a,Object.assign({},this.props,{textColor:"white",cancelTextColor:"moon-gray",cancelTextHoverColor:"white",waitText:"Claim estimated in",hash:this.state.processing.txHash,endMessage:"Finalizing Claim request...",cancelTransaction:this.cancelTransaction.bind(this)})):h.a.createElement(b.a,{buttonProps:{color:"blue",width:[1,"45%"],mainColor:"white",contrastColor:"blue",disabled:!this.state.unclaimed||this.state.unclaimed.lte(0)},handleClick:this.claim.bind(this)},"Claim"):h.a.createElement(b.a,{buttonProps:{color:"blue",width:[1,"45%"],mainColor:"white",contrastColor:"blue"},handleClick:this.closeModal.bind(this)},"Close"))))))}}]),e}(h.a.Component),G=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(n=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(s)))).state={unclaimed:null,vestingAmount:null,govModalOpened:!1},n.idleGovToken=null,n.functionsUtil=null,n.governanceUtil=null,n.setConnector=function(){var t=Object(r.a)(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.functionsUtil.sendGoogleAnalyticsEvent({eventAction:"logout",eventCategory:"Connect"}),"function"===typeof n.props.setConnector&&n.props.setConnector(e),t.next=4,n.props.context.setConnector(e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"loadUtils",value:function(){this.governanceUtil?this.governanceUtil.setProps(this.props):this.governanceUtil=new C.a(this.props),this.functionsUtil=this.governanceUtil.functionsUtil,this.idleGovToken=this.functionsUtil.getIdleGovToken()}},{key:"componentWillMount",value:function(){var t=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),this.loadData();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(r.a)(o.a.mark(function t(e,n){var a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loadUtils(),a=e.account!==this.props.account,r=JSON.stringify(e.network.required)!==JSON.stringify(this.props.network.required),!a&&!r){t.next=6;break}return t.next=6,this.loadData();case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"loadData",value:function(){var t=Object(r.a)(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.functionsUtil.getGlobalConfig(["govTokens","IDLE","enabled"])||!this.props.account){t.next=6;break}return t.next=4,this.idleGovToken.getUnclaimedTokens(this.props.account);case 4:e=t.sent,this.setState({unclaimed:e});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"exit",value:function(){var t=Object(r.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.props.goToSection("/",!1);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setGovModal",value:function(t){this.setState({govModalOpened:t})}},{key:"render",value:function(){var t=this;return h.a.createElement(m.b,null,h.a.createElement(m.h,{py:2,width:1,bg:"cardBg",flexDirection:"row",justifyContent:"space-between",alignItems:["flex-end","center"],borderBottom:"1px solid ".concat(this.props.theme.colors.menuRightBorder)},h.a.createElement(T,Object.assign({width:1},this.props,{setGovModal:this.setGovModal.bind(this),goToSection:this.props.goToSection.bind(this)}))),this.state.unclaimed&&this.state.unclaimed.gt(0)&&h.a.createElement(U.a,{cardProps:{p:2,mt:3,width:1},isActive:!0,isInteractive:!1},h.a.createElement(m.h,{alignItems:"center",justifyContent:"center",flexDirection:["column","row"]},h.a.createElement(m.u,{fontWeight:500,fontSize:"15px",color:"flashColor",textAlign:"center"},"IDLE Governance Token is now available,",h.a.createElement(p.a,{ml:1,fontWeight:500,color:"primary",fontSize:"15px",hoverColor:"primary",href:"https://idlefinance.medium.com/idle-governance-is-live-9b55e8f407d7"},"discover more"),"! You have ",this.state.unclaimed.toFixed(4)," IDLE tokens to claim."),h.a.createElement(m.c,{ml:[0,2],mt:[2,0],size:"small",mainColor:"blue",onClick:function(e){return t.setGovModal(!0)}},"CLAIM NOW"))),h.a.createElement(_,Object.assign({},this.props,{isOpen:this.state.govModalOpened,claimCallback:this.loadData.bind(this),closeModal:function(e){return t.setGovModal(!1)}})))}}]),e}(f.Component);e.a=G},4799:function(t,e,n){t.exports={bell:"Notifications_bell__5m9tk",ring:"Notifications_ring__1ir3w",counter:"Notifications_counter__3EbuS",list:"Notifications_list__2pkAk",notification:"Notifications_notification__TMlFX",dark:"Notifications_dark__14hO4"}},4812:function(t){t.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"idle_","type":"address"},{"internalType":"address","name":"recipient_","type":"address"},{"internalType":"uint256","name":"vestingAmount_","type":"uint256"},{"internalType":"uint256","name":"vestingBegin_","type":"uint256"},{"internalType":"uint256","name":"vestingCliff_","type":"uint256"},{"internalType":"uint256","name":"vestingEnd_","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"idle","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"lastUpdate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"recipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"vestingAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"vestingBegin","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"vestingCliff","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"vestingEnd","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"recipient_","type":"address"}],"name":"setRecipient","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"delegatee","type":"address"}],"name":"setDelegate","outputs":[],"stateMutability":"nonpayable","type":"function"}]')}}]);
//# sourceMappingURL=1.7c6a038d.chunk.js.map